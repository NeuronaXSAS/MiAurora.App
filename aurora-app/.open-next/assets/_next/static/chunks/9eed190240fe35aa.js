(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},10708,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(47163);let r=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("label",{ref:r,className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));r.displayName="Label",e.s(["Label",()=>r])},43432,e=>{"use strict";let s=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>s],43432)},54650,e=>{"use strict";var s=e.i(43476),t=e.i(932),a=e.i(71645);e.i(50711);var r=e.i(82045),n=e.i(83394),i=e.i(70065),l=e.i(67881),c=e.i(23750),d=e.i(10708),o=e.i(78894),m=e.i(7233),h=e.i(27612),x=e.i(43432),p=e.i(84614),y=e.i(98919);let u=(0,e.i(75254).default)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var j=e.i(59975);function g(){let e,g,N,v,f,w,C,k,_,S,A,M,T,P,F,B,L,E,U,I,H,O,R,V,z,D=(0,t.c)(60),K=(0,r.useQuery)(n.api.emergency.getEmergencyContacts),Q=(0,r.useQuery)(n.api.emergency.getMyEmergencyAlerts),W=(0,r.useMutation)(n.api.emergency.saveEmergencyContact),G=(0,r.useMutation)(n.api.emergency.deleteEmergencyContact),[J,$]=(0,a.useState)(!1),[q,X]=(0,a.useState)(!1);D[0]===Symbol.for("react.memo_cache_sentinel")?(e={name:"",phoneNumber:"",relationship:"",priority:1},D[0]=e):e=D[0];let[Y,Z]=(0,a.useState)(e);D[1]!==Y||D[2]!==W?(g=async()=>{if(!Y.name||!Y.phoneNumber)return void alert("Please fill in name and phone number");try{await W(Y),Z({name:"",phoneNumber:"",relationship:"",priority:1}),$(!1)}catch(e){alert(e.message)}},D[1]=Y,D[2]=W,D[3]=g):g=D[3];let ee=g;D[4]!==G?(N=async e=>{confirm("Are you sure you want to remove this emergency contact?")&&await G({contactId:e})},D[4]=G,D[5]=N):N=D[5];let es=N;D[6]===Symbol.for("react.memo_cache_sentinel")?(v=(0,s.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white",children:(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(y.Shield,{className:"w-8 h-8"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Aurora Guardian"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-red-100",children:"Emergency Safety System"})]})]})})}),D[6]=v):v=D[6],D[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(u,{className:"w-5 h-5 text-yellow-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-yellow-900",children:"Test Mode"}),(0,s.jsx)("p",{className:"text-sm text-yellow-700",children:"Practice using the panic button without sending real alerts"})]})]}),D[7]=f):f=D[7];let et=q?"default":"outline";D[8]!==q?(w=()=>X(!q),D[8]=q,D[9]=w):w=D[9];let ea=q?"bg-yellow-600 hover:bg-yellow-700":"",er=q?"ON":"OFF";return D[10]!==et||D[11]!==w||D[12]!==ea||D[13]!==er?(C=(0,s.jsx)(i.Card,{className:"mb-6 border-yellow-400 bg-yellow-50",children:(0,s.jsx)(i.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[f,(0,s.jsx)(l.Button,{variant:et,onClick:w,className:ea,children:er})]})})}),D[10]=et,D[11]=w,D[12]=ea,D[13]=er,D[14]=C):C=D[14],D[15]===Symbol.for("react.memo_cache_sentinel")?(k=(0,s.jsx)("span",{children:"Emergency Contacts"}),D[15]=k):k=D[15],D[16]!==K||D[17]!==J?(_=K&&K.length<5&&(0,s.jsxs)(l.Button,{size:"sm",onClick:()=>$(!0),disabled:J,children:[(0,s.jsx)(m.Plus,{className:"w-4 h-4 mr-2"}),"Add Contact"]}),D[16]=K,D[17]=J,D[18]=_):_=D[18],D[19]!==_?(S=(0,s.jsx)(i.CardHeader,{children:(0,s.jsxs)(i.CardTitle,{className:"flex items-center justify-between",children:[k,_]})}),D[19]=_,D[20]=S):S=D[20],D[21]===Symbol.for("react.memo_cache_sentinel")?(A=(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Add up to 5 emergency contacts who will be notified when you trigger an alert. They will receive WhatsApp messages with your location."}),D[21]=A):A=D[21],D[22]!==ee||D[23]!==J||D[24]!==Y?(M=J&&(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"name",children:"Name *"}),(0,s.jsx)(c.Input,{id:"name",value:Y.name,onChange:e=>Z({...Y,name:e.target.value}),placeholder:"John Doe"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"phone",children:"WhatsApp Number *"}),(0,s.jsx)(c.Input,{id:"phone",type:"tel",value:Y.phoneNumber,onChange:e=>Z({...Y,phoneNumber:e.target.value}),placeholder:"+1234567890"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"relationship",children:"Relationship"}),(0,s.jsx)(c.Input,{id:"relationship",value:Y.relationship,onChange:e=>Z({...Y,relationship:e.target.value}),placeholder:"Friend, Family, Partner, etc."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"priority",children:"Priority (1-5)"}),(0,s.jsx)(c.Input,{id:"priority",type:"number",min:"1",max:"5",value:Y.priority,onChange:e=>Z({...Y,priority:parseInt(e.target.value)||1})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers are notified first"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.Button,{onClick:ee,className:"flex-1",children:"Save Contact"}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>{$(!1),Z({name:"",phoneNumber:"",relationship:"",priority:1})},children:"Cancel"})]})]}),D[22]=ee,D[23]=J,D[24]=Y,D[25]=M):M=D[25],D[26]!==K||D[27]!==J?(T=K&&0===K.length&&!J&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(p.User,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,s.jsx)("p",{children:"No emergency contacts added yet"}),(0,s.jsx)("p",{className:"text-sm",children:"Add contacts to enable emergency alerts"})]}),D[26]=K,D[27]=J,D[28]=T):T=D[28],D[29]!==K||D[30]!==es?(P=K?.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,s.jsx)(p.User,{className:"w-5 h-5 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(x.Phone,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:e.phoneNumber}),e.relationship&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{children:e.relationship})]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Priority: ",e.priority]})]})]}),(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>es(e._id),children:(0,s.jsx)(h.Trash2,{className:"w-4 h-4 text-red-600"})})]},e._id)),D[29]=K,D[30]=es,D[31]=P):P=D[31],D[32]!==P?(F=(0,s.jsx)("div",{className:"space-y-3",children:P}),D[32]=P,D[33]=F):F=D[33],D[34]!==M||D[35]!==T||D[36]!==F?(B=(0,s.jsxs)(i.CardContent,{children:[A,M,T,F]}),D[34]=M,D[35]=T,D[36]=F,D[37]=B):B=D[37],D[38]!==S||D[39]!==B?(L=(0,s.jsxs)(i.Card,{className:"mb-6",children:[S,B]}),D[38]=S,D[39]=B,D[40]=L):L=D[40],D[41]===Symbol.for("react.memo_cache_sentinel")?(E=(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{children:"Alert History"})}),D[41]=E):E=D[41],D[42]!==Q?(U=Q&&0===Q.length&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(o.AlertTriangle,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,s.jsx)("p",{children:"No emergency alerts triggered"})]}),D[42]=Q,D[43]=U):U=D[43],D[44]!==Q?(I=Q?.map(b),D[44]=Q,D[45]=I):I=D[45],D[46]!==I?(H=(0,s.jsx)("div",{className:"space-y-3",children:I}),D[46]=I,D[47]=H):H=D[47],D[48]!==U||D[49]!==H?(O=(0,s.jsxs)(i.Card,{children:[E,(0,s.jsxs)(i.CardContent,{children:[U,H]})]}),D[48]=U,D[49]=H,D[50]=O):O=D[50],D[51]!==L||D[52]!==O||D[53]!==C?(R=(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-4xl",children:[C,L,O]}),D[51]=L,D[52]=O,D[53]=C,D[54]=R):R=D[54],D[55]!==q?(V=(0,s.jsx)(j.PanicButton,{testMode:q}),D[55]=q,D[56]=V):V=D[56],D[57]!==R||D[58]!==V?(z=(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-24",children:[v,R,V]}),D[57]=R,D[58]=V,D[59]=z):z=D[59],z}function b(e){return(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${"active"===e.status?"bg-red-100 text-red-700":"resolved"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status.toUpperCase()}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:e.alertType})]}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e._creationTime).toLocaleString()})]}),e.location.address&&(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["ðŸ“ ",e.location.address]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.notifiedContacts.length," contacts notified â€¢"," ",e.nearbyUsersNotified," nearby users alerted"]}),e.notes&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic",children:e.notes})]},e._id)}e.s(["default",()=>g],54650)}]);