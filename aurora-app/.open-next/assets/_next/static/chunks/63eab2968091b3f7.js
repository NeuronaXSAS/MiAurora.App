(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},42009,e=>{"use strict";let t=(0,e.i(75254).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>t],42009)},52571,e=>{"use strict";let t=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],52571)},91159,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(71645);e.i(50711);var l=e.i(82045),r=e.i(83394),i=e.i(70065),n=e.i(67881),c=e.i(94179),d=e.i(75822),m=e.i(25652);let o=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var x=e.i(40160),h=e.i(87316),p=e.i(42009),u=e.i(52571),j=e.i(94913);function y(){let e,c,m,o,j,y,v,w,k,C,T,S,_,B,L,E,R,U,M,A,O,z,D,H,I,$,Q,Y,K=(0,s.c)(59),[P,V]=(0,a.useState)(null),[q,F]=(0,a.useState)(void 0);K[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId&&V(t.userId)}catch(e){console.error("Error getting user:",e)}})()},c=[],K[0]=e,K[1]=c):(e=K[0],c=K[1]),(0,a.useEffect)(e,c),K[2]!==P?(m=P?{userId:P}:"skip",K[2]=P,K[3]=m):m=K[3];let G=(0,l.useQuery)(r.api.credits.getCreditStats,m);K[4]!==q||K[5]!==P?(o=P?{userId:P,limit:100,type:q}:"skip",K[4]=q,K[5]=P,K[6]=o):o=K[6];let J=(0,l.useQuery)(r.api.credits.getTransactionHistory,o);K[7]!==P?(j=P?{userId:P}:"skip",K[7]=P,K[8]=j):j=K[8];let W=(0,l.useQuery)(r.api.credits.exportTransactions,j);K[9]!==W?(y=()=>{if(!W)return;let e=new Blob([[["Date","Type","Amount","Description"],...W.map(N)].map(b).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`aurora-credits-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},K[9]=W,K[10]=y):y=K[10];let X=y;K[11]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(d.Coins,{className:"w-8 h-8"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Credit Center"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-purple-100",children:"Track your earnings and spending"})]})]}),K[11]=v):v=K[11],K[12]!==G?(w=G&&(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Current Balance"}),(0,t.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:G.currentBalance})]}),(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Total Earned"}),(0,t.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-green-300",children:["+",G.totalEarned]})]}),(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Total Spent"}),(0,t.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-red-300",children:["-",G.totalSpent]})]}),(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"This Month"}),(0,t.jsxs)("p",{className:"text-xl sm:text-2xl font-bold",children:[G.monthlyEarned,"/",G.monthlyLimit]})]})]}),K[12]=G,K[13]=w):w=K[13],K[14]!==w?(k=(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[v,w]})}),K[14]=w,K[15]=k):k=K[15],K[16]!==G?(C=G&&(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(u.Info,{className:"w-6 h-6 text-purple-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Monthly Credit Limit"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["You can earn up to ",G.monthlyLimit," credits per month. You have ",G.monthlyRemaining," credits remaining this month."]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Calendar,{className:"w-4 h-4 text-gray-500"}),(0,t.jsxs)("span",{children:["Resets in ",G.daysUntilReset," day",1!==G.daysUntilReset?"s":""]})]}),(0,t.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${G.monthlyEarned/G.monthlyLimit*100}%`}})})]})]})]})})}),K[16]=G,K[17]=C):C=K[17],K[18]!==G?(T=G&&(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Award,{className:"w-5 h-5"}),"How You Earn Credits"]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(G.earnedByType).map(f)})})]}),K[18]=G,K[19]=T):T=K[19],K[20]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)(i.CardTitle,{children:"Transaction History"}),K[20]=S):S=K[20];let Z=!W;K[21]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)(x.Download,{className:"w-4 h-4 mr-2"}),K[21]=_):_=K[21],K[22]!==X||K[23]!==Z?(B=(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[S,(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:X,disabled:Z,children:[_,"Export CSV"]})]})}),K[22]=X,K[23]=Z,K[24]=B):B=K[24];let ee=void 0===q?"default":"outline";K[25]===Symbol.for("react.memo_cache_sentinel")?(L=()=>F(void 0),K[25]=L):L=K[25],K[26]!==ee?(E=(0,t.jsx)(n.Button,{variant:ee,size:"sm",onClick:L,children:"All"}),K[26]=ee,K[27]=E):E=K[27];let et="earned"===q?"default":"outline";K[28]===Symbol.for("react.memo_cache_sentinel")?(R=()=>F("earned"),K[28]=R):R=K[28],K[29]!==et?(U=(0,t.jsx)(n.Button,{variant:et,size:"sm",onClick:R,children:"Earned"}),K[29]=et,K[30]=U):U=K[30];let es="spent"===q?"default":"outline";return K[31]===Symbol.for("react.memo_cache_sentinel")?(M=()=>F("spent"),K[31]=M):M=K[31],K[32]!==es?(A=(0,t.jsx)(n.Button,{variant:es,size:"sm",onClick:M,children:"Spent"}),K[32]=es,K[33]=A):A=K[33],K[34]!==E||K[35]!==U||K[36]!==A?(O=(0,t.jsxs)("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[E,U,A]}),K[34]=E,K[35]=U,K[36]=A,K[37]=O):O=K[37],K[38]!==J?(z=!J&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading transactions..."})]}),K[38]=J,K[39]=z):z=K[39],K[40]!==J?(D=J&&0===J.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(d.Coins,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No transactions yet"})]}),K[40]=J,K[41]=D):D=K[41],K[42]!==J?(H=J&&J.length>0&&(0,t.jsx)("div",{className:"space-y-2",children:J.map(g)}),K[42]=J,K[43]=H):H=K[43],K[44]!==O||K[45]!==z||K[46]!==D||K[47]!==H?(I=(0,t.jsxs)(i.CardContent,{children:[O,z,D,H]}),K[44]=O,K[45]=z,K[46]=D,K[47]=H,K[48]=I):I=K[48],K[49]!==B||K[50]!==I?($=(0,t.jsxs)(i.Card,{children:[B,I]}),K[49]=B,K[50]=I,K[51]=$):$=K[51],K[52]!==T||K[53]!==$||K[54]!==C?(Q=(0,t.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[C,T,$]})}),K[52]=T,K[53]=$,K[54]=C,K[55]=Q):Q=K[55],K[56]!==Q||K[57]!==k?(Y=(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[k,Q]}),K[56]=Q,K[57]=k,K[58]=Y):Y=K[58],Y}function g(e){return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${e.amount>0?"bg-green-100":"bg-red-100"}`,children:e.amount>0?(0,t.jsx)(m.TrendingUp,{className:"w-5 h-5 text-green-600"}):(0,t.jsx)(o,{className:"w-5 h-5 text-red-600"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium truncate",children:e.formattedType}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:(0,j.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]})]}),(0,t.jsx)("div",{className:"text-right flex-shrink-0 ml-4",children:(0,t.jsxs)("p",{className:`font-bold ${e.amount>0?"text-green-600":"text-red-600"}`,children:[e.amount>0?"+":"",e.amount]})})]},e._id)}function f(e){let[s,a]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm font-medium capitalize",children:s.replace(/_/g," ")}),(0,t.jsxs)(c.Badge,{className:"bg-green-100 text-green-700",children:["+",a]})]},s)}function b(e){return e.join(",")}function N(e){return[e.date,e.type,e.amount,e.description]}e.s(["default",()=>y],91159)}]);