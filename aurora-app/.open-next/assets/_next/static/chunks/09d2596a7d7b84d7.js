(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},9835,e=>{"use strict";let t="offline-routes";function r(e,t,r,n){let a=e*Math.PI/180,o=r*Math.PI/180,s=(r-e)*Math.PI/180,i=(n-t)*Math.PI/180,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(a)*Math.cos(o)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371e3}async function n(e,r){let n=await new Promise((e,r)=>{let n=indexedDB.open("aurora-routes",1);n.onerror=()=>r(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=e=>{let r=e.target.result;r.objectStoreNames.contains(t)||r.createObjectStore(t,{keyPath:"id",autoIncrement:!0})}}),a=n.transaction([t],"readwrite").objectStore(t);await new Promise((t,n)=>{let o=a.put({routeId:e,coordinates:r,timestamp:Date.now()});o.onsuccess=()=>t(),o.onerror=()=>n(o.error)}),n.close()}class a{watchId=null;state={isTracking:!1,isPaused:!1,coordinates:[],stats:{distance:0,duration:0,pace:0,elevationGain:0},startTime:null,pausedTime:0};lastSampleTime=0;lastSamplePosition=null;onUpdate=null;onError=null;start(e,t){this.state.isTracking||(this.onUpdate=e,this.onError=t||null,this.state.isTracking=!0,this.state.isPaused=!1,this.state.startTime=Date.now(),this.lastSampleTime=Date.now(),"geolocation"in navigator?this.watchId=navigator.geolocation.watchPosition(e=>this.handlePosition(e),e=>this.handleError(e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):this.handleError({code:0,message:"Geolocation not supported"}))}pause(){this.state.isTracking&&!this.state.isPaused&&(this.state.isPaused=!0,this.notifyUpdate())}resume(){this.state.isTracking&&this.state.isPaused&&(this.state.isPaused=!1,this.state.pausedTime+=Date.now()-(this.lastSampleTime||Date.now()),this.lastSampleTime=Date.now(),this.notifyUpdate())}stop(){return null!==this.watchId&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null),this.state.isTracking=!1,this.state.isPaused=!1,this.state.startTime&&(this.state.stats.duration=Math.floor((Date.now()-this.state.startTime-this.state.pausedTime)/1e3)),{...this.state}}getState(){return{...this.state}}handlePosition(e){if(!this.state.isTracking||this.state.isPaused)return;let t={lat:e.coords.latitude,lng:e.coords.longitude,timestamp:e.timestamp,elevation:e.coords.altitude||void 0};this.shouldSample(t)&&(this.state.coordinates.push(t),this.lastSamplePosition=t,this.lastSampleTime=Date.now(),this.updateStats(),this.notifyUpdate(),this.state.coordinates.length%10==0&&this.saveToOfflineStorage())}shouldSample(e){return!!(!this.lastSamplePosition||Date.now()-this.lastSampleTime>=5e3||r(this.lastSamplePosition.lat,this.lastSamplePosition.lng,e.lat,e.lng)>=10)}updateStats(){this.state.stats.distance=function(e){if(e.length<2)return 0;let t=0;for(let n=1;n<e.length;n++)t+=r(e[n-1].lat,e[n-1].lng,e[n].lat,e[n].lng);return t}(this.state.coordinates),this.state.stats.elevationGain=function(e){if(e.length<2)return 0;let t=0;for(let r=1;r<e.length;r++){let n=e[r-1].elevation||0,a=e[r].elevation||0;a>n&&(t+=a-n)}return t}(this.state.coordinates),this.state.startTime&&(this.state.stats.duration=Math.floor((Date.now()-this.state.startTime-this.state.pausedTime)/1e3)),this.state.stats.distance>0&&this.state.stats.duration>0&&(this.state.stats.pace=this.state.stats.duration/60/(this.state.stats.distance/1e3))}handleError(e){console.error("GPS Error:",e),this.onError&&this.onError(e)}notifyUpdate(){this.onUpdate&&this.onUpdate({...this.state})}async saveToOfflineStorage(){try{await n("current",this.state.coordinates)}catch(e){console.error("Failed to save offline route:",e)}}}function o(e){let t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%60;return t>0?`${t}:${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:`${r}:${n.toString().padStart(2,"0")}`}function s(e){return e>=1e3?`${(e/1e3).toFixed(2)} km`:`${Math.round(e)} m`}function i(e){if(!isFinite(e)||0===e)return"--:--";let t=Math.floor(e),r=Math.round((e-t)*60);return`${t}:${r.toString().padStart(2,"0")}`}e.s(["GPSTracker",()=>a,"formatDistance",()=>s,"formatDuration",()=>o,"formatPace",()=>i])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},34858,e=>{"use strict";let t=(0,e.i(75254).default)("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);e.s(["Navigation",()=>t],34858)},50308,44242,74783,e=>{"use strict";var t=e.i(71645);let r=t.createContext(null);var n=e.i(47167);function a(){}let o=new Set(["_calcMatrices","_calcFogMatrices","_updateCameraState","_updateSeaLevelZoom"]),s=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function i(e){if(!e)return null;if("string"==typeof e||("toJS"in e&&(e=e.toJS()),!e.layers))return e;let t={};for(let r of e.layers)t[r.id]=r;let r=e.layers.map(e=>{let r=null;"interactive"in e&&(r=Object.assign({},e),delete r.interactive);let n=t[e.ref];if(n)for(let t of(r=r||Object.assign({},e),delete r.ref,s))t in n&&(r[t]=n[t]);return r||e});return{...e,layers:r}}function l(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n of r)if(!t.hasOwnProperty(n)||!l(e[n],t[n]))return!1;return!0}return!1}let u={version:8,sources:{},layers:[]},c={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},d={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},h={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},m=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],p=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class f{constructor(e,t,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{let t=this.props[h[e.type]];t?t(e):"error"===e.type&&console.error(e.error)},this._onPointerEvent=e=>{("mousemove"===e.type||"mouseout"===e.type)&&this._updateHover(e);let t=this.props[c[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){let r=this.props[d[e.type]],n=this._proxyTransform;if(r){var t;e.viewState={longitude:(t=n.$proposedTransform??n).center.lng,latitude:t.center.lat,zoom:t._seaLevelZoom??t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding,elevation:t._centerAltitude},r(e)}"moveend"===e.type&&(n.$proposedTransform=null)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(r)}get map(){return this._map}get transform(){return this._map.transform}setProps(e){let t=this.props;this.props=e;let r=this._updateSettings(e,t);r&&this._createProxyTransform(this._map);let n=this._updateSize(e),a=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(r||n||a&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){let r=f.savedMaps.pop();if(!r)return null;let n=r.map,a=n.getContainer();for(t.className=a.className;a.childNodes.length>0;)t.appendChild(a.childNodes[0]);n._container=t,r.setProps({...e,styleDiffing:!1}),n.resize();let{initialViewState:o}=e;return o&&(o.bounds?n.fitBounds(o.bounds,{...o.fitBoundsOptions,duration:0}):r._updateViewState(o,!1)),n.isStyleLoaded()?n.fire("load"):n.once("styledata",()=>n.fire("load")),n._update(),r}_initialize(e){let{props:t}=this,{mapStyle:r=u}=t,a={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||function(){let e=null;if("undefined"!=typeof location){let t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||n.default.env.MapboxAccessToken}catch{}try{e=e||n.default.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}()||null,container:e,style:i(r)},o=a.initialViewState||a.viewState||a;if(Object.assign(a,{center:[o.longitude||0,o.latitude||0],zoom:o.zoom||0,pitch:o.pitch||0,bearing:o.bearing||0}),t.gl){let e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}let s=new this._MapClass(a);o.padding&&s.setPadding(o.padding),t.cursor&&(s.getCanvas().style.cursor=t.cursor),this._createProxyTransform(s);let l=s._render;s._render=e=>{this._inRender=!0,l.call(s,e),this._inRender=!1};let m=s._renderTaskQueue.run;s._renderTaskQueue.run=e=>{this._proxyTransform.$internalUpdate=!0,m.call(s._renderTaskQueue,e),this._proxyTransform.$internalUpdate=!1,this._fireDefferedEvents()};let p=s.jumpTo;s.jumpTo=(...e)=>(this._proxyTransform.$internalUpdate=!0,p.apply(s,e),this._proxyTransform.$internalUpdate=!1,s);let f=s.fire;for(let e in s.fire=this._fireEvent.bind(this,f),s.on("styledata",()=>{this._updateStyleComponents(this.props,{})}),s.on("sourcedata",()=>{this._updateStyleComponents(this.props,{})}),c)s.on(e,this._onPointerEvent);for(let e in d)s.on(e,this._onCameraEvent);for(let e in h)s.on(e,this._onEvent);this._map=s}recycle(){let e=this.map.getContainer().querySelector("[mapboxgl-children]");e?.remove(),f.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){let e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createProxyTransform(e){var t;let r,n,s,i=(t=e.transform,r=!1,n={},s=null,new Proxy(t,{get(e,a){var i;return"$reactViewState"===a?n:"$proposedTransform"===a?s:"$internalUpdate"===a?r:"_setZoom"===a?e=>{r&&s?.[a](e),Number.isFinite(n.zoom)||t[a](e)}:(r&&"_translateCameraConstrained"===a&&(Number.isFinite((i=n).longitude)||Number.isFinite(i.latitude)||Number.isFinite(i.zoom)||Number.isFinite(i.pitch)||Number.isFinite(i.bearing))&&(s=s||t.clone()),o.has(a))?function(...e){s?.[a](...e),t[a](...e)}:r&&s?s[a]:t[a]},set(e,o,i){if("$reactViewState"===o)return!function(e,t){let r=e._constrain,n=e._calcMatrices;if(e._constrain=a,e._calcMatrices=a,Number.isFinite(t.bearing)&&(e.bearing=t.bearing),Number.isFinite(t.pitch)&&(e.pitch=t.pitch),t.padding&&!e.isPaddingEqual(t.padding)&&(e.padding=t.padding),Number.isFinite(t.longitude)||Number.isFinite(t.latitude)){let r=e.center;e._center=new r.constructor(t.longitude??r.lng,t.latitude??r.lat)}if(Number.isFinite(t.zoom))if(e._centerAltitude=t.elevation??0,e.elevation){e._seaLevelZoom=t.zoom;let r=e.pixelsPerMeter/e.worldSize*e._centerAltitude,n=Math.max(e._mercatorZfromZoom(t.zoom)-r,e._mercatorZfromZoom(e._maxZoom));e._setZoom(e._zoomFromMercatorZ(n))}else e._seaLevelZoom=null,e.zoom=t.zoom;e._constrain=r,e._calcMatrices=n,e._unmodified||(e._constrain(),e._calcMatrices())}(t,n=i),!0;if("$proposedTransform"===o)return s=i,!0;if("$internalUpdate"===o)return r=i,!0;let l=i;return"center"===o||"_center"===o?(Number.isFinite(n.longitude)||Number.isFinite(n.latitude))&&(l=new i.constructor(n.longitude??i.lng,n.latitude??i.lat)):"zoom"===o||"_zoom"===o||"_seaLevelZoom"===o?Number.isFinite(n.zoom)&&(l=t[o]):"_centerAltitude"===o?Number.isFinite(n.elevation)&&(l=t[o]):"pitch"===o||"_pitch"===o?Number.isFinite(n.pitch)&&(l=t[o]):("bearing"===o||"rotation"===o||"angle"===o)&&Number.isFinite(n.bearing)&&(l=t[o]),r&&l!==i&&(s=s||t.clone()),r&&s&&(s[o]=i),t[o]=l,!0}}));e.transform=i,e.painter.transform=i,this._proxyTransform=i}_updateSize(e){let{viewState:t}=e;if(t){let e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){var r;let n=e.viewState||e,a=this._proxyTransform,{zoom:o,pitch:s,bearing:i}=a,l=(r=this._proxyTransform,!(!(Number.isFinite(n.longitude)&&r.center.lng!==n.longitude||Number.isFinite(n.latitude)&&r.center.lat!==n.latitude||Number.isFinite(n.bearing)&&r.bearing!==n.bearing||Number.isFinite(n.pitch)&&r.pitch!==n.pitch||Number.isFinite(n.zoom)&&(r._seaLevelZoom??r.zoom)!==n.zoom)&&(!n.padding||r.isPaddingEqual(n.padding))));if(a.$reactViewState=n,l&&t){let e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=o!==a.zoom),e.rotate||(e.rotate=i!==a.bearing),e.pitch||(e.pitch=s!==a.pitch)}return l}_updateSettings(e,t){let r=this._map,n=!1;for(let a of m)if(a in e&&!l(e[a],t[a])){n=!0;let t=r[`set${a[0].toUpperCase()}${a.slice(1)}`];t?.call(r,e[a])}return n}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){let{mapStyle:t=u,styleDiffing:r=!0}=e,n={diff:r};return"localIdeographFontFamily"in e&&(n.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(i(t),n),!0}return!1}_updateStyleComponents(e,t){let r=this._map,n=!1;return r.isStyleLoaded()&&("light"in e&&r.setLight&&!l(e.light,t.light)&&(n=!0,r.setLight(e.light)),"fog"in e&&r.setFog&&!l(e.fog,t.fog)&&(n=!0,r.setFog(e.fog)),"terrain"in e&&r.setTerrain&&!l(e.terrain,t.terrain)&&(!e.terrain||r.getSource(e.terrain.source))&&(n=!0,r.setTerrain(e.terrain))),n}_updateHandlers(e,t){let r=this._map,n=!1;for(let a of p){let o=e[a]??!0;l(o,t[a]??!0)||(n=!0,o?r[a].enable(o):r[a].disable())}return n}_queryRenderedFeatures(e){let t=this._map,{interactiveLayerIds:r=[]}=this.props;try{return t.queryRenderedFeatures(e,{layers:r.filter(t.getLayer.bind(t))})}catch{return[]}}_updateHover(e){let{props:t}=this;if(t.interactiveLayerIds&&(t.onMouseMove||t.onMouseEnter||t.onMouseLeave)){let t=e.type,r=this._hoveredFeatures?.length>0,n=this._queryRenderedFeatures(e.point),a=n.length>0;!a&&r&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=n,a&&!r&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=t}else this._hoveredFeatures=null}_fireEvent(e,t,r){let n=this._map,a=this._proxyTransform,o=a.$internalUpdate;try{a.$internalUpdate=!1,e.call(n,t,r)}finally{a.$internalUpdate=o}return n}_fireDefferedEvents(){let e=this._map;for(let t in this._internalUpdate=!0,this._deferredEvents)this._deferredEvents[t]&&e.fire(t);this._internalUpdate=!1}}f.savedMaps=[];let g=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"],y="undefined"!=typeof document?t.useLayoutEffect:t.useEffect,x=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"],v=t.createContext(null),b=t.forwardRef(function(n,a){let o=(0,t.useContext)(r),[s,i]=(0,t.useState)(null),l=(0,t.useRef)(),{current:u}=(0,t.useRef)({mapLib:null,map:null});(0,t.useEffect)(()=>{let t,r=n.mapLib,a=!0;return Promise.resolve(r||e.A(52498)).then(e=>{if(!a)return;if(!e)throw Error("Invalid mapLib");let r="Map"in e?e:e.default;if(!r.Map)throw Error("Invalid mapLib");!function(e,t){for(let r of x)r in t&&(e[r]=t[r]);let{RTLTextPlugin:r="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;r&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(r,e=>{e&&console.error(e)},!0)}(r,n),n.reuseMaps&&(t=f.reuse(n,l.current)),t||(t=new f(r.Map,n,l.current)),u.map=function(e){if(!e)return null;let t=e.map,r={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:r=>{let n=t.transform;t.transform=e.transform;let a=t.project(r);return t.transform=n,a},unproject:r=>{let n=t.transform;t.transform=e.transform;let a=t.unproject(r);return t.transform=n,a},queryTerrainElevation:(r,n)=>{let a=t.transform;t.transform=e.transform;let o=t.queryTerrainElevation(r,n);return t.transform=a,o},queryRenderedFeatures:(r,n)=>{let a=t.transform;t.transform=e.transform;let o=t.queryRenderedFeatures(r,n);return t.transform=a,o}};for(let e of function(e){let t=new Set,r=e;for(;r;){for(let n of Object.getOwnPropertyNames(r))"_"!==n[0]&&"function"==typeof e[n]&&"fire"!==n&&"setEventedParent"!==n&&t.add(n);r=Object.getPrototypeOf(r)}return Array.from(t)}(t))e in r||g.includes(e)||(r[e]=t[e].bind(t));return r}(t),u.mapLib=r,i(t),o?.onMapMount(u.map,n.id)}).catch(e=>{let{onError:t}=n;t?t({type:"error",target:null,error:e}):console.error(e)}),()=>{a=!1,t&&(o?.onMapUnmount(n.id),n.reuseMaps?t.recycle():t.destroy())}},[]),y(()=>{s&&s.setProps(n)}),(0,t.useImperativeHandle)(a,()=>u.map,[s]);let c=(0,t.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...n.style}),[n.style]);return t.createElement("div",{id:n.id,ref:l,style:c},s&&t.createElement(v.Provider,{value:u},t.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},n.children)))});var _=e.i(74080);let w=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function S(e,t){if(!e||!t)return;let r=e.style;for(let e in t){let n=t[e];Number.isFinite(n)&&!w.test(e)?r[e]=`${n}px`:r[e]=n}}function M(e,t){if(e===t)return null;let r=N(e),n=N(t),a=[];for(let e of n)r.has(e)||a.push(e);for(let e of r)n.has(e)||a.push(e);return 0===a.length?null:a}function N(e){return new Set(e?e.trim().split(/\s+/):[])}let j=(0,t.memo)((0,t.forwardRef)((e,r)=>{var n;let a,o,s,i,{map:l,mapLib:u}=(0,t.useContext)(v),c=(0,t.useRef)({props:e}),d=(0,t.useMemo)(()=>{let r=!1;t.Children.forEach(e.children,e=>{e&&(r=!0)});let n={...e,element:r?document.createElement("div"):null},a=new u.Marker(n);return a.setLngLat([e.longitude,e.latitude]),a.getElement().addEventListener("click",e=>{c.current.props.onClick?.({type:"click",target:a,originalEvent:e})}),a.on("dragstart",e=>{e.lngLat=d.getLngLat(),c.current.props.onDragStart?.(e)}),a.on("drag",e=>{e.lngLat=d.getLngLat(),c.current.props.onDrag?.(e)}),a.on("dragend",e=>{e.lngLat=d.getLngLat(),c.current.props.onDragEnd?.(e)}),a},[]);(0,t.useEffect)(()=>(d.addTo(l.getMap()),()=>{d.remove()}),[]);let{longitude:h,latitude:m,offset:p,style:f,draggable:g=!1,popup:y=null,rotation:x=0,rotationAlignment:b="auto",pitchAlignment:w="auto"}=e;(0,t.useEffect)(()=>{S(d.getElement(),f)},[f]),(0,t.useImperativeHandle)(r,()=>d,[]);let N=c.current.props;(d.getLngLat().lng!==h||d.getLngLat().lat!==m)&&d.setLngLat([h,m]),p&&(n=d.getOffset(),a=Array.isArray(n)?n[0]:n?n.x:0,o=Array.isArray(n)?n[1]:n?n.y:0,s=Array.isArray(p)?p[0]:p?p.x:0,i=Array.isArray(p)?p[1]:p?p.y:0,a!==s||o!==i)&&d.setOffset(p),d.isDraggable()!==g&&d.setDraggable(g),d.getRotation()!==x&&d.setRotation(x),d.getRotationAlignment()!==b&&d.setRotationAlignment(b),d.getPitchAlignment()!==w&&d.setPitchAlignment(w),d.getPopup()!==y&&d.setPopup(y);let j=M(N.className,e.className);if(j)for(let e of j)d.toggleClassName(e);return c.current.props=e,(0,_.createPortal)(e.children,d.getElement())}));function P(e,r,n,a){let o=(0,t.useContext)(v),s=(0,t.useMemo)(()=>e(o),[]);return(0,t.useEffect)(()=>{let e="function"==typeof r&&"function"==typeof n?r:null,t="function"==typeof n?n:"function"==typeof r?r:null,{map:i}=o;return!i.hasControl(s)&&(i.addControl(s,(a||n||r)?.position),e&&e(o)),()=>{t&&t(o),i.hasControl(s)&&i.removeControl(s)}},[]),s}function E(e,t){if(!e)throw Error(t)}(0,t.memo)((0,t.forwardRef)((e,r)=>{let{map:n,mapLib:a}=(0,t.useContext)(v),o=(0,t.useMemo)(()=>document.createElement("div"),[]),s=(0,t.useRef)({props:e}),i=(0,t.useMemo)(()=>{let t={...e},r=new a.Popup(t);return r.setLngLat([e.longitude,e.latitude]),r.once("open",e=>{s.current.props.onOpen?.(e)}),r},[]);if((0,t.useEffect)(()=>{let e=e=>{s.current.props.onClose?.(e)};return i.on("close",e),i.setDOMContent(o).addTo(n.getMap()),()=>{i.off("close",e),i.isOpen()&&i.remove()}},[]),(0,t.useEffect)(()=>{S(i.getElement(),e.style)},[e.style]),(0,t.useImperativeHandle)(r,()=>i,[]),i.isOpen()){let t=s.current.props;(i.getLngLat().lng!==e.longitude||i.getLngLat().lat!==e.latitude)&&i.setLngLat([e.longitude,e.latitude]),e.offset&&!l(t.offset,e.offset)&&(i.options.anchor=e.anchor,i.setOffset(e.offset)),(t.anchor!==e.anchor||t.maxWidth!==e.maxWidth)&&i.setMaxWidth(e.maxWidth);let r=M(t.className,e.className);if(r)for(let e of r)i.toggleClassName(e);s.current.props=e}return(0,_.createPortal)(e.children,o)})),(0,t.memo)(function(e){let r=P(({mapLib:t})=>new t.AttributionControl(e),{position:e.position});return(0,t.useEffect)(()=>{S(r._container,e.style)},[e.style]),null}),(0,t.memo)(function(e){let r=P(({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return(0,t.useEffect)(()=>{S(r._controlContainer,e.style)},[e.style]),null}),(0,t.memo)((0,t.forwardRef)(function(e,r){let n=(0,t.useRef)({props:e}),a=P(({mapLib:t})=>{let r=new t.GeolocateControl(e),a=r._setupUI.bind(r);return r._setupUI=e=>{r._container.hasChildNodes()||a(e)},r.on("geolocate",e=>{n.current.props.onGeolocate?.(e)}),r.on("error",e=>{n.current.props.onError?.(e)}),r.on("outofmaxbounds",e=>{n.current.props.onOutOfMaxBounds?.(e)}),r.on("trackuserlocationstart",e=>{n.current.props.onTrackUserLocationStart?.(e)}),r.on("trackuserlocationend",e=>{n.current.props.onTrackUserLocationEnd?.(e)}),r},{position:e.position});return n.current.props=e,(0,t.useImperativeHandle)(r,()=>a,[]),(0,t.useEffect)(()=>{S(a._container,e.style)},[e.style]),null})),(0,t.memo)(function(e){let r=P(({mapLib:t})=>new t.NavigationControl(e),{position:e.position});return(0,t.useEffect)(()=>{S(r._container,e.style)},[e.style]),null}),(0,t.memo)(function(e){let r=P(({mapLib:t})=>new t.ScaleControl(e),{position:e.position}),n=(0,t.useRef)(e),a=n.current;n.current=e;let{style:o}=e;return void 0!==e.maxWidth&&e.maxWidth!==a.maxWidth&&(r.options.maxWidth=e.maxWidth),void 0!==e.unit&&e.unit!==a.unit&&r.setUnit(e.unit),(0,t.useEffect)(()=>{S(r._container,o)},[o]),null});let T=0;function C(e){let r=(0,t.useContext)(v).map.getMap(),n=(0,t.useRef)(e),[,a]=(0,t.useState)(0),o=(0,t.useMemo)(()=>e.id||`jsx-source-${T++}`,[]);(0,t.useEffect)(()=>{if(r){let e=()=>setTimeout(()=>a(e=>e+1),0);return r.on("styledata",e),e(),()=>{if(r.off("styledata",e),r.style&&r.style._loaded&&r.getSource(o)){let e=r.getStyle()?.layers;if(e)for(let t of e)t.source===o&&r.removeLayer(t.id);r.removeSource(o)}}}},[r]);let s=r&&r.style&&r.getSource(o);return s?!function(e,t,r){E(t.id===r.id,"source id changed"),E(t.type===r.type,"source type changed");let n="",a=0;for(let e in t)"children"!==e&&"id"!==e&&!l(r[e],t[e])&&(n=e,a++);if(!a)return;let o=t.type;"geojson"===o?e.setData(t.data):"image"===o?e.updateImage({url:t.url,coordinates:t.coordinates}):"setCoordinates"in e&&1===a&&"coordinates"===n?e.setCoordinates(t.coordinates):"setUrl"in e&&"url"===n?e.setUrl(t.url):"setTiles"in e&&"tiles"===n?e.setTiles(t.tiles):console.warn(`Unable to update <Source> prop: ${n}`)}(s,e,n.current):s=function(e,t,r){if(e.style&&e.style._loaded){let n={...r};return delete n.id,delete n.children,e.addSource(t,n),e.getSource(t)}return null}(r,o,e),n.current=e,s&&t.Children.map(e.children,e=>e&&(0,t.cloneElement)(e,{source:o}))||null}let L=0;function R(e){let r=(0,t.useContext)(v).map.getMap(),n=(0,t.useRef)(e),[,a]=(0,t.useState)(0),o=(0,t.useMemo)(()=>e.id||`jsx-layer-${L++}`,[]);if((0,t.useEffect)(()=>{if(r){let e=()=>a(e=>e+1);return r.on("styledata",e),e(),()=>{r.off("styledata",e),r.style&&r.style._loaded&&r.getLayer(o)&&r.removeLayer(o)}}},[r]),r&&r.style&&r.getLayer(o))try{!function(e,t,r,n){if(E(r.id===n.id,"layer id changed"),E(r.type===n.type,"layer type changed"),"custom"===r.type||"custom"===n.type)return;let{layout:a={},paint:o={},filter:s,minzoom:i,maxzoom:u,beforeId:c}=r;if(c!==n.beforeId&&e.moveLayer(t,c),a!==n.layout){let r=n.layout||{};for(let n in a)l(a[n],r[n])||e.setLayoutProperty(t,n,a[n]);for(let n in r)a.hasOwnProperty(n)||e.setLayoutProperty(t,n,void 0)}if(o!==n.paint){let r=n.paint||{};for(let n in o)l(o[n],r[n])||e.setPaintProperty(t,n,o[n]);for(let n in r)o.hasOwnProperty(n)||e.setPaintProperty(t,n,void 0)}l(s,n.filter)||e.setFilter(t,s),(i!==n.minzoom||u!==n.maxzoom)&&e.setLayerZoomRange(t,i,u)}(r,o,e,n.current)}catch(e){console.warn(e)}else if(r.style&&r.style._loaded&&(!("source"in e)||r.getSource(e.source))){let t={...e,id:o};delete t.beforeId,r.addLayer(t,e.beforeId)}return n.current=e,null}e.s([],20235),e.s([],23144),e.s([],27530),e.s([],51955),e.s(["default",0,b],82604),e.s([],50308),e.s(["default",0,b],44242),e.i(82604),e.i(20235),e.i(23144),e.i(27530),e.i(51955),e.s(["Layer",()=>R,"Marker",0,j,"Source",()=>C],74783)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],43432)},54843,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(932),n=e.i(71645);e.i(50711);var a=e.i(82045),o=e.i(83394),s=e.i(67881),i=e.i(70065),l=e.i(71689),u=e.i(34858),c=e.i(78894),d=e.i(43432),h=e.i(46897),m=e.i(25652),p=e.i(18566);class f{state;onStateChange;onError;watchId=null;mapboxToken;constructor(e,t,r){this.mapboxToken=e,this.onStateChange=t,this.onError=r,this.state={isNavigating:!1,currentStepIndex:0,steps:[],remainingDistance:0,remainingDuration:0,currentLocation:null,isOffRoute:!1,routeCoordinates:[]}}async startNavigation(e){try{let t=await this.getCurrentPosition(),r={lat:t.coords.latitude,lng:t.coords.longitude},n=await this.getDirections(r,e[0],e[e.length-1]);this.state={isNavigating:!0,currentStepIndex:0,steps:n.steps,remainingDistance:n.distance,remainingDuration:n.duration,currentLocation:r,isOffRoute:!1,routeCoordinates:n.coordinates},this.startPositionTracking(),this.onStateChange(this.state)}catch(e){this.onError(e)}}async getDirections(e,t,r){let n=`${e.lng},${e.lat};${t.lng},${t.lat};${r.lng},${r.lat}`,a=`https://api.mapbox.com/directions/v5/mapbox/walking/${n}?steps=true&geometries=geojson&access_token=${this.mapboxToken}`,o=await fetch(a);if(!o.ok)throw Error("Failed to get directions");let s=(await o.json()).routes[0];return{distance:s.distance,duration:s.duration,steps:s.legs.flatMap(e=>e.steps.map(e=>({instruction:e.maneuver.instruction,distance:e.distance,duration:e.duration,maneuver:{type:e.maneuver.type,modifier:e.maneuver.modifier,location:e.maneuver.location}}))),coordinates:s.geometry.coordinates.map(([e,t])=>({lat:t,lng:e}))}}startPositionTracking(){navigator.geolocation?this.watchId=navigator.geolocation.watchPosition(e=>{let t={lat:e.coords.latitude,lng:e.coords.longitude};this.updateNavigation(t)},e=>{this.onError(Error(`Location error: ${e.message}`))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):this.onError(Error("Geolocation not supported"))}updateNavigation(e){this.state.currentLocation=e;let t=this.state.steps[this.state.currentStepIndex];t&&20>this.calculateDistance(e.lat,e.lng,t.maneuver.location[1],t.maneuver.location[0])&&this.state.currentStepIndex<this.state.steps.length-1&&this.state.currentStepIndex++;let r=this.getDistanceToRoute(e);this.state.isOffRoute=r>50,this.updateRemainingStats(),this.onStateChange(this.state)}getDistanceToRoute(e){let t=1/0;for(let r of this.state.routeCoordinates)t=Math.min(t,this.calculateDistance(e.lat,e.lng,r.lat,r.lng));return t}updateRemainingStats(){let e=0,t=0;for(let r=this.state.currentStepIndex;r<this.state.steps.length;r++)e+=this.state.steps[r].distance,t+=this.state.steps[r].duration;this.state.remainingDistance=e,this.state.remainingDuration=t}calculateDistance(e,t,r,n){let a=e*Math.PI/180,o=r*Math.PI/180,s=(r-e)*Math.PI/180,i=(n-t)*Math.PI/180,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(a)*Math.cos(o)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371e3}getCurrentPosition(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}stop(){null!==this.watchId&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null),this.state.isNavigating=!1,this.onStateChange(this.state)}getState(){return this.state}async recalculateRoute(){if(this.state.currentLocation)try{let e=Math.min(this.state.currentStepIndex+5,this.state.routeCoordinates.length-1),t=this.state.routeCoordinates[e],r=this.state.routeCoordinates[this.state.routeCoordinates.length-1],n=await this.getDirections(this.state.currentLocation,t,r);this.state.steps=n.steps,this.state.currentStepIndex=0,this.state.routeCoordinates=n.coordinates,this.state.isOffRoute=!1,this.onStateChange(this.state)}catch(e){this.onError(e)}}}var g=e.i(9835);e.i(50308);var y=e.i(44242),x=e.i(74783);function v(){let e,v,S,M,N,j,P,E,T,C,L,R,k,I,F,D,z,A,O=(0,r.c)(42),U=(0,p.useParams)().routeId,[$,Z]=(0,n.useState)(null),[B,W]=(0,n.useState)(null),[H,q]=(0,n.useState)(!1),G=(0,n.useRef)(null),V=(0,p.useRouter)();O[0]!==U?(e=U?{routeId:U}:"skip",O[0]=U,O[1]=e):e=O[1];let J=(0,a.useQuery)(o.api.routes.getRoute,e);O[2]!==J?(v=()=>{if(!J||G.current)return;let e=new f("pk.eyJ1IjoibWFsdW5hbyIsImEiOiJjbGNnZTBrd2EyYmRjM29uMndzZDZ2cWRxIn0.7ffmNPdwDu1nU-PkgFgEsw",e=>Z(e),e=>W(e.message));return G.current=e,e.startNavigation(J.coordinates),()=>{e.stop()}},S=[J],O[2]=J,O[3]=v,O[4]=S):(v=O[3],S=O[4]),(0,n.useEffect)(v,S),O[5]!==V?(M=()=>{G.current?.stop(),V.push("/routes")},O[5]=V,O[6]=M):M=O[6];let Q=M;O[7]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{G.current?.recalculateRoute()},O[7]=N):N=O[7];let K=N;O[8]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{q(!0)},O[8]=j):j=O[8];let Y=j;if(!J){let e;return O[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center text-white",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{children:"Loading route..."})]})}),O[9]=e):e=O[9],e}let X=$?.steps[$.currentStepIndex],ee=$?.steps[$.currentStepIndex+1],et=X?.instruction;return O[10]!==et?(P=(0,t.jsx)("div",{role:"status","aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:et}),O[10]=et,O[11]=P):P=O[11],O[12]!==X||O[13]!==$?(E=$?.currentLocation&&(0,t.jsxs)(y.default,{mapboxAccessToken:"pk.eyJ1IjoibWFsdW5hbyIsImEiOiJjbGNnZTBrd2EyYmRjM29uMndzZDZ2cWRxIn0.7ffmNPdwDu1nU-PkgFgEsw",initialViewState:{longitude:$.currentLocation.lng,latitude:$.currentLocation.lat,zoom:16},style:{width:"100%",height:"100%"},mapStyle:"mapbox://styles/mapbox/streets-v12",children:[(0,t.jsx)(x.Marker,{longitude:$.currentLocation.lng,latitude:$.currentLocation.lat,children:(0,t.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full border-4 border-white shadow-lg animate-pulse"})}),$.routeCoordinates.length>0&&(0,t.jsx)(x.Source,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:$.routeCoordinates.map(_)}},children:(0,t.jsx)(x.Layer,{id:"route",type:"line",paint:{"line-color":$.isOffRoute?"#ef4444":"#8b5cf6","line-width":6}})}),X&&(0,t.jsx)(x.Marker,{longitude:X.maneuver.location[0],latitude:X.maneuver.location[1],children:(0,t.jsx)("div",{className:"w-8 h-8 bg-purple-600 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:(0,t.jsx)(u.Navigation,{className:"w-4 h-4 text-white"})})})]}),O[12]=X,O[13]=$,O[14]=E):E=O[14],O[15]!==$?.isOffRoute?(T=$?.isOffRoute&&(0,t.jsx)("div",{className:"absolute top-4 left-4 right-4 bg-red-500 text-white rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c.AlertTriangle,{className:"w-6 h-6"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:"You're off route"}),(0,t.jsx)("p",{className:"text-sm",children:"Tap to recalculate"})]}),(0,t.jsx)(s.Button,{variant:"outline",size:"sm",onClick:K,className:"bg-white text-red-600",children:"Recalculate"})]})}),O[15]=$?.isOffRoute,O[16]=T):T=O[16],O[17]!==X||O[18]!==$?.isOffRoute||O[19]!==ee?(C=X&&!$?.isOffRoute&&(0,t.jsx)("div",{className:"absolute top-4 left-4 right-4 bg-white rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(u.Navigation,{className:"w-6 h-6 text-purple-600"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["In ",(0,g.formatDistance)(X.distance)]}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:X.instruction}),ee&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Then ",ee.instruction.toLowerCase()]})]})]})}),O[17]=X,O[18]=$?.isOffRoute,O[19]=ee,O[20]=C):C=O[20],O[21]!==$?(L=$&&(0,t.jsx)("div",{className:"absolute bottom-24 left-4 right-4 bg-white rounded-lg p-3 shadow-lg",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Distance"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:(0,g.formatDistance)($.remainingDistance)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"ETA"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:(0,g.formatDuration)($.remainingDuration)})]})]})}),O[21]=$,O[22]=L):L=O[22],O[23]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsx)("button",{onClick:Y,className:"absolute bottom-24 right-4 w-16 h-16 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg flex items-center justify-center transition-colors","aria-label":"I feel unsafe - Get help",children:(0,t.jsx)(c.AlertTriangle,{className:"w-8 h-8"})}),O[23]=R):R=O[23],O[24]!==B?(k=B&&(0,t.jsx)("div",{className:"absolute top-4 left-4 right-4 bg-red-500 text-white rounded-lg p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.AlertTriangle,{className:"w-5 h-5"}),(0,t.jsx)("p",{children:B})]})}),O[24]=B,O[25]=k):k=O[25],O[26]!==C||O[27]!==L||O[28]!==k||O[29]!==E||O[30]!==T?(I=(0,t.jsxs)("div",{className:"flex-1 relative",children:[E,T,C,L,R,k]}),O[26]=C,O[27]=L,O[28]=k,O[29]=E,O[30]=T,O[31]=I):I=O[31],O[32]===Symbol.for("react.memo_cache_sentinel")?(F=(0,t.jsx)(l.ArrowLeft,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),O[32]=F):F=O[32],O[33]!==Q?(D=(0,t.jsx)("div",{className:"bg-white border-t p-4",children:(0,t.jsx)("div",{className:"max-w-md mx-auto flex gap-3",children:(0,t.jsxs)(s.Button,{variant:"outline",onClick:Q,className:"flex-1 min-h-[56px]","aria-label":"Stop navigation",children:[F,"Stop"]})})}),O[33]=Q,O[34]=D):D=O[34],O[35]!==H?(z=H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,t.jsx)(i.Card,{className:"max-w-md w-full",children:(0,t.jsxs)(i.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(c.AlertTriangle,{className:"w-8 h-8 text-red-600"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Need Help?"}),(0,t.jsx)("p",{className:"text-gray-600",children:"We're here to help you stay safe"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(s.Button,{variant:"destructive",size:"lg",className:"w-full",onClick:b,children:[(0,t.jsx)(d.Phone,{className:"w-5 h-5 mr-2"}),"Call Emergency (911)"]}),(0,t.jsxs)(s.Button,{variant:"outline",size:"lg",className:"w-full",onClick:w,children:[(0,t.jsx)(h.MapPin,{className:"w-5 h-5 mr-2"}),"Find Nearest Safe Space"]}),(0,t.jsxs)(s.Button,{variant:"outline",size:"lg",className:"w-full",onClick:()=>{K(),q(!1)},children:[(0,t.jsx)(m.TrendingUp,{className:"w-5 h-5 mr-2"}),"Find Alternative Route"]}),(0,t.jsx)(s.Button,{variant:"ghost",onClick:()=>q(!1),className:"w-full",children:"Cancel"})]})]})})}),O[35]=H,O[36]=z):z=O[36],O[37]!==I||O[38]!==D||O[39]!==z||O[40]!==P?(A=(0,t.jsxs)("div",{className:"h-screen flex flex-col bg-gray-900",children:[P,I,D,z]}),O[37]=I,O[38]=D,O[39]=z,O[40]=P,O[41]=A):A=O[41],A}function b(){return window.location.href="tel:911"}function _(e){return[e.lng,e.lat]}function w(){alert("Finding nearest safe spaces...")}e.s(["default",()=>v],54843)},52498,e=>{e.v(t=>Promise.all(["static/chunks/6532ae39076d7072.js"].map(t=>e.l(t))).then(()=>t(71725)))}]);