(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},77293,e=>{"use strict";var t=e.i(43476),s=e.i(932);e.i(50711);var a=e.i(82045),l=e.i(83394),r=e.i(71645),c=e.i(67881),n=e.i(70065),i=e.i(94179),d=e.i(62870),o=e.i(78894),m=e.i(69638),x=e.i(75254);let h=(0,x.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),u=(0,x.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var j=e.i(86536),p=e.i(25652);function g(){let e,x,g,y,N,b,f,S,w,C,_,k,A,I,T,B,M,F,z,P,U=(0,s.c)(40),[R,L]=(0,r.useState)("pending"),[V,q]=(0,r.useState)();U[0]!==V||U[1]!==R?(e={status:R,contentType:V,limit:50},U[0]=V,U[1]=R,U[2]=e):e=U[2];let D=(0,a.useQuery)(l.api.moderation.getModerationQueue,e);U[3]===Symbol.for("react.memo_cache_sentinel")?(x={},U[3]=x):x=U[3];let E=(0,a.useQuery)(l.api.moderation.getModerationStats,x),O=(0,a.useMutation)(l.api.moderation.approveContent),Q=(0,a.useMutation)(l.api.moderation.rejectContent),K=(0,a.useMutation)(l.api.moderation.banUser);U[4]!==O?(g=async(e,t)=>{try{await O({queueId:e,adminId:t}),alert("Content approved!")}catch(e){console.error("Failed to approve:",e),alert("Failed to approve content")}},U[4]=O,U[5]=g):g=U[5];let $=g;U[6]!==Q?(y=async(e,t,s)=>{if(confirm(`Are you sure you want to ${s?"delete":"flag"} this content?`))try{await Q({queueId:e,adminId:t,deleteContent:s}),alert("Content rejected!")}catch(e){console.error("Failed to reject:",e),alert("Failed to reject content")}},U[6]=Q,U[7]=y):y=U[7];let G=y;U[8]!==K?(N=async(e,t)=>{let s=prompt("Enter ban reason:");if(s&&confirm("Are you sure you want to ban this user? This action is permanent."))try{await K({userId:e,adminId:t,reason:s}),alert("User banned!")}catch(e){console.error("Failed to ban user:",e),alert("Failed to ban user")}},U[8]=K,U[9]=N):N=U[9];let H=N;U[10]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Content Moderation Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600",children:"AI-powered safety engine for Aurora"})]}),U[10]=b):b=U[10],U[11]!==E?(f=E&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Flagged"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:E.total})]}),(0,t.jsx)(o.AlertTriangle,{className:"w-8 h-8 text-orange-500"})]})}),(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Review"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:E.pending})]}),(0,t.jsx)(j.Eye,{className:"w-8 h-8 text-blue-500"})]})}),(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Approved"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:E.approved})]}),(0,t.jsx)(m.CheckCircle,{className:"w-8 h-8 text-green-500"})]})}),(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Severity"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:E.avgScore})]}),(0,t.jsx)(p.TrendingUp,{className:"w-8 h-8 text-purple-500"})]})})]}),U[11]=E,U[12]=f):f=U[12];let J=R||"all";U[13]===Symbol.for("react.memo_cache_sentinel")?(S=e=>L("all"===e?void 0:e),U[13]=S):S=U[13],U[14]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)(d.SelectTrigger,{className:"w-48",children:(0,t.jsx)(d.SelectValue,{placeholder:"Filter by status"})}),U[14]=w):w=U[14],U[15]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"all",children:"All Status"}),(0,t.jsx)(d.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(d.SelectItem,{value:"approved",children:"Approved"}),(0,t.jsx)(d.SelectItem,{value:"rejected",children:"Rejected"})]}),U[15]=C):C=U[15],U[16]!==J?(_=(0,t.jsxs)(d.Select,{value:J,onValueChange:S,children:[w,C]}),U[16]=J,U[17]=_):_=U[17];let W=V||"all";return U[18]===Symbol.for("react.memo_cache_sentinel")?(k=e=>q("all"===e?void 0:e),U[18]=k):k=U[18],U[19]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)(d.SelectTrigger,{className:"w-48",children:(0,t.jsx)(d.SelectValue,{placeholder:"Filter by type"})}),U[19]=A):A=U[19],U[20]===Symbol.for("react.memo_cache_sentinel")?(I=(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"all",children:"All Types"}),(0,t.jsx)(d.SelectItem,{value:"reel",children:"Reels"}),(0,t.jsx)(d.SelectItem,{value:"post",children:"Posts"}),(0,t.jsx)(d.SelectItem,{value:"comment",children:"Comments"}),(0,t.jsx)(d.SelectItem,{value:"livestream_snapshot",children:"Livestream"})]}),U[20]=I):I=U[20],U[21]!==W?(T=(0,t.jsxs)(d.Select,{value:W,onValueChange:k,children:[A,I]}),U[21]=W,U[22]=T):T=U[22],U[23]!==_||U[24]!==T?(B=(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[_,T]}),U[23]=_,U[24]=T,U[25]=B):B=U[25],U[26]!==$||U[27]!==H||U[28]!==G||U[29]!==D?(M=D?.map(e=>(0,t.jsx)(n.Card,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:"reel"===e.contentType||"livestream_snapshot"===e.contentType?(0,t.jsx)("img",{src:e.contentPreview,alt:"Content preview",className:"w-32 h-48 object-cover rounded-lg"}):(0,t.jsx)("div",{className:"w-32 h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,t.jsxs)("p",{className:"text-gray-400 text-sm text-center px-2",children:[e.contentPreview.substring(0,100),"..."]})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(i.Badge,{variant:"outline",children:e.contentType}),(0,t.jsxs)(i.Badge,{className:function(e){return e>=80?"bg-red-500":e>=50?"bg-orange-500":"bg-yellow-500"}(e.score),children:[function(e){return e>=80?"Severe":e>=50?"Moderate":"Low"}(e.score)," (",e.score,")"]}),(0,t.jsxs)(i.Badge,{variant:"secondary",children:["Confidence: ",e.confidence,"%"]})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,t.jsx)("strong",{children:"Author:"})," ",e.author?.name," (",e.author?.email,")"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,t.jsx)("strong",{children:"Trust Score:"})," ",e.author?.trustScore]})]})}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:"AI Analysis:"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.reason})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:"Categories:"}),(0,t.jsx)("div",{className:"flex gap-2",children:e.categories.map(v)})]}),"pending"===e.status&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(c.Button,{onClick:()=>$(e._id,e.authorId),variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",children:[(0,t.jsx)(m.CheckCircle,{className:"w-4 h-4 mr-2"}),"Approve"]}),(0,t.jsxs)(c.Button,{onClick:()=>G(e._id,e.authorId,!1),variant:"outline",size:"sm",children:[(0,t.jsx)(o.AlertTriangle,{className:"w-4 h-4 mr-2"}),"Flag Only"]}),(0,t.jsxs)(c.Button,{onClick:()=>G(e._id,e.authorId,!0),variant:"destructive",size:"sm",children:[(0,t.jsx)(h,{className:"w-4 h-4 mr-2"}),"Delete Content"]}),(0,t.jsxs)(c.Button,{onClick:()=>H(e.authorId,e.authorId),variant:"destructive",size:"sm",className:"ml-auto",children:[(0,t.jsx)(u,{className:"w-4 h-4 mr-2"}),"Ban User"]})]}),"pending"!==e.status&&(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",e.status]}),e.reviewedAt&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Reviewed:"})," ",new Date(e.reviewedAt).toLocaleString()]}),e.adminNotes&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Notes:"})," ",e.adminNotes]})]})]})]})},e._id)),U[26]=$,U[27]=H,U[28]=G,U[29]=D,U[30]=M):M=U[30],U[31]!==D?.length?(F=D?.length===0&&(0,t.jsxs)(n.Card,{className:"p-12 text-center",children:[(0,t.jsx)(m.CheckCircle,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:"All Clear!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No items in the moderation queue."})]}),U[31]=D?.length,U[32]=F):F=U[32],U[33]!==M||U[34]!==F?(z=(0,t.jsxs)("div",{className:"space-y-4",children:[M,F]}),U[33]=M,U[34]=F,U[35]=z):z=U[35],U[36]!==B||U[37]!==z||U[38]!==f?(P=(0,t.jsxs)("div",{className:"container mx-auto p-6 max-w-7xl",children:[b,f,B,z]}),U[36]=B,U[37]=z,U[38]=f,U[39]=P):P=U[39],P}function v(e){return(0,t.jsx)(i.Badge,{variant:"destructive",children:e},e)}e.s(["default",()=>g],77293)}]);