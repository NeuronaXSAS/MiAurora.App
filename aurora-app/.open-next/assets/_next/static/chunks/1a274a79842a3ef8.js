(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},9835,e=>{"use strict";let t="offline-routes";function s(e,t,s,a){let r=e*Math.PI/180,l=s*Math.PI/180,n=(s-e)*Math.PI/180,i=(a-t)*Math.PI/180,c=Math.sin(n/2)*Math.sin(n/2)+Math.cos(r)*Math.cos(l)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371e3}async function a(e,s){let a=await new Promise((e,s)=>{let a=indexedDB.open("aurora-routes",1);a.onerror=()=>s(a.error),a.onsuccess=()=>e(a.result),a.onupgradeneeded=e=>{let s=e.target.result;s.objectStoreNames.contains(t)||s.createObjectStore(t,{keyPath:"id",autoIncrement:!0})}}),r=a.transaction([t],"readwrite").objectStore(t);await new Promise((t,a)=>{let l=r.put({routeId:e,coordinates:s,timestamp:Date.now()});l.onsuccess=()=>t(),l.onerror=()=>a(l.error)}),a.close()}class r{watchId=null;state={isTracking:!1,isPaused:!1,coordinates:[],stats:{distance:0,duration:0,pace:0,elevationGain:0},startTime:null,pausedTime:0};lastSampleTime=0;lastSamplePosition=null;onUpdate=null;onError=null;start(e,t){this.state.isTracking||(this.onUpdate=e,this.onError=t||null,this.state.isTracking=!0,this.state.isPaused=!1,this.state.startTime=Date.now(),this.lastSampleTime=Date.now(),"geolocation"in navigator?this.watchId=navigator.geolocation.watchPosition(e=>this.handlePosition(e),e=>this.handleError(e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):this.handleError({code:0,message:"Geolocation not supported"}))}pause(){this.state.isTracking&&!this.state.isPaused&&(this.state.isPaused=!0,this.notifyUpdate())}resume(){this.state.isTracking&&this.state.isPaused&&(this.state.isPaused=!1,this.state.pausedTime+=Date.now()-(this.lastSampleTime||Date.now()),this.lastSampleTime=Date.now(),this.notifyUpdate())}stop(){return null!==this.watchId&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null),this.state.isTracking=!1,this.state.isPaused=!1,this.state.startTime&&(this.state.stats.duration=Math.floor((Date.now()-this.state.startTime-this.state.pausedTime)/1e3)),{...this.state}}getState(){return{...this.state}}handlePosition(e){if(!this.state.isTracking||this.state.isPaused)return;let t={lat:e.coords.latitude,lng:e.coords.longitude,timestamp:e.timestamp,elevation:e.coords.altitude||void 0};this.shouldSample(t)&&(this.state.coordinates.push(t),this.lastSamplePosition=t,this.lastSampleTime=Date.now(),this.updateStats(),this.notifyUpdate(),this.state.coordinates.length%10==0&&this.saveToOfflineStorage())}shouldSample(e){return!!(!this.lastSamplePosition||Date.now()-this.lastSampleTime>=5e3||s(this.lastSamplePosition.lat,this.lastSamplePosition.lng,e.lat,e.lng)>=10)}updateStats(){this.state.stats.distance=function(e){if(e.length<2)return 0;let t=0;for(let a=1;a<e.length;a++)t+=s(e[a-1].lat,e[a-1].lng,e[a].lat,e[a].lng);return t}(this.state.coordinates),this.state.stats.elevationGain=function(e){if(e.length<2)return 0;let t=0;for(let s=1;s<e.length;s++){let a=e[s-1].elevation||0,r=e[s].elevation||0;r>a&&(t+=r-a)}return t}(this.state.coordinates),this.state.startTime&&(this.state.stats.duration=Math.floor((Date.now()-this.state.startTime-this.state.pausedTime)/1e3)),this.state.stats.distance>0&&this.state.stats.duration>0&&(this.state.stats.pace=this.state.stats.duration/60/(this.state.stats.distance/1e3))}handleError(e){console.error("GPS Error:",e),this.onError&&this.onError(e)}notifyUpdate(){this.onUpdate&&this.onUpdate({...this.state})}async saveToOfflineStorage(){try{await a("current",this.state.coordinates)}catch(e){console.error("Failed to save offline route:",e)}}}function l(e){let t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;return t>0?`${t}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${s}:${a.toString().padStart(2,"0")}`}function n(e){return e>=1e3?`${(e/1e3).toFixed(2)} km`:`${Math.round(e)} m`}function i(e){if(!isFinite(e)||0===e)return"--:--";let t=Math.floor(e),s=Math.round((e-t)*60);return`${t}:${s.toString().padStart(2,"0")}`}e.s(["GPSTracker",()=>r,"formatDistance",()=>n,"formatDuration",()=>l,"formatPace",()=>i])},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},42009,e=>{"use strict";let t=(0,e.i(75254).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>t],42009)},63059,e=>{"use strict";var t=e.i(46349);e.s(["ChevronRight",()=>t.default])},87130,e=>{"use strict";let t=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],87130)},28680,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(71645);e.i(50711);var r=e.i(82045),l=e.i(83394),n=e.i(67881),i=e.i(70065),c=e.i(34098),o=e.i(31343),d=e.i(25652),m=e.i(42009),h=e.i(87316),u=e.i(87130),x=e.i(40160),p=e.i(18566),g=e.i(9835),f=e.i(94913);let j=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var b=e.i(63059);function y(e){var r;let l,o,d,m,h,u,f,y,_,D,M,$,R,E,P,F,U,L,B,Y,A,z,I,O,q=(0,s.c)(38),{routes:G}=e,J=(0,p.useRouter)();q[0]===Symbol.for("react.memo_cache_sentinel")?(l=new Date,q[0]=l):l=q[0];let[H,K]=(0,a.useState)(l),W=(0,a.useRef)(null),X=new Date(H.getFullYear(),H.getMonth(),1),Q=new Date(H.getFullYear(),H.getMonth()+1,0),V=X.getDay(),Z=Q.getDate();q[1]!==H?(o=()=>{K(new Date(H.getFullYear(),H.getMonth()-1,1))},q[1]=H,q[2]=o):o=q[2];let ee=o;q[3]!==H?(d=()=>{K(new Date(H.getFullYear(),H.getMonth()+1,1))},q[3]=H,q[4]=d):d=q[4];let et=d;q[5]!==et||q[6]!==ee?(m={onSwipeLeft:et,onSwipeRight:ee,threshold:50},q[5]=et,q[6]=ee,q[7]=m):m=q[7],r=m,I=(0,s.c)(4),O=function(e){let t,r,l,n=(0,s.c)(8),{onSwipeLeft:i,onSwipeRight:c,onSwipeUp:o,onSwipeDown:d,threshold:m}=e,h=void 0===m?50:m,u=(0,a.useRef)(0),x=(0,a.useRef)(0),p=(0,a.useRef)(0),g=(0,a.useRef)(0);n[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{u.current=e.touches[0].clientX,x.current=e.touches[0].clientY},n[0]=t):t=n[0];let f=t;n[1]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{p.current=e.touches[0].clientX,g.current=e.touches[0].clientY},n[1]=r):r=n[1];let j=r;return n[2]!==d||n[3]!==i||n[4]!==c||n[5]!==o||n[6]!==h?(l={onTouchStart:f,onTouchMove:j,onTouchEnd:()=>{let e=p.current-u.current,t=g.current-x.current,s=Math.abs(e),a=Math.abs(t);s>a&&s>h?e>0?c?.():i?.():a>s&&a>h&&(t>0?d?.():o?.())}},n[2]=d,n[3]=i,n[4]=c,n[5]=o,n[6]=h,n[7]=l):l=n[7],l}(r),I[0]!==W||I[1]!==O?(A=()=>{let e=W.current;if(e)return e.addEventListener("touchstart",O.onTouchStart),e.addEventListener("touchmove",O.onTouchMove),e.addEventListener("touchend",O.onTouchEnd),()=>{e.removeEventListener("touchstart",O.onTouchStart),e.removeEventListener("touchmove",O.onTouchMove),e.removeEventListener("touchend",O.onTouchEnd)}},z=[W,O],I[0]=W,I[1]=O,I[2]=A,I[3]=z):(A=I[2],z=I[3]),(0,a.useEffect)(A,z);let es=G.reduce(C,{}),ea=e=>es[`${H.getFullYear()}-${H.getMonth()}-${e}`]||[];q[8]!==H?(h=e=>{let t=new Date(e._creationTime);return t.getMonth()===H.getMonth()&&t.getFullYear()===H.getFullYear()},q[8]=H,q[9]=h):h=q[9];let er=G.filter(h),el=er.reduce(k,0),en=er.reduce(T,0),[ei,ec]=(0,a.useState)(null),eo=[];for(let e=0;e<V;e++)eo.push(null);for(let e=1;e<=Z;e++)eo.push(e);q[10]===Symbol.for("react.memo_cache_sentinel")?(u=["January","February","March","April","May","June","July","August","September","October","November","December"],q[10]=u):u=q[10];let ed=u,em=()=>{let e=new Blob(["Date,Title,Distance (m),Duration (s),Rating,Type,Tags,Credits Earned\n"+er.map(S).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`aurora-routes-${ed[H.getMonth()]}-${H.getFullYear()}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)};q[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)(j,{className:"w-4 h-4"}),q[11]=f):f=q[11],q[12]!==ee?(y=(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:ee,children:f}),q[12]=ee,q[13]=y):y=q[13];let eh=ed[H.getMonth()];q[14]!==H?(_=H.getFullYear(),q[14]=H,q[15]=_):_=q[15],q[16]!==_||q[17]!==eh?(D=(0,t.jsxs)("h2",{className:"text-xl font-bold",children:[eh," ",_]}),q[16]=_,q[17]=eh,q[18]=D):D=q[18],q[19]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsx)(b.ChevronRight,{className:"w-4 h-4"}),q[19]=M):M=q[19],q[20]!==et?($=(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:et,children:M}),q[20]=et,q[21]=$):$=q[21],q[22]!==D||q[23]!==$||q[24]!==y?(R=(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[y,D,$]}),q[22]=D,q[23]=$,q[24]=y,q[25]=R):R=q[25],q[26]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Routes"}),q[26]=E):E=q[26],q[27]===Symbol.for("react.memo_cache_sentinel")?(P=(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Distance"}),q[27]=P):P=q[27];let eu=(0,g.formatDistance)(el);return q[28]!==eu?(F=(0,t.jsxs)("div",{className:"text-center",children:[P,(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:eu})]}),q[28]=eu,q[29]=F):F=q[29],q[30]===Symbol.for("react.memo_cache_sentinel")?(U=(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Credits"}),q[30]=U):U=q[30],q[31]!==en?(L=(0,t.jsxs)("div",{className:"text-center",children:[U,(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:en})]}),q[31]=en,q[32]=L):L=q[32],q[33]!==H||q[34]!==em||q[35]!==er?(B=er.length>0&&(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:em,className:"w-full",children:[(0,t.jsx)(x.Download,{className:"w-4 h-4 mr-2"}),"Export ",ed[H.getMonth()]," Data"]})}),q[33]=H,q[34]=em,q[35]=er,q[36]=B):B=q[36],q[37]===Symbol.for("react.memo_cache_sentinel")?(Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(w),q[37]=Y):Y=q[37],(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(i.Card,{ref:W,children:(0,t.jsxs)(i.CardContent,{className:"p-4 sm:p-6",children:[R,(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[E,(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:er.length})]}),F,L]}),B,(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[Y,eo.map((e,s)=>{let a;if(null===e)return(0,t.jsx)("div",{className:"aspect-square"},`empty-${s}`);let r=es[a=`${H.getFullYear()}-${H.getMonth()}-${e}`]&&es[a].length>0,l=ei===e,n=e===new Date().getDate()&&H.getMonth()===new Date().getMonth()&&H.getFullYear()===new Date().getFullYear();return(0,t.jsx)("button",{onClick:()=>ec(l?null:e),className:`
                    aspect-square rounded-lg border-2 transition-all
                    ${l?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300"}
                    ${n?"bg-blue-50":""}
                    ${r?"font-bold":""}
                  `,children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,t.jsx)("span",{className:`text-sm ${n?"text-blue-600":""}`,children:e}),r&&(0,t.jsx)("div",{className:"flex gap-0.5 mt-1",children:ea(e).slice(0,3).map(v)})]})},e)})]})]})}),ei&&ea(ei).length>0&&(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["Routes on ",ed[H.getMonth()]," ",ei,", ",H.getFullYear()]}),(0,t.jsx)("div",{className:"space-y-3",children:ea(ei).map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>J.push(`/routes/${e._id}`),children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:e.title}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:e.tags.slice(0,3).map(N)}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Distance"}),(0,t.jsx)("p",{className:"font-semibold",children:(0,g.formatDistance)(e.distance)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Duration"}),(0,t.jsx)("p",{className:"font-semibold",children:(0,g.formatDuration)(e.duration)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Rating"}),(0,t.jsx)("p",{className:"font-semibold",children:"⭐".repeat(e.rating)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Type"}),(0,t.jsx)("p",{className:"font-semibold capitalize",children:e.routeType})]})]})]}),e.creditsEarned>0&&(0,t.jsx)("div",{className:"flex items-center gap-1 bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-sm",children:(0,t.jsxs)("span",{className:"font-semibold",children:["+",e.creditsEarned]})})]})},e._id))})]})}),ei&&0===ea(ei).length&&(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(c.Route,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No routes on this day"})]})})]})}function N(e,s){return(0,t.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:e},s)}function v(e,s){return(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full"},s)}function w(e){return(0,t.jsx)("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:e},e)}function S(e){let t=new Date(e._creationTime),s=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;return`${s},"${e.title}",${e.distance},${e.duration},${e.rating},${e.routeType},"${e.tags.join("; ")}",${e.creditsEarned}`}function T(e,t){return e+t.creditsEarned}function k(e,t){return e+t.distance}function C(e,t){let s=new Date(t._creationTime),a=`${s.getFullYear()}-${s.getMonth()}-${s.getDate()}`;return e[a]||(e[a]=[]),e[a].push(t),e}function _(){let e,j,b,N,v,w,S,T,k,C,_,$,F,U,L,B,Y,A,z,I,O,q,G,J,H,K,W,X,Q,V,Z,ee,et,es,ea,er,el,en,ei,ec,eo,ed,em,eh,eu,ex,ep,eg,ef,ej,eb,ey,eN,ev,ew=(0,s.c)(125),[eS,eT]=(0,a.useState)(null),[ek,eC]=(0,a.useState)("list"),[e_,eD]=(0,a.useState)("all"),[eM,e$]=(0,a.useState)(null),eR=(0,p.useRouter)();ew[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId&&eT(t.userId)}catch(e){console.error("Error getting user:",e)}})()},j=[],ew[0]=e,ew[1]=j):(e=ew[0],j=ew[1]),(0,a.useEffect)(e,j),ew[2]!==eS?(b=eS?{userId:eS,limit:20}:"skip",ew[2]=eS,ew[3]=b):b=ew[3];let eE=(0,r.useQuery)(l.api.routes.getUserRoutes,b);if(ew[4]!==eM||ew[5]!==e_||ew[6]!==eR||ew[7]!==eE){let e,s,a,r,l=(w=eE?.filter(e=>("all"===e_||e.routeType===e_)&&(!eM||!!e.tags.includes(eM)))||[]).reduce(P,0);Y=w.length,B=w.reduce(E,0),ew[22]!==eE?(e=Array.from(new Set(eE?.flatMap(R)||[])),ew[22]=eE,ew[23]=e):e=ew[23],N=e,v=M,T="min-h-screen bg-gray-50",S="bg-gradient-to-r from-purple-600 to-pink-600 text-white",U="container mx-auto px-4 sm:px-6 py-6 sm:py-8",ew[24]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c.Route,{className:"w-8 h-8"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Aurora Routes"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-purple-100",children:"Track, share, and discover safe routes"})]})]}),ew[24]=s):s=ew[24],ew[25]!==eR?(a=()=>eR.push("/routes/track"),ew[25]=eR,ew[26]=a):a=ew[26],ew[27]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(o.Play,{className:"w-5 h-5 mr-2"}),ew[27]=r):r=ew[27],ew[28]!==a?(L=(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s,(0,t.jsxs)(n.Button,{size:"lg",className:"bg-white text-purple-600 hover:bg-purple-50 w-full sm:w-auto hidden sm:flex",onClick:a,children:[r,"Start Tracking"]})]}),ew[28]=a,ew[29]=L):L=ew[29],F="grid grid-cols-3 gap-3 sm:gap-4 mt-6",_="bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",ew[30]===Symbol.for("react.memo_cache_sentinel")?($=(0,t.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Total Distance"}),ew[30]=$):$=ew[30],k="text-lg sm:text-2xl font-bold",C=(0,g.formatDistance)(l),ew[4]=eM,ew[5]=e_,ew[6]=eR,ew[7]=eE,ew[8]=N,ew[9]=v,ew[10]=w,ew[11]=S,ew[12]=T,ew[13]=k,ew[14]=C,ew[15]=_,ew[16]=$,ew[17]=F,ew[18]=U,ew[19]=L,ew[20]=B,ew[21]=Y}else N=ew[8],v=ew[9],w=ew[10],S=ew[11],T=ew[12],k=ew[13],C=ew[14],_=ew[15],$=ew[16],F=ew[17],U=ew[18],L=ew[19],B=ew[20],Y=ew[21];ew[31]!==k||ew[32]!==C?(A=(0,t.jsx)("p",{className:k,children:C}),ew[31]=k,ew[32]=C,ew[33]=A):A=ew[33],ew[34]!==A||ew[35]!==_||ew[36]!==$?(z=(0,t.jsxs)("div",{className:_,children:[$,A]}),ew[34]=A,ew[35]=_,ew[36]=$,ew[37]=z):z=ew[37],ew[38]===Symbol.for("react.memo_cache_sentinel")?(I=(0,t.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Routes"}),ew[38]=I):I=ew[38],ew[39]!==Y?(O=(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[I,(0,t.jsx)("p",{className:"text-lg sm:text-2xl font-bold",children:Y})]}),ew[39]=Y,ew[40]=O):O=ew[40],ew[41]===Symbol.for("react.memo_cache_sentinel")?(q=(0,t.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Credits Earned"}),ew[41]=q):q=ew[41],ew[42]!==B?(G=(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[q,(0,t.jsx)("p",{className:"text-lg sm:text-2xl font-bold",children:B})]}),ew[42]=B,ew[43]=G):G=ew[43],ew[44]!==z||ew[45]!==O||ew[46]!==G||ew[47]!==F?(J=(0,t.jsxs)("div",{className:F,children:[z,O,G]}),ew[44]=z,ew[45]=O,ew[46]=G,ew[47]=F,ew[48]=J):J=ew[48],ew[49]!==J||ew[50]!==U||ew[51]!==L?(H=(0,t.jsxs)("div",{className:U,children:[L,J]}),ew[49]=J,ew[50]=U,ew[51]=L,ew[52]=H):H=ew[52],ew[53]!==S||ew[54]!==H?(K=(0,t.jsx)("div",{className:S,children:H}),ew[53]=S,ew[54]=H,ew[55]=K):K=ew[55],ew[56]!==eR?(W=()=>eR.push("/routes/track"),ew[56]=eR,ew[57]=W):W=ew[57],ew[58]===Symbol.for("react.memo_cache_sentinel")?(X=(0,t.jsx)(i.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(o.Play,{className:"w-6 h-6 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Start New Route"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Track your movement"})]})]})}),ew[58]=X):X=ew[58],ew[59]!==W?(Q=(0,t.jsx)(i.Card,{className:"hover-lift cursor-pointer",onClick:W,children:X}),ew[59]=W,ew[60]=Q):Q=ew[60],ew[61]!==eR?(V=()=>eR.push("/routes/discover"),ew[61]=eR,ew[62]=V):V=ew[62],ew[63]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,t.jsx)(i.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(d.TrendingUp,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Discover Routes"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Find safe paths"})]})]})}),ew[63]=Z):Z=ew[63],ew[64]!==V?(ee=(0,t.jsx)(i.Card,{className:"hover-lift cursor-pointer",onClick:V,children:Z}),ew[64]=V,ew[65]=ee):ee=ew[65],ew[66]!==Q||ew[67]!==ee?(et=(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:[Q,ee]}),ew[66]=Q,ew[67]=ee,ew[68]=et):et=ew[68],ew[69]===Symbol.for("react.memo_cache_sentinel")?(es=(0,t.jsx)("h2",{className:"text-xl font-bold",children:"My Routes"}),ew[69]=es):es=ew[69];let eP="list"===ek?"default":"outline";ew[70]===Symbol.for("react.memo_cache_sentinel")?(ea=()=>eC("list"),ew[70]=ea):ea=ew[70],ew[71]!==eP?(er=(0,t.jsx)(n.Button,{variant:eP,size:"sm",onClick:ea,children:"List"}),ew[71]=eP,ew[72]=er):er=ew[72];let eF="calendar"===ek?"default":"outline";ew[73]===Symbol.for("react.memo_cache_sentinel")?(el=()=>eC("calendar"),en=(0,t.jsx)(h.Calendar,{className:"w-4 h-4 mr-1"}),ew[73]=el,ew[74]=en):(el=ew[73],en=ew[74]),ew[75]!==eF?(ei=(0,t.jsxs)(n.Button,{variant:eF,size:"sm",onClick:el,children:[en,"Calendar"]}),ew[75]=eF,ew[76]=ei):ei=ew[76],ew[77]!==er||ew[78]!==ei?(ec=(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[es,(0,t.jsxs)("div",{className:"flex gap-2",children:[er,ei]})]}),ew[77]=er,ew[78]=ei,ew[79]=ec):ec=ew[79];let eU="all"===e_?"default":"outline";return ew[80]===Symbol.for("react.memo_cache_sentinel")?(eo=()=>eD("all"),ew[80]=eo):eo=ew[80],ew[81]!==eU?(ed=(0,t.jsx)(n.Button,{variant:eU,size:"sm",onClick:eo,children:"All"}),ew[81]=eU,ew[82]=ed):ed=ew[82],ew[83]===Symbol.for("react.memo_cache_sentinel")?(em=["walking","running","cycling","commuting"],ew[83]=em):em=ew[83],ew[84]!==e_?(eh=em.map(e=>(0,t.jsx)(n.Button,{variant:e_===e?"default":"outline",size:"sm",onClick:()=>eD(e),className:"capitalize",children:e},e)),ew[84]=e_,ew[85]=eh):eh=ew[85],ew[86]!==N||ew[87]!==eM?(eu=N.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-px bg-gray-300 mx-1"}),N.slice(0,5).map(e=>(0,t.jsxs)(n.Button,{variant:eM===e?"default":"outline",size:"sm",onClick:()=>e$(eM===e?null:e),children:[(0,t.jsx)(u.Filter,{className:"w-3 h-3 mr-1"}),e]},e))]}),ew[86]=N,ew[87]=eM,ew[88]=eu):eu=ew[88],ew[89]!==ed||ew[90]!==eh||ew[91]!==eu?(ex=(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[ed,eh,eu]}),ew[89]=ed,ew[90]=eh,ew[91]=eu,ew[92]=ex):ex=ew[92],ew[93]!==eE?(ep=!eE&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading your routes..."})]}),ew[93]=eE,ew[94]=ep):ep=ew[94],ew[95]!==w.length||ew[96]!==eE?(eg=0===w.length&&eE&&eE.length>0&&(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(u.Filter,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No routes match your filters"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters to see more routes"}),(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>{eD("all"),e$(null)},children:"Clear Filters"})]})}),ew[95]=w.length,ew[96]=eE,ew[97]=eg):eg=ew[97],ew[98]!==eR||ew[99]!==eE?(ef=eE&&0===eE.length&&(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(c.Route,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No routes yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Start tracking your first route to see it here!"}),(0,t.jsxs)(n.Button,{onClick:()=>eR.push("/routes/track"),children:[(0,t.jsx)(o.Play,{className:"w-4 h-4 mr-2"}),"Start First Route"]})]})}),ew[98]=eR,ew[99]=eE,ew[100]=ef):ef=ew[100],ew[101]!==w||ew[102]!==eE||ew[103]!==ek?(ej="calendar"===ek&&eE&&eE.length>0&&(0,t.jsx)(y,{routes:w}),ew[101]=w,ew[102]=eE,ew[103]=ek,ew[104]=ej):ej=ew[104],ew[105]!==v||ew[106]!==w||ew[107]!==eR||ew[108]!==ek?(eb="list"===ek&&w.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:w.map(e=>(0,t.jsx)(i.Card,{className:"hover-lift",children:(0,t.jsx)(i.CardContent,{className:"p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>eR.push(`/routes/${e._id}`),children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:e.title}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.slice(0,3).map(D)}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Distance"}),(0,t.jsx)("p",{className:"font-semibold",children:(0,g.formatDistance)(e.distance)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Duration"}),(0,t.jsx)("p",{className:"font-semibold",children:(0,g.formatDuration)(e.duration)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Rating"}),(0,t.jsx)("p",{className:"font-semibold",children:"⭐".repeat(e.rating)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Type"}),(0,t.jsx)("p",{className:"font-semibold capitalize",children:e.routeType})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:(0,f.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[e.creditsEarned>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-purple-100 text-purple-700 px-3 py-1 rounded-full",children:[(0,t.jsx)(m.Award,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"text-sm font-semibold",children:["+",e.creditsEarned]})]}),(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),v(e)},children:(0,t.jsx)(x.Download,{className:"w-4 h-4"})})]})]})})},e._id))}),ew[105]=v,ew[106]=w,ew[107]=eR,ew[108]=ek,ew[109]=eb):eb=ew[109],ew[110]!==ec||ew[111]!==ex||ew[112]!==ep||ew[113]!==eg||ew[114]!==ef||ew[115]!==ej||ew[116]!==eb?(ey=(0,t.jsxs)("div",{children:[ec,ex,ep,eg,ef,ej,eb]}),ew[110]=ec,ew[111]=ex,ew[112]=ep,ew[113]=eg,ew[114]=ef,ew[115]=ej,ew[116]=eb,ew[117]=ey):ey=ew[117],ew[118]!==et||ew[119]!==ey?(eN=(0,t.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[et,ey]})}),ew[118]=et,ew[119]=ey,ew[120]=eN):eN=ew[120],ew[121]!==T||ew[122]!==K||ew[123]!==eN?(ev=(0,t.jsxs)("div",{className:T,children:[K,eN]}),ew[121]=T,ew[122]=K,ew[123]=eN,ew[124]=ev):ev=ew[124],ev}function D(e,s){return(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:e},s)}function M(e){let t=new Blob([`<?xml version="1.0" encoding="UTF-8"?>
<gpx version="1.1" creator="Aurora App">
  <metadata>
    <name>${e.title}</name>
    <desc>${e.journalEntry||""}</desc>
  </metadata>
  <trk>
    <name>${e.title}</name>
    <type>${e.routeType}</type>
    <trkseg>
${e.coordinates.map($).join("\n")}
    </trkseg>
  </trk>
</gpx>`],{type:"application/gpx+xml"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`${e.title.replace(/\s+/g,"_")}.gpx`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}function $(e){return`      <trkpt lat="${e.lat}" lon="${e.lng}">
        ${e.elevation?`<ele>${e.elevation}</ele>`:""}
        <time>${new Date(e.timestamp).toISOString()}</time>
      </trkpt>`}function R(e){return e.tags}function E(e,t){return e+t.creditsEarned}function P(e,t){return e+t.distance}e.s(["default",()=>_],28680)}]);