(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},9835,e=>{"use strict";let t="offline-routes";function s(e,t,s,a){let r=e*Math.PI/180,i=s*Math.PI/180,l=(s-e)*Math.PI/180,n=(a-t)*Math.PI/180,o=Math.sin(l/2)*Math.sin(l/2)+Math.cos(r)*Math.cos(i)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371e3}async function a(e,s){let a=await new Promise((e,s)=>{let a=indexedDB.open("aurora-routes",1);a.onerror=()=>s(a.error),a.onsuccess=()=>e(a.result),a.onupgradeneeded=e=>{let s=e.target.result;s.objectStoreNames.contains(t)||s.createObjectStore(t,{keyPath:"id",autoIncrement:!0})}}),r=a.transaction([t],"readwrite").objectStore(t);await new Promise((t,a)=>{let i=r.put({routeId:e,coordinates:s,timestamp:Date.now()});i.onsuccess=()=>t(),i.onerror=()=>a(i.error)}),a.close()}class r{watchId=null;state={isTracking:!1,isPaused:!1,coordinates:[],stats:{distance:0,duration:0,pace:0,elevationGain:0},startTime:null,pausedTime:0};lastSampleTime=0;lastSamplePosition=null;onUpdate=null;onError=null;start(e,t){this.state.isTracking||(this.onUpdate=e,this.onError=t||null,this.state.isTracking=!0,this.state.isPaused=!1,this.state.startTime=Date.now(),this.lastSampleTime=Date.now(),"geolocation"in navigator?this.watchId=navigator.geolocation.watchPosition(e=>this.handlePosition(e),e=>this.handleError(e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):this.handleError({code:0,message:"Geolocation not supported"}))}pause(){this.state.isTracking&&!this.state.isPaused&&(this.state.isPaused=!0,this.notifyUpdate())}resume(){this.state.isTracking&&this.state.isPaused&&(this.state.isPaused=!1,this.state.pausedTime+=Date.now()-(this.lastSampleTime||Date.now()),this.lastSampleTime=Date.now(),this.notifyUpdate())}stop(){return null!==this.watchId&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null),this.state.isTracking=!1,this.state.isPaused=!1,this.state.startTime&&(this.state.stats.duration=Math.floor((Date.now()-this.state.startTime-this.state.pausedTime)/1e3)),{...this.state}}getState(){return{...this.state}}handlePosition(e){if(!this.state.isTracking||this.state.isPaused)return;let t={lat:e.coords.latitude,lng:e.coords.longitude,timestamp:e.timestamp,elevation:e.coords.altitude||void 0};this.shouldSample(t)&&(this.state.coordinates.push(t),this.lastSamplePosition=t,this.lastSampleTime=Date.now(),this.updateStats(),this.notifyUpdate(),this.state.coordinates.length%10==0&&this.saveToOfflineStorage())}shouldSample(e){return!!(!this.lastSamplePosition||Date.now()-this.lastSampleTime>=5e3||s(this.lastSamplePosition.lat,this.lastSamplePosition.lng,e.lat,e.lng)>=10)}updateStats(){this.state.stats.distance=function(e){if(e.length<2)return 0;let t=0;for(let a=1;a<e.length;a++)t+=s(e[a-1].lat,e[a-1].lng,e[a].lat,e[a].lng);return t}(this.state.coordinates),this.state.stats.elevationGain=function(e){if(e.length<2)return 0;let t=0;for(let s=1;s<e.length;s++){let a=e[s-1].elevation||0,r=e[s].elevation||0;r>a&&(t+=r-a)}return t}(this.state.coordinates),this.state.startTime&&(this.state.stats.duration=Math.floor((Date.now()-this.state.startTime-this.state.pausedTime)/1e3)),this.state.stats.distance>0&&this.state.stats.duration>0&&(this.state.stats.pace=this.state.stats.duration/60/(this.state.stats.distance/1e3))}handleError(e){console.error("GPS Error:",e),this.onError&&this.onError(e)}notifyUpdate(){this.onUpdate&&this.onUpdate({...this.state})}async saveToOfflineStorage(){try{await a("current",this.state.coordinates)}catch(e){console.error("Failed to save offline route:",e)}}}function i(e){let t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;return t>0?`${t}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${s}:${a.toString().padStart(2,"0")}`}function l(e){return e>=1e3?`${(e/1e3).toFixed(2)} km`:`${Math.round(e)} m`}function n(e){if(!isFinite(e)||0===e)return"--:--";let t=Math.floor(e),s=Math.round((e-t)*60);return`${t}:${s.toString().padStart(2,"0")}`}e.s(["GPSTracker",()=>r,"formatDistance",()=>l,"formatDuration",()=>i,"formatPace",()=>n])},87951,e=>{"use strict";let t=(0,e.i(75254).default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]);e.s(["Mic",()=>t],87951)},52044,e=>{"use strict";let t=(0,e.i(75254).default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);e.s(["Square",()=>t],52044)},95242,e=>{"use strict";let t=(0,e.i(75254).default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);e.s(["Pause",()=>t],95242)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},48256,98962,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>s],48256);let a=(0,t.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);e.s(["UserX",()=>a],98962)},82124,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645);e.i(50711);var a=e.i(82045),r=e.i(83394),i=e.i(67881),l=e.i(23750),n=e.i(84762),o=e.i(70065),c=e.i(70273),d=e.i(70756),u=e.i(48256),h=e.i(98962),m=e.i(83086),x=e.i(18566),p=e.i(9835),g=e.i(932),f=e.i(87951),y=e.i(52044),j=e.i(31343),b=e.i(95242),v=e.i(27612),N=e.i(69074);function w(e){let a,r,l,n,o,c,d,u,h,m,x,p,w,P,T,M=(0,g.c)(40),{onRecordingComplete:R,onRecordingDelete:C,maxDuration:U}=e,I=void 0===U?180:U,[D,E]=(0,s.useState)(!1),[$,O]=(0,s.useState)(!1),[B,z]=(0,s.useState)(!1),[L,G]=(0,s.useState)(0),[_,q]=(0,s.useState)(null),[A,V]=(0,s.useState)(null),F=(0,s.useRef)(null);M[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],M[0]=a):a=M[0];let W=(0,s.useRef)(a),H=(0,s.useRef)(null),J=(0,s.useRef)(null);if(M[1]!==_?(r=()=>()=>{J.current&&clearInterval(J.current),_&&URL.revokeObjectURL(_)},l=[_],M[1]=_,M[2]=r,M[3]=l):(r=M[2],l=M[3]),(0,s.useEffect)(r,l),M[4]!==I){let e;c=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);F.current=t,W.current=[],t.ondataavailable=e=>{e.data.size>0&&W.current.push(e.data)},t.onstop=()=>{let t=new Blob(W.current,{type:"audio/webm"}),s=URL.createObjectURL(t);q(s),V(t),e.getTracks().forEach(S)},t.start(),E(!0),O(!1),J.current=setInterval(()=>{G(e=>{let t=e+1;return t>=I&&d(),t})},1e3)}catch(e){console.error("Error accessing microphone:",e),alert("Could not access microphone. Please check permissions.")}},M[9]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{F.current&&"recording"===F.current.state&&(F.current.pause(),O(!0),J.current&&clearInterval(J.current))},M[9]=e):e=M[9],n=e,o=()=>{F.current&&"paused"===F.current.state&&(F.current.resume(),O(!1),J.current=setInterval(()=>{G(e=>{let t=e+1;return t>=I&&d(),t})},1e3))},d=()=>{F.current&&(F.current.stop(),E(!1),O(!1),J.current&&clearInterval(J.current))},M[4]=I,M[5]=n,M[6]=o,M[7]=c,M[8]=d}else n=M[5],o=M[6],c=M[7],d=M[8];M[10]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{H.current&&(H.current.play(),z(!0))},M[10]=u):u=M[10];let Z=u;M[11]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{H.current&&(H.current.pause(),z(!1))},M[11]=h):h=M[11];let K=h;M[12]!==_||M[13]!==C?(m=()=>{_&&URL.revokeObjectURL(_),q(null),V(null),G(0),z(!1),C()},M[12]=_,M[13]=C,M[14]=m):m=M[14];let X=m;M[15]!==A||M[16]!==R?(x=()=>{A&&R(A)},M[15]=A,M[16]=R,M[17]=x):x=M[17];let Y=x,Q=k;return M[18]!==_||M[19]!==D||M[20]!==c?(p=!_&&!D&&(0,t.jsxs)(i.Button,{type:"button",variant:"outline",onClick:c,className:"w-full",children:[(0,t.jsx)(f.Mic,{className:"w-4 h-4 mr-2"}),"Record Voice Note"]}),M[18]=_,M[19]=D,M[20]=c,M[21]=p):p=M[21],M[22]!==$||M[23]!==D||M[24]!==I||M[25]!==n||M[26]!==L||M[27]!==o||M[28]!==d?(w=D&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"font-medium text-red-900",children:$?"Paused":"Recording"})]}),(0,t.jsxs)("span",{className:"text-sm font-mono text-red-900",children:[Q(L)," / ",Q(I)]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[$?(0,t.jsxs)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:o,className:"flex-1",children:[(0,t.jsx)(f.Mic,{className:"w-4 h-4 mr-2"}),"Resume"]}):(0,t.jsxs)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:n,className:"flex-1",children:[(0,t.jsx)(b.Pause,{className:"w-4 h-4 mr-2"}),"Pause"]}),(0,t.jsxs)(i.Button,{type:"button",variant:"destructive",size:"sm",onClick:d,className:"flex-1",children:[(0,t.jsx)(y.Square,{className:"w-4 h-4 mr-2"}),"Stop"]})]})]}),M[22]=$,M[23]=D,M[24]=I,M[25]=n,M[26]=L,M[27]=o,M[28]=d,M[29]=w):w=M[29],M[30]!==_||M[31]!==X||M[32]!==B||M[33]!==L||M[34]!==Y?(P=_&&(0,t.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("span",{className:"font-medium text-purple-900",children:"Voice Note"}),(0,t.jsx)("span",{className:"text-sm font-mono text-purple-700",children:Q(L)})]}),(0,t.jsx)("audio",{ref:H,src:_,onEnded:()=>z(!1),className:"hidden"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[B?(0,t.jsxs)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:K,className:"flex-1",children:[(0,t.jsx)(b.Pause,{className:"w-4 h-4 mr-2"}),"Pause"]}):(0,t.jsxs)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:Z,className:"flex-1",children:[(0,t.jsx)(j.Play,{className:"w-4 h-4 mr-2"}),"Play"]}),(0,t.jsx)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:X,children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})}),(0,t.jsxs)(i.Button,{type:"button",size:"sm",onClick:Y,className:"flex-1",children:[(0,t.jsx)(N.Upload,{className:"w-4 h-4 mr-2"}),"Use This"]})]})]}),M[30]=_,M[31]=X,M[32]=B,M[33]=L,M[34]=Y,M[35]=P):P=M[35],M[36]!==w||M[37]!==P||M[38]!==p?(T=(0,t.jsxs)("div",{className:"space-y-4",children:[p,w,P]}),M[36]=w,M[37]=P,M[38]=p,M[39]=T):T=M[39],T}function k(e){let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`}function S(e){return e.stop()}let P=["safe","inspiring","challenging","healing","accessible","beautiful","quiet","scenic","well-lit","busy"];function T(){let e=(0,x.useParams)().routeId,[g,f]=(0,s.useState)(null),y=(0,x.useRouter)(),[j,b]=(0,s.useState)(""),[v,N]=(0,s.useState)([]),[k,S]=(0,s.useState)(0),[T,M]=(0,s.useState)(""),[R,C]=(0,s.useState)("private"),[U,I]=(0,s.useState)(!1),[D,E]=(0,s.useState)(null),[$,O]=(0,s.useState)(null),[B,z]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId&&f(t.userId)}catch(e){console.error("Error getting user:",e)}})()},[]);let L=(0,a.useQuery)(r.api.routes.getRoute,e?{routeId:e}:"skip"),G=(0,a.useMutation)(r.api.routes.completeRoute),_=(0,a.useMutation)(r.api.files.generateUploadUrl),q=async()=>{if(g&&L){if(0===k)return void E("Please select a rating");if(0===v.length)return void E("Please select at least one tag");I(!0),E(null);try{let t;if($){z(!0);let e=await _(),s=await fetch(e,{method:"POST",headers:{"Content-Type":$.type},body:$}),{storageId:a}=await s.json();t=a,z(!1)}if(!L.coordinates||0===L.coordinates.length)return void E("Route has no GPS data. Please track a route first.");let s=L.coordinates[0],a=L.coordinates[L.coordinates.length-1];if(!s||!a)return void E("Invalid route coordinates");let r=await A(s.lat,s.lng),i=await A(a.lat,a.lng);await G({routeId:e,userId:g,title:j||`${L.routeType.charAt(0).toUpperCase()+L.routeType.slice(1)} Route`,distance:L.distance,duration:L.duration,elevationGain:L.elevationGain,startLocation:{lat:s.lat,lng:s.lng,name:r},endLocation:{lat:a.lat,lng:a.lng,name:i},tags:v,rating:k,journalEntry:T||void 0,voiceNoteStorageId:t,sharingLevel:R}),y.push("/routes")}catch(e){E(e.message||"Failed to save route")}finally{I(!1),z(!1)}}},A=async(e,t)=>{try{let s=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${t},${e}.json?access_token=pk.eyJ1IjoibWFsdW5hbyIsImEiOiJjbGNnZTBrd2EyYmRjM29uMndzZDZ2cWRxIn0.7ffmNPdwDu1nU-PkgFgEsw&limit=1`),a=await s.json();return a.features?.[0]?.place_name||"Unknown location"}catch{return"Unknown location"}};return L?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Complete Your Route"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Add details and share with the community"}),(0,t.jsx)(o.Card,{className:"mb-6",children:(0,t.jsx)(o.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Distance"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:(0,p.formatDistance)(L.distance)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Duration"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:(0,p.formatDuration)(L.duration)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Type"}),(0,t.jsx)("p",{className:"text-xl font-bold capitalize",children:L.routeType})]})]})})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Route Title (Optional)"}),(0,t.jsx)(l.Input,{placeholder:"e.g., Morning run through Central Park",value:j,onChange:e=>b(e.target.value),maxLength:100})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Tags * (Select at least one)"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:P.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${v.includes(e)?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Overall Experience *"}),(0,t.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>S(e),className:"focus:outline-none",children:(0,t.jsx)(c.Star,{className:`w-10 h-10 transition-colors ${e<=k?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-200"}`})},e))}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[0===k&&"Rate your experience",1===k&&"Very Poor",2===k&&"Poor",3===k&&"Okay",4===k&&"Good",5===k&&"Excellent"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Journal Entry (Optional)"}),(0,t.jsx)(n.Textarea,{placeholder:"Share your thoughts, feelings, or observations about this route...",value:T,onChange:e=>M(e.target.value),rows:5,maxLength:2e3}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[T.length,"/2000 characters",T.length>200&&" • +5 bonus credits for detailed entry!"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Voice Note (Optional)"}),(0,t.jsx)(w,{onRecordingComplete:e=>{O(e)},onRecordingDelete:()=>{O(null)},maxDuration:180}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Record up to 3 minutes to share your experience"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-3 block",children:"Sharing Preferences"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>C("private"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${"private"===R?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(d.Lock,{className:"w-5 h-5 mt-0.5 text-gray-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Private"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Only you can see this route"})]})]})}),(0,t.jsx)("button",{type:"button",onClick:()=>C("anonymous"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${"anonymous"===R?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(h.UserX,{className:"w-5 h-5 mt-0.5 text-gray-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Anonymous • +15 credits"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Share without your name"})]})]})}),(0,t.jsx)("button",{type:"button",onClick:()=>C("public"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${"public"===R?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(u.Globe,{className:"w-5 h-5 mt-0.5 text-gray-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Public • +15 credits"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Share with your name"})]})]})})]})]}),"private"!==R&&(0,t.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(m.Sparkles,{className:"w-5 h-5 text-purple-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-sm text-purple-900",children:["Earn ",T.length>200?"20":"15"," credits for sharing!"]}),(0,t.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"+ 5 more credits each time someone completes your route"})]})]})}),D&&(0,t.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:D}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>y.push("/routes"),disabled:U,className:"flex-1",children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:q,disabled:U||B,className:"flex-1",children:B?"Uploading voice...":U?"Saving...":"Save Route"})]})]})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-600",children:"Loading route..."})})}e.s(["default",()=>T],82124)}]);