(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},90597,e=>{"use strict";let t=(0,e.i(75254).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>t],90597)},68553,e=>{"use strict";let t=(0,e.i(75254).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},62031,e=>{"use strict";let t=(0,e.i(75254).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);e.s(["Share2",()=>t],62031)},16015,(e,t,s)=>{},98547,(e,t,s)=>{var r=e.i(47167);e.r(16015);var i=e.r(71645),n=i&&"object"==typeof i&&"default"in i?i:{default:i},a=void 0!==r.default&&r.default.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,i=t.optimizeForSpeed,n=void 0===i?a:i;c(l(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",c("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(c(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];c(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&c(l(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return s?i.insertBefore(r,s):i.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},d={};function h(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return d[r]||(d[r]="jsx-"+u(e+"-"+s)),d[r]}function f(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return d[s]||(d[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[s]}var m=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,i=t.optimizeForSpeed,n=void 0!==i&&i;this._sheet=r||new o({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),r&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,i=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var n=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=n,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var i=h(r,s);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return f(i,e)}):[f(i,t)]}}return{styleId:h(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=i.createContext(null);function y(){return new m}function x(){return i.useContext(p)}p.displayName="StyleSheetContext";var g=n.default.useInsertionEffect||n.default.useLayoutEffect,v="undefined"!=typeof window?y():void 0;function _(e){var t=v||x();return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}_.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,r=i.useContext(p),a=i.useState(function(){return r||t||y()})[0];return n.default.createElement(p.Provider,{value:a},s)},s.createStyleRegistry=y,s.style=_,s.useStyleRegistry=x},37902,(e,t,s)=>{t.exports=e.r(98547).style},17928,e=>{"use strict";var t=e.i(43476),s=e.i(932),r=e.i(71645),i=e.i(37902);e.i(50711);var n=e.i(82045),a=e.i(83394),l=e.i(90597);let o=(0,e.i(75254).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var c=e.i(62031),u=e.i(98919),d=e.i(78894),h=e.i(47163);function f(e){let i,f,x,g,v,_,b,S,w,j,N,k,C,R,F,M,z,A,I,E,T,D,O,L,U,P,H,q,B,W,K,V,J=(0,s.c)(89),{reel:$,isActive:Q,onLike:Y,onComment:G,onShare:X}=e,Z=(0,r.useRef)(null),[ee,et]=(0,r.useState)(!1),[es,er]=(0,r.useState)(!0),ei=(0,n.useMutation)(a.api.reels.incrementViews);J[0]!==ei||J[1]!==Q||J[2]!==$._id?(i=()=>{let e=Z.current;e&&(Q?e.play().then(()=>{et(!0),ei({reelId:$._id})}).catch(()=>{et(!1)}):(e.pause(),et(!1)))},f=[Q,$._id,ei],J[0]=ei,J[1]=Q,J[2]=$._id,J[3]=i,J[4]=f):(i=J[3],f=J[4]),(0,r.useEffect)(i,f),J[5]!==ee?(x=()=>{let e=Z.current;e&&(ee?(e.pause(),et(!1)):(e.play(),et(!0)))},J[5]=ee,J[6]=x):x=J[6];let en=x;J[7]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{let e=Z.current;e&&(e.muted=!e.muted,er(e.muted))},J[7]=g):g=J[7];let ea=g;J[8]!==$.aiMetadata?(v=()=>$.aiMetadata?.sentiment?Math.round(($.aiMetadata.sentiment+1)/2*100):null,J[8]=$.aiMetadata,J[9]=v):v=J[9];let el=v;if(J[10]!==el||J[11]!==es||J[12]!==$.aiMetadata?.safetyCategory||J[13]!==$.thumbnailUrl||J[14]!==$.videoUrl||J[15]!==en){let e,s=el();J[20]!==$.aiMetadata?.safetyCategory?(e=()=>{let e=$.aiMetadata?.safetyCategory;return"Harassment"===e||"Warning"===e?(0,t.jsx)(d.AlertTriangle,{className:"w-5 h-5"}):(0,t.jsx)(u.Shield,{className:"w-5 h-5"})},J[20]=$.aiMetadata?.safetyCategory,J[21]=e):e=J[21];let r=e;_=y,b="relative w-full h-screen bg-black snap-start snap-always",J[22]!==es||J[23]!==$.thumbnailUrl||J[24]!==$.videoUrl||J[25]!==en?(S=(0,t.jsx)("video",{ref:Z,src:$.videoUrl,poster:$.thumbnailUrl,className:"w-full h-full object-cover",loop:!0,playsInline:!0,muted:es,onClick:en}),J[22]=es,J[23]=$.thumbnailUrl,J[24]=$.videoUrl,J[25]=en,J[26]=S):S=J[26],w=null!==s&&(0,t.jsx)("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm rounded-full px-4 py-2 flex items-center gap-2",children:(0,t.jsxs)("div",{className:(0,h.cn)("flex items-center gap-1",function(e){return e>=70?"text-green-500":e>=40?"text-yellow-500":"text-red-500"}(s)),children:[r(),(0,t.jsx)("span",{className:"font-bold text-lg",children:s})]})}),J[10]=el,J[11]=es,J[12]=$.aiMetadata?.safetyCategory,J[13]=$.thumbnailUrl,J[14]=$.videoUrl,J[15]=en,J[16]=_,J[17]=b,J[18]=S,J[19]=w}else _=J[16],b=J[17],S=J[18],w=J[19];let eo=$.isLiked?"bg-red-500":"bg-white/20 backdrop-blur-sm";J[27]!==eo?(j=(0,h.cn)("w-12 h-12 rounded-full flex items-center justify-center transition-colors",eo),J[27]=eo,J[28]=j):j=J[28];let ec=$.isLiked&&"fill-white";J[29]!==ec?(N=(0,h.cn)("w-6 h-6",ec),J[29]=ec,J[30]=N):N=J[30],J[31]!==N?(k=(0,t.jsx)(l.Heart,{className:N}),J[31]=N,J[32]=k):k=J[32],J[33]!==j||J[34]!==k?(C=(0,t.jsx)("div",{className:j,children:k}),J[33]=j,J[34]=k,J[35]=C):C=J[35],J[36]!==_||J[37]!==$.likes?(R=_($.likes),J[36]=_,J[37]=$.likes,J[38]=R):R=J[38],J[39]!==R?(F=(0,t.jsx)("span",{className:"text-xs font-medium",children:R}),J[39]=R,J[40]=F):F=J[40],J[41]!==Y||J[42]!==C||J[43]!==F?(M=(0,t.jsxs)("button",{onClick:Y,className:"flex flex-col items-center gap-1 text-white",children:[C,F]}),J[41]=Y,J[42]=C,J[43]=F,J[44]=M):M=J[44],J[45]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:(0,t.jsx)(o,{className:"w-6 h-6"})}),J[45]=z):z=J[45],J[46]!==_||J[47]!==$.comments?(A=_($.comments),J[46]=_,J[47]=$.comments,J[48]=A):A=J[48],J[49]!==A?(I=(0,t.jsx)("span",{className:"text-xs font-medium",children:A}),J[49]=A,J[50]=I):I=J[50],J[51]!==G||J[52]!==I?(E=(0,t.jsxs)("button",{onClick:G,className:"flex flex-col items-center gap-1 text-white",children:[z,I]}),J[51]=G,J[52]=I,J[53]=E):E=J[53],J[54]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:(0,t.jsx)(c.Share2,{className:"w-6 h-6"})}),J[54]=T):T=J[54],J[55]!==_||J[56]!==$.shares?(D=_($.shares),J[55]=_,J[56]=$.shares,J[57]=D):D=J[57],J[58]!==D?(O=(0,t.jsx)("span",{className:"text-xs font-medium",children:D}),J[58]=D,J[59]=O):O=J[59],J[60]!==X||J[61]!==O?(L=(0,t.jsxs)("button",{onClick:X,className:"flex flex-col items-center gap-1 text-white",children:[T,O]}),J[60]=X,J[61]=O,J[62]=L):L=J[62];let eu=es?"\uD83D\uDD07":"\uD83D\uDD0A";return J[63]!==eu?(U=(0,t.jsx)("button",{onClick:ea,className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white",children:eu}),J[63]=eu,J[64]=U):U=J[64],J[65]!==M||J[66]!==E||J[67]!==L||J[68]!==U?(P=(0,t.jsxs)("div",{className:"absolute right-4 bottom-24 flex flex-col gap-6",children:[M,E,L,U]}),J[65]=M,J[66]=E,J[67]=L,J[68]=U,J[69]=P):P=J[69],J[70]!==$.author?(H=$.author&&(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold",children:$.author.profileImage?(0,t.jsx)("img",{src:$.author.profileImage,alt:$.author.name,className:"w-full h-full rounded-full object-cover"}):$.author.name[0].toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-semibold",children:$.author.name}),(0,t.jsxs)("p",{className:"text-white/70 text-xs",children:["Trust Score: ",$.author.trustScore]})]})]}),J[70]=$.author,J[71]=H):H=J[71],J[72]!==$.caption?(q=$.caption&&(0,t.jsx)("p",{className:"text-white text-sm mb-2 line-clamp-2",children:$.caption}),J[72]=$.caption,J[73]=q):q=J[73],J[74]!==$.aiMetadata?(B=$.aiMetadata&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[$.aiMetadata.safetyCategory&&(0,t.jsxs)("span",{className:(0,h.cn)("px-3 py-1 rounded-full text-xs font-medium backdrop-blur-sm","Harassment"===$.aiMetadata.safetyCategory||"Warning"===$.aiMetadata.safetyCategory?"bg-red-500/80 text-white":"Joy"===$.aiMetadata.safetyCategory||"Positive Experience"===$.aiMetadata.safetyCategory?"bg-green-500/80 text-white":"bg-yellow-500/80 text-white"),children:["Harassment"===$.aiMetadata.safetyCategory&&"⚠️ Harassment Risk","Joy"===$.aiMetadata.safetyCategory&&"\uD83D\uDE0A Positive Vibe","Lighting Issue"===$.aiMetadata.safetyCategory&&"\uD83D\uDCA1 Lighting Issue","Infrastructure Problem"===$.aiMetadata.safetyCategory&&"\uD83D\uDEA7 Infrastructure","Positive Experience"===$.aiMetadata.safetyCategory&&"✨ Safe Space","Warning"===$.aiMetadata.safetyCategory&&"⚠️ Warning"]}),$.aiMetadata.visualTags?.slice(0,3).map(p)]}),J[74]=$.aiMetadata,J[75]=B):B=J[75],J[76]!==$.hashtags?(W=$.hashtags&&$.hashtags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:$.hashtags.map(m)}),J[76]=$.hashtags,J[77]=W):W=J[77],J[78]!==H||J[79]!==q||J[80]!==B||J[81]!==W?(K=(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 via-black/40 to-transparent",children:[H,q,B,W]}),J[78]=H,J[79]=q,J[80]=B,J[81]=W,J[82]=K):K=J[82],J[83]!==P||J[84]!==K||J[85]!==b||J[86]!==S||J[87]!==w?(V=(0,t.jsxs)("div",{className:b,children:[S,w,P,K]}),J[83]=P,J[84]=K,J[85]=b,J[86]=S,J[87]=w,J[88]=V):V=J[88],V}function m(e,s){return(0,t.jsxs)("span",{className:"text-white/80 text-xs",children:["#",e]},s)}function p(e,s){return(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-white/20 backdrop-blur-sm text-white",children:e},s)}function y(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString()}var x=e.i(31278);function g(e){let l,o,c,u,d,h,m,p,y,g,v,_,b=(0,s.c)(29),{currentUserId:S}=e,w=(0,r.useRef)(null),[j,N]=(0,r.useState)(0),[,k]=(0,r.useState)(!1);b[0]===Symbol.for("react.memo_cache_sentinel")?(l={limit:10,sortBy:"recent"},b[0]=l):l=b[0];let C=(0,n.useQuery)(a.api.reels.getReelsFeed,l),R=(0,n.useMutation)(a.api.reels.likeReel);b[1]!==C?.reels?(o=C?.reels||[],b[1]=C?.reels,b[2]=o):o=b[2];let F=o,M=void 0===C;b[3]!==j||b[4]!==F.length?(c=()=>{let e=w.current;if(!e)return;let t=()=>{k(!0);let t=Math.round(e.scrollTop/window.innerHeight);t!==j&&t>=0&&t<F.length&&N(t)};return e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},u=[j,F.length],b[3]=j,b[4]=F.length,b[5]=c,b[6]=u):(c=b[5],u=b[6]),(0,r.useEffect)(c,u),b[7]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{let e=w.current;if(!e)return;let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.intersectionRatio>.5&&N(parseInt(e.target.getAttribute("data-index")||"0"))})},{root:e,threshold:.5});return e.querySelectorAll("[data-index]").forEach(e=>t.observe(e)),()=>t.disconnect()},b[7]=d):d=b[7],b[8]!==F.length?(h=[F.length],b[8]=F.length,b[9]=h):h=b[9],(0,r.useEffect)(d,h),b[10]!==S||b[11]!==R?(m=async e=>{await R({reelId:e,userId:S})},b[10]=S,b[11]=R,b[12]=m):m=b[12];let z=m;if(M){let e;return b[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-black",children:(0,t.jsx)(x.Loader2,{className:"w-8 h-8 animate-spin text-white"})}),b[13]=e):e=b[13],e}if(0===F.length){let e;return b[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-black text-white p-8",children:[(0,t.jsx)("p",{className:"text-xl font-semibold mb-2",children:"No reels yet"}),(0,t.jsx)("p",{className:"text-white/60 text-center",children:"Be the first to share your safety experience!"})]}),b[14]=e):e=b[14],e}if(b[15]===Symbol.for("react.memo_cache_sentinel")?(p={scrollbarWidth:"none",msOverflowStyle:"none"},y=(0,t.jsx)(i.default,{id:"c12f021053e1107",children:"div.jsx-c12f021053e1107::-webkit-scrollbar{display:none}"}),b[15]=p,b[16]=y):(p=b[15],y=b[16]),b[17]!==j||b[18]!==z||b[19]!==F){let e;b[21]!==j||b[22]!==z?(e=(e,s)=>(0,t.jsx)("div",{"data-index":s,children:(0,t.jsx)(f,{reel:e,isActive:s===j,onLike:()=>z(e._id),onComment:()=>(function(e){console.log("Comment on reel:",e)})(e._id),onShare:()=>(function(e){console.log("Share reel:",e)})(e._id)})},e._id),b[21]=j,b[22]=z,b[23]=e):e=b[23],g=F.map(e),b[17]=j,b[18]=z,b[19]=F,b[20]=g}else g=b[20];return b[24]!==C?.hasMore?(v=C?.hasMore&&(0,t.jsx)("div",{className:"h-20 flex items-center justify-center bg-black",children:(0,t.jsx)(x.Loader2,{className:"w-6 h-6 animate-spin text-white"})}),b[24]=C?.hasMore,b[25]=v):v=b[25],b[26]!==g||b[27]!==v?(_=(0,t.jsxs)("div",{ref:w,className:"h-screen w-full overflow-y-scroll snap-y snap-mandatory scroll-smooth",style:p,children:[y,g,v]}),b[26]=g,b[27]=v,b[28]=_):_=b[28],_}var v=e.i(67881),_=e.i(68553),b=e.i(22016),S=e.i(18566);function w(){let e,i,n,a,l,o,c,u=(0,s.c)(11),[d,h]=(0,r.useState)(null),f=(0,S.useRouter)();if(u[0]!==f?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId?h(t.userId):f.push("/")}catch(e){console.error("Error getting user:",e),f.push("/")}})()},i=[f],u[0]=f,u[1]=e,u[2]=i):(e=u[1],i=u[2]),(0,r.useEffect)(e,i),!d){let e;return u[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-black",children:(0,t.jsx)(x.Loader2,{className:"w-8 h-8 animate-spin text-white"})}),u[3]=e):e=u[3],e}return u[4]!==d?(n=(0,t.jsx)(g,{currentUserId:d}),u[4]=d,u[5]=n):n=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(b.default,{href:"/reels/create",children:(0,t.jsx)(v.Button,{size:"lg",className:"fixed bottom-20 right-6 h-14 w-14 rounded-full shadow-2xl bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 z-50",children:(0,t.jsx)(_.Camera,{className:"w-6 h-6"})})}),u[6]=a):a=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("h1",{className:"text-white text-xl font-bold",children:"Safety Reels"}),u[7]=l):l=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)("div",{className:"fixed top-0 left-0 right-0 z-40 bg-gradient-to-b from-black/60 to-transparent p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[l,(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"text-white/80 hover:text-white text-sm font-medium px-3 py-1 rounded-full hover:bg-white/10 transition-colors",children:"For You"}),(0,t.jsx)("button",{className:"text-white/80 hover:text-white text-sm font-medium px-3 py-1 rounded-full hover:bg-white/10 transition-colors",children:"Trending"})]})]})}),u[8]=o):o=u[8],u[9]!==n?(c=(0,t.jsxs)("div",{className:"relative h-screen w-full overflow-hidden",children:[n,a,o]}),u[9]=n,u[10]=c):c=u[10],c}e.s(["default",()=>w],17928)}]);