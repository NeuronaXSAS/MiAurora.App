(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1463,e=>{"use strict";let t;var a=e.i(43476),n=e.i(932),r=e.i(22016),i=e.i(18566),o=e.i(67881),l=e.i(63270),s=e.i(94179),c=e.i(75254);let d=(0,c.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var u=e.i(46897),m=e.i(63727),f=e.i(86311),h=e.i(84614),p=e.i(83086);let g=(0,c.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),x=(0,c.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var w=e.i(37727),v=e.i(34098),b=e.i(39616);let y=(0,c.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var j=e.i(75822),N=e.i(31343),C=e.i(7233),S=e.i(78583),k=e.i(98919),_=e.i(58041),R=e.i(71645);e.i(50711);var T=e.i(82045),E=e.i(83394),M=e.i(63415);let P=(0,c.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var D=e.i(43531),$=e.i(417),B=e.i(94913);function O(){let e,t,r,l,s,c,d,h,p,g,x,v,b,y,j,N,C,S,_=(0,n.c)(42),O=(0,i.useRouter)(),[A,z]=(0,R.useState)(null),[F,I]=(0,R.useState)(!1);_[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId&&z(t.userId)}catch(e){console.error("Error getting user:",e)}})()},t=[],_[0]=e,_[1]=t):(e=_[0],t=_[1]),(0,R.useEffect)(e,t),_[2]!==A?(r=A?{userId:A,limit:10}:"skip",_[2]=A,_[3]=r):r=_[3];let L=(0,T.useQuery)(E.api.notifications.getUserNotifications,r);_[4]!==A?(l=A?{userId:A}:"skip",_[4]=A,_[5]=l):l=_[5];let H=(0,T.useQuery)(E.api.notifications.getUnreadCount,l),W=(0,T.useMutation)(E.api.notifications.markAsRead),q=(0,T.useMutation)(E.api.notifications.markAllAsRead),U=(0,T.useMutation)(E.api.notifications.deleteNotification);_[6]!==W||_[7]!==O?(s=async e=>{e.isRead||await W({notificationId:e._id}),e.actionUrl&&O.push(e.actionUrl),I(!1)},_[6]=W,_[7]=O,_[8]=s):s=_[8];let Y=s;_[9]!==q||_[10]!==A?(c=async()=>{A&&await q({userId:A})},_[9]=q,_[10]=A,_[11]=c):c=_[11];let X=c;_[12]!==U?(d=async(e,t)=>{e.stopPropagation(),await U({notificationId:t})},_[12]=U,_[13]=d):d=_[13];let V=d;return _[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(P,{className:"w-5 h-5"}),_[14]=h):h=_[14],_[15]!==H?(p=H&&H>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:H>9?"9+":H}),_[15]=H,_[16]=p):p=_[16],_[17]!==p?(g=(0,a.jsx)(M.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"relative",children:[h,p]})}),_[17]=p,_[18]=g):g=_[18],_[19]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)("h3",{className:"font-semibold",children:"Notifications"}),_[19]=x):x=_[19],_[20]!==X||_[21]!==H?(v=H&&H>0&&(0,a.jsxs)(o.Button,{variant:"ghost",size:"sm",onClick:X,className:"text-xs",children:[(0,a.jsx)(D.Check,{className:"w-3 h-3 mr-1"}),"Mark all read"]}),_[20]=X,_[21]=H,_[22]=v):v=_[22],_[23]!==v?(b=(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border-b",children:[x,v]}),_[23]=v,_[24]=b):b=_[24],_[25]!==L?(y=!L&&(0,a.jsx)("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading..."}),_[25]=L,_[26]=y):y=_[26],_[27]!==L?(j=L&&0===L.length&&(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)(P,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No notifications yet"})]}),_[27]=L,_[28]=j):j=_[28],_[29]!==V||_[30]!==Y||_[31]!==L?(N=L&&L.length>0&&(0,a.jsx)(a.Fragment,{children:L.map(e=>(0,a.jsx)(M.DropdownMenuItem,{className:`p-3 cursor-pointer ${!e.isRead?"bg-purple-50":""}`,onClick:()=>Y(e),children:(0,a.jsxs)("div",{className:"flex items-start gap-3 w-full",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:function(e){switch(e){case"message":return(0,a.jsx)(f.MessageSquare,{className:"w-4 h-4 text-blue-600"});case"comment":return(0,a.jsx)(f.MessageSquare,{className:"w-4 h-4 text-green-600"});case"upvote":return(0,a.jsx)($.ThumbsUp,{className:"w-4 h-4 text-purple-600"});case"verification":return(0,a.jsx)(k.Shield,{className:"w-4 h-4 text-orange-600"});case"route_completion":return(0,a.jsx)(u.MapPin,{className:"w-4 h-4 text-blue-600"});case"opportunity_unlock":return(0,a.jsx)(m.Briefcase,{className:"w-4 h-4 text-pink-600"});default:return(0,a.jsx)(P,{className:"w-4 h-4 text-gray-600"})}}(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,a.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:t=>V(t,e._id),children:(0,a.jsx)(w.X,{className:"w-3 h-3"})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[e.fromUser&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["from ",e.fromUser.name]}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:(0,B.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]})]})]})},e._id))}),_[29]=V,_[30]=Y,_[31]=L,_[32]=N):N=_[32],_[33]!==b||_[34]!==y||_[35]!==j||_[36]!==N?(C=(0,a.jsxs)(M.DropdownMenuContent,{align:"end",className:"w-80 max-h-[500px] overflow-y-auto",children:[b,y,j,N]}),_[33]=b,_[34]=y,_[35]=j,_[36]=N,_[37]=C):C=_[37],_[38]!==F||_[39]!==C||_[40]!==g?(S=(0,a.jsxs)(M.DropdownMenu,{open:F,onOpenChange:I,children:[g,C]}),_[38]=F,_[39]=C,_[40]=g,_[41]=S):S=_[41],S}var A=e.i(30374),z=e.i(26999);let F=R.default.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),I=()=>{let e=R.default.useContext(F);if(!e)throw Error("useDrawerContext must be used within a Drawer.Root");return e};function L(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function H(){return W(/^iPhone/)||W(/^iPad/)||W(/^Mac/)&&navigator.maxTouchPoints>1}function W(e){return"undefined"!=typeof window&&null!=window.navigator?e.test(window.navigator.platform):void 0}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");let q="undefined"!=typeof window?R.useLayoutEffect:R.useEffect;function U(...e){return(...t)=>{for(let a of e)"function"==typeof a&&a(...t)}}let Y="undefined"!=typeof document&&window.visualViewport;function X(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function V(e){for(X(e)&&(e=e.parentElement);e&&!X(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}let K=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Q=0;function G(e,t,a,n){return e.addEventListener(t,a,n),()=>{e.removeEventListener(t,a,n)}}function J(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=V(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let a=t.getBoundingClientRect().top,n=e.getBoundingClientRect().top;e.getBoundingClientRect().bottom>t.getBoundingClientRect().bottom+24&&(t.scrollTop+=n-a)}e=t.parentElement}}function Z(e){return e instanceof HTMLInputElement&&!K.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function ee(...e){return R.useCallback(function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(...e),e)}let et=new WeakMap;function ea(e,t,a=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([t,a])=>{t.startsWith("--")?e.style.setProperty(t,a):(n[t]=e.style[t],e.style[t]=a)}),a||et.set(e,n)}let en=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function er(e,t){if(!e)return null;let a=window.getComputedStyle(e),n=a.transform||a.webkitTransform||a.mozTransform,r=n.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[en(t)?13:12]):(r=n.match(/^matrix\((.+)\)$/))?parseFloat(r[1].split(", ")[en(t)?5:4]):null}function ei(e,t){if(!e)return()=>{};let a=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=a}}let eo=[.32,.72,0,1],el="vaul-dragging";function es(e){let t=R.default.useRef(e);return R.default.useEffect(()=>{t.current=e}),R.default.useMemo(()=>(...e)=>null==t.current?void 0:t.current.call(t,...e),[])}function ec({prop:e,defaultProp:t,onChange:a=()=>{}}){let[n,r]=function({defaultProp:e,onChange:t}){let a=R.default.useState(e),[n]=a,r=R.default.useRef(n),i=es(t);return R.default.useEffect(()=>{r.current!==n&&(i(n),r.current=n)},[n,r,i]),a}({defaultProp:t,onChange:a}),i=void 0!==e,o=i?e:n,l=es(a);return[o,R.default.useCallback(t=>{if(i){let a="function"==typeof t?t(e):t;a!==e&&l(a)}else r(t)},[i,e,r,l])]}let ed=()=>()=>{},eu=null;function em({open:e,onOpenChange:a,children:n,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:s=!0,closeThreshold:c=.25,scrollLockTimeout:d=100,dismissible:u=!0,handleOnly:m=!1,fadeFromIndex:f=o&&o.length-1,activeSnapPoint:h,setActiveSnapPoint:p,fixed:g,modal:x=!0,onClose:w,nested:v,noBodyStyles:b=!1,direction:y="bottom",defaultOpen:j=!1,disablePreventScroll:N=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:S=!1,repositionInputs:k=!0,onAnimationEnd:_,container:T,autoFocus:E=!1}){var M,P;let[D=!1,$]=ec({defaultProp:j,prop:e,onChange:e=>{null==a||a(e),e||v||eM(),setTimeout(()=>{null==_||_(e)},500),e&&!x&&"undefined"!=typeof window&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),e||(document.body.style.pointerEvents="auto")}}),[B,O]=R.default.useState(!1),[A,I]=R.default.useState(!1),[W,X]=R.default.useState(!1),K=R.default.useRef(null),ee=R.default.useRef(null),ei=R.default.useRef(null),es=R.default.useRef(null),ed=R.default.useRef(null),em=R.default.useRef(!1),ef=R.default.useRef(null),eh=R.default.useRef(0),ep=R.default.useRef(!1),eg=R.default.useRef(!j),ex=R.default.useRef(0),ew=R.default.useRef(null),ev=R.default.useRef((null==(M=ew.current)?void 0:M.getBoundingClientRect().height)||0),eb=R.default.useRef((null==(P=ew.current)?void 0:P.getBoundingClientRect().width)||0),ey=R.default.useRef(0),ej=R.default.useCallback(e=>{o&&e===e_.length-1&&(ee.current=new Date)},[]),{activeSnapPoint:eN,activeSnapPointIndex:eC,setActiveSnapPoint:eS,onRelease:ek,snapPointsOffset:e_,onDrag:eR,shouldFade:eT,getPercentageDragged:eE}=function({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:a,drawerRef:n,overlayRef:r,fadeFromIndex:i,onSnapPointChange:o,direction:l="bottom",container:s,snapToSequentialPoint:c}){let[d,u]=ec({prop:e,defaultProp:null==a?void 0:a[0],onChange:t}),[m,f]=R.default.useState("undefined"!=typeof window?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);R.default.useEffect(()=>{function e(){f({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let h=R.default.useMemo(()=>d===(null==a?void 0:a[a.length-1])||null,[a,d]),p=R.default.useMemo(()=>{var e;return null!=(e=null==a?void 0:a.findIndex(e=>e===d))?e:null},[a,d]),g=a&&a.length>0&&(i||0===i)&&!Number.isNaN(i)&&a[i]===d||!a,x=R.default.useMemo(()=>{var e;let t=s?{width:s.getBoundingClientRect().width,height:s.getBoundingClientRect().height}:"undefined"!=typeof window?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};return null!=(e=null==a?void 0:a.map(e=>{let a="string"==typeof e,n=0;if(a&&(n=parseInt(e,10)),en(l)){let r=a?n:m?e*t.height:0;return m?"bottom"===l?t.height-r:-t.height+r:r}let r=a?n:m?e*t.width:0;return m?"right"===l?t.width-r:-t.width+r:r}))?e:[]},[a,m,s]),w=R.default.useMemo(()=>null!==p?null==x?void 0:x[p]:null,[x,p]),v=R.default.useCallback(e=>{var t;let s=null!=(t=null==x?void 0:x.findIndex(t=>t===e))?t:null;o(s),ea(n.current,{transition:`transform 0.5s cubic-bezier(${eo.join(",")})`,transform:en(l)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`}),x&&s!==x.length-1&&void 0!==i&&s!==i&&s<i?ea(r.current,{transition:`opacity 0.5s cubic-bezier(${eo.join(",")})`,opacity:"0"}):ea(r.current,{transition:`opacity 0.5s cubic-bezier(${eo.join(",")})`,opacity:"1"}),u(null==a?void 0:a[Math.max(s,0)])},[n.current,a,x,i,r,u]);return R.default.useEffect(()=>{if(d||e){var t;let n=null!=(t=null==a?void 0:a.findIndex(t=>t===e||t===d))?t:-1;x&&-1!==n&&"number"==typeof x[n]&&v(x[n])}},[d,e,a,x,v]),{isLastSnapPoint:h,activeSnapPoint:d,shouldFade:g,getPercentageDragged:function(e,t){if(!a||"number"!=typeof p||!x||void 0===i)return null;let n=p===i-1;if(p>=i&&t)return 0;if(n&&!t)return 1;if(!g&&!n)return null;let r=n?p+1:p-1,o=e/Math.abs(n?x[r]-x[r-1]:x[r+1]-x[r]);return n?1-o:o},setActiveSnapPoint:u,activeSnapPointIndex:p,onRelease:function({draggedDistance:e,closeDrawer:t,velocity:n,dismissible:o}){if(void 0===i)return;let s="bottom"===l||"right"===l?(null!=w?w:0)-e:(null!=w?w:0)+e,d=p===i-1,u=0===p,m=e>0;if(d&&ea(r.current,{transition:`opacity 0.5s cubic-bezier(${eo.join(",")})`}),!c&&n>2&&!m)return void(o?t():v(x[0]));if(!c&&n>2&&m&&x&&a)return void v(x[a.length-1]);let f=null==x?void 0:x.reduce((e,t)=>"number"!=typeof e||"number"!=typeof t?e:Math.abs(t-s)<Math.abs(e-s)?t:e),g=en(l)?window.innerHeight:window.innerWidth;if(n>.4&&Math.abs(e)<.4*g){let e=m?1:-1;return e>0&&h&&a?void v(x[a.length-1]):void(u&&e<0&&o&&t(),null===p||v(x[p+e]))}v(f)},onDrag:function({draggedDistance:e}){if(null===w)return;let t="bottom"===l||"right"===l?w-e:w+e;("bottom"===l||"right"===l)&&t<x[x.length-1]||("top"===l||"left"===l)&&t>x[x.length-1]||ea(n.current,{transform:en(l)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})},snapPointsOffset:x}}({snapPoints:o,activeSnapPointProp:h,setActiveSnapPointProp:p,drawerRef:ew,fadeFromIndex:f,overlayRef:K,onSnapPointChange:ej,direction:y,container:T,snapToSequentialPoint:C});!function(e={}){let{isDisabled:a}=e;q(()=>{if(!a){var e,n,r;let a,i,o,l,s,c,d;return 1==++Q&&H()&&(o=0,l=window.pageXOffset,s=window.pageYOffset,c=U((e=document.documentElement,n="paddingRight",r=`${window.innerWidth-document.documentElement.clientWidth}px`,a=e.style[n],e.style[n]=r,()=>{e.style[n]=a})),window.scrollTo(0,0),d=U(G(document,"touchstart",e=>{((i=V(e.target))!==document.documentElement||i!==document.body)&&(o=e.changedTouches[0].pageY)},{passive:!1,capture:!0}),G(document,"touchmove",e=>{if(!i||i===document.documentElement||i===document.body)return void e.preventDefault();let t=e.changedTouches[0].pageY,a=i.scrollTop,n=i.scrollHeight-i.clientHeight;0!==n&&((a<=0&&t>o||a>=n&&t<o)&&e.preventDefault(),o=t)},{passive:!1,capture:!0}),G(document,"touchend",e=>{let t=e.target;Z(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),G(document,"focus",e=>{let t=e.target;Z(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",Y&&(Y.height<window.innerHeight?requestAnimationFrame(()=>{J(t)}):Y.addEventListener("resize",()=>J(t),{once:!0}))}))},!0),G(window,"scroll",()=>{window.scrollTo(0,0)})),t=()=>{c(),d(),window.scrollTo(l,s)}),()=>{0==--Q&&(null==t||t())}}},[a])}({isDisabled:!D||A||!x||W||!B||!k||!N});let{restorePositionSetting:eM}=function({isOpen:e,modal:t,nested:a,hasBeenOpened:n,preventScrollRestoration:r,noBodyStyles:i}){let[o,l]=R.default.useState(()=>"undefined"!=typeof window?window.location.href:""),s=R.default.useRef(0),c=R.default.useCallback(()=>{if(L()&&null===eu&&e&&!i){eu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};let{scrollX:e,innerHeight:t}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-s.current}px`,left:`${-e}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{let e=t-window.innerHeight;e&&s.current>=t&&(document.body.style.top=`${-(s.current+e)}px`)}),300)}},[e]),d=R.default.useCallback(()=>{if(L()&&null!==eu&&!i){let e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);Object.assign(document.body.style,eu),window.requestAnimationFrame(()=>{r&&o!==window.location.href?l(window.location.href):window.scrollTo(t,e)}),eu=null}},[o]);return R.default.useEffect(()=>{function e(){s.current=window.scrollY}return e(),window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),R.default.useEffect(()=>{if(t)return()=>{"undefined"==typeof document||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),R.default.useEffect(()=>{!a&&n&&(e?(window.matchMedia("(display-mode: standalone)").matches||c(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,o,t,a,c,d]),{restorePositionSetting:d}}({isOpen:D,modal:x,nested:null!=v&&v,hasBeenOpened:B,preventScrollRestoration:S,noBodyStyles:b});function eP(){return(window.innerWidth-26)/window.innerWidth}function eD(e,t){var a;let n=e,r=null==(a=window.getSelection())?void 0:a.toString(),i=ew.current?er(ew.current,y):null,o=new Date;if("SELECT"===n.tagName||n.hasAttribute("data-vaul-no-drag")||n.closest("[data-vaul-no-drag]"))return!1;if("right"===y||"left"===y)return!0;if(ee.current&&o.getTime()-ee.current.getTime()<500)return!1;if(null!==i&&("bottom"===y?i>0:i<0))return!0;if(r&&r.length>0)return!1;if(ed.current&&o.getTime()-ed.current.getTime()<d&&0===i||t)return ed.current=o,!1;for(;n;){if(n.scrollHeight>n.clientHeight){if(0!==n.scrollTop)return ed.current=new Date,!1;if("dialog"===n.getAttribute("role"))break}n=n.parentNode}return!0}function e$(e){A&&ew.current&&(ew.current.classList.remove(el),em.current=!1,I(!1),es.current=new Date),null==w||w(),e||$(!1),setTimeout(()=>{o&&eS(o[0])},500)}function eB(){if(!ew.current)return;let e=document.querySelector("[data-vaul-drawer-wrapper]"),t=er(ew.current,y);ea(ew.current,{transform:"translate3d(0, 0, 0)",transition:`transform 0.5s cubic-bezier(${eo.join(",")})`}),ea(K.current,{transition:`opacity 0.5s cubic-bezier(${eo.join(",")})`,opacity:"1"}),l&&t&&t>0&&D&&ea(e,{borderRadius:"8px",overflow:"hidden",...en(y)?{transform:`scale(${eP()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${eP()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${eo.join(",")})`},!0)}return R.default.useEffect(()=>{window.requestAnimationFrame(()=>{eg.current=!0})},[]),R.default.useEffect(()=>{var e;function t(){if(ew.current&&k&&(Z(document.activeElement)||ep.current)){var e;let t=(null==(e=window.visualViewport)?void 0:e.height)||0,a=window.innerHeight,n=a-t,r=ew.current.getBoundingClientRect().height||0;ey.current||(ey.current=r);let i=ew.current.getBoundingClientRect().top;if(Math.abs(ex.current-n)>60&&(ep.current=!ep.current),o&&o.length>0&&e_&&eC&&(n+=e_[eC]||0),ex.current=n,r>t||ep.current){let e=ew.current.getBoundingClientRect().height,o=e;e>t&&(o=t-(r>.8*a?i:26)),g?ew.current.style.height=`${e-Math.max(n,0)}px`:ew.current.style.height=`${Math.max(o,t-i)}px`}else{let e;e=navigator.userAgent,"undefined"!=typeof window&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))||(ew.current.style.height=`${ey.current}px`)}o&&o.length>0&&!ep.current?ew.current.style.bottom="0px":ew.current.style.bottom=`${Math.max(n,0)}px`}}return null==(e=window.visualViewport)||e.addEventListener("resize",t),()=>{var e;return null==(e=window.visualViewport)?void 0:e.removeEventListener("resize",t)}},[eC,o,e_]),R.default.useEffect(()=>(D&&(ea(document.documentElement,{scrollBehavior:"auto"}),ee.current=new Date),()=>{!function(e,t){if(!e||!(e instanceof HTMLElement))return;let a=et.get(e);a&&(e.style[t]=a[t])}(document.documentElement,"scrollBehavior")}),[D]),R.default.useEffect(()=>{x||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[x]),R.default.createElement(z.Root,{defaultOpen:j,onOpenChange:e=>{(u||e)&&(e?O(!0):e$(!0),$(e))},open:D},R.default.createElement(F.Provider,{value:{activeSnapPoint:eN,snapPoints:o,setActiveSnapPoint:eS,drawerRef:ew,overlayRef:K,onOpenChange:a,onPress:function(e){var t,a;!u&&!o||(!ew.current||ew.current.contains(e.target))&&(ev.current=(null==(t=ew.current)?void 0:t.getBoundingClientRect().height)||0,eb.current=(null==(a=ew.current)?void 0:a.getBoundingClientRect().width)||0,I(!0),ei.current=new Date,H()&&window.addEventListener("touchend",()=>em.current=!1,{once:!0}),e.target.setPointerCapture(e.pointerId),eh.current=en(y)?e.pageY:e.pageX)},onRelease:function(e){var t,a;if(!A||!ew.current)return;ew.current.classList.remove(el),em.current=!1,I(!1),es.current=new Date;let n=er(ew.current,y);if(!e||!eD(e.target,!1)||!n||Number.isNaN(n)||null===ei.current)return;let r=es.current.getTime()-ei.current.getTime(),l=eh.current-(en(y)?e.pageY:e.pageX),s=Math.abs(l)/r;if(s>.05&&(X(!0),setTimeout(()=>{X(!1)},200)),o){ek({draggedDistance:l*("bottom"===y||"right"===y?1:-1),closeDrawer:e$,velocity:s,dismissible:u}),null==i||i(e,!0);return}if("bottom"===y||"right"===y?l>0:l<0){eB(),null==i||i(e,!0);return}if(s>.4){e$(),null==i||i(e,!1);return}let d=Math.min(null!=(t=ew.current.getBoundingClientRect().height)?t:0,window.innerHeight),m=Math.min(null!=(a=ew.current.getBoundingClientRect().width)?a:0,window.innerWidth);if(Math.abs(n)>=("left"===y||"right"===y?m:d)*c){e$(),null==i||i(e,!1);return}null==i||i(e,!0),eB()},onDrag:function(e){if(ew.current&&A){let t="bottom"===y||"right"===y?1:-1,a=(eh.current-(en(y)?e.pageY:e.pageX))*t,n=a>0,i=o&&!u&&!n;if(i&&0===eC)return;let s=Math.abs(a),c=document.querySelector("[data-vaul-drawer-wrapper]"),d=s/("bottom"===y||"top"===y?ev.current:eb.current),m=eE(s,n);if(null!==m&&(d=m),i&&d>=1||!em.current&&!eD(e.target,n))return;if(ew.current.classList.add(el),em.current=!0,ea(ew.current,{transition:"none"}),ea(K.current,{transition:"none"}),o&&eR({draggedDistance:a}),n&&!o){let e=Math.min(-(8*(Math.log(a+1)-2)*1),0)*t;ea(ew.current,{transform:en(y)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`});return}let h=1-d;if((eT||f&&eC===f-1)&&(null==r||r(e,d),ea(K.current,{opacity:`${h}`,transition:"none"},!0)),c&&K.current&&l){let e=Math.min(eP()+d*(1-eP()),1),t=8-8*d,a=Math.max(0,14-14*d);ea(c,{borderRadius:`${t}px`,transform:en(y)?`scale(${e}) translate3d(0, ${a}px, 0)`:`scale(${e}) translate3d(${a}px, 0, 0)`,transition:"none"},!0)}if(!o){let e=s*t;ea(ew.current,{transform:en(y)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}}},dismissible:u,shouldAnimate:eg,handleOnly:m,isOpen:D,isDragging:A,shouldFade:eT,closeDrawer:e$,onNestedDrag:function(e,t){if(t<0)return;let a=(window.innerWidth-16)/window.innerWidth,n=a+t*(1-a),r=-16+16*t;ea(ew.current,{transform:en(y)?`scale(${n}) translate3d(0, ${r}px, 0)`:`scale(${n}) translate3d(${r}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(e){let t=e?(window.innerWidth-16)/window.innerWidth:1,a=e?-16:0;ef.current&&window.clearTimeout(ef.current),ea(ew.current,{transition:`transform 0.5s cubic-bezier(${eo.join(",")})`,transform:en(y)?`scale(${t}) translate3d(0, ${a}px, 0)`:`scale(${t}) translate3d(${a}px, 0, 0)`}),!e&&ew.current&&(ef.current=setTimeout(()=>{let e=er(ew.current,y);ea(ew.current,{transition:"none",transform:en(y)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})},500))},onNestedRelease:function(e,t){let a=en(y)?window.innerHeight:window.innerWidth,n=t?(a-16)/a:1,r=t?-16:0;t&&ea(ew.current,{transition:`transform 0.5s cubic-bezier(${eo.join(",")})`,transform:en(y)?`scale(${n}) translate3d(0, ${r}px, 0)`:`scale(${n}) translate3d(${r}px, 0, 0)`})},keyboardIsOpen:ep,modal:x,snapPointsOffset:e_,activeSnapPointIndex:eC,direction:y,shouldScaleBackground:l,setBackgroundColorOnScale:s,noBodyStyles:b,container:T,autoFocus:E}},n))}let ef=R.default.forwardRef(function({...e},t){let{overlayRef:a,snapPoints:n,onRelease:r,shouldFade:i,isOpen:o,modal:l,shouldAnimate:s}=I(),c=ee(t,a),d=n&&n.length>0;if(!l)return null;let u=R.default.useCallback(e=>r(e),[r]);return R.default.createElement(z.Overlay,{onMouseUp:u,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false","data-vaul-animate":(null==s?void 0:s.current)?"true":"false",...e})});ef.displayName="Drawer.Overlay";let eh=R.default.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:a,...n},r){let{drawerRef:i,onPress:o,onRelease:l,onDrag:s,keyboardIsOpen:c,snapPointsOffset:d,activeSnapPointIndex:u,modal:m,isOpen:f,direction:h,snapPoints:p,container:g,handleOnly:x,shouldAnimate:w,autoFocus:v}=I(),[b,y]=R.default.useState(!1),j=ee(r,i),N=R.default.useRef(null),C=R.default.useRef(null),S=R.default.useRef(!1),k=p&&p.length>0;function _(e){N.current=null,S.current=!1,l(e)}return!function(){let{direction:e,isOpen:t,shouldScaleBackground:a,setBackgroundColorOnScale:n,noBodyStyles:r}=I(),i=R.default.useRef(null),o=(0,R.useMemo)(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-26)/window.innerWidth}R.default.useEffect(()=>{if(t&&a){i.current&&clearTimeout(i.current);let t=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!t)return;!function(...e){}(n&&!r?ei(document.body,{background:"black"}):ed,ei(t,{transformOrigin:en(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${eo.join(",")})`}));let a=ei(t,{borderRadius:"8px",overflow:"hidden",...en(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{a(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},500)}}},[t,a,o])}(),R.default.useEffect(()=>{k&&window.requestAnimationFrame(()=>{y(!0)})},[]),R.default.createElement(z.Content,{"data-vaul-drawer-direction":h,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":f&&k?"true":"false","data-vaul-custom-container":g?"true":"false","data-vaul-animate":(null==w?void 0:w.current)?"true":"false",...n,ref:j,style:d&&d.length>0?{"--snap-point-height":`${d[null!=u?u:0]}px`,...t}:t,onPointerDown:e=>{x||(null==n.onPointerDown||n.onPointerDown.call(n,e),N.current={x:e.pageX,y:e.pageY},o(e))},onOpenAutoFocus:e=>{null==a||a(e),v||e.preventDefault()},onPointerDownOutside:t=>{(null==e||e(t),!m||t.defaultPrevented)?t.preventDefault():c.current&&(c.current=!1)},onFocusOutside:e=>{if(!m)return void e.preventDefault()},onPointerMove:e=>{if(C.current=e,x||(null==n.onPointerMove||n.onPointerMove.call(n,e),!N.current))return;let t=e.pageY-N.current.y,a=e.pageX-N.current.x,r="touch"===e.pointerType?10:2;((e,t,a=0)=>{if(S.current)return!0;let n=Math.abs(e.y),r=Math.abs(e.x),i=r>n,o=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*o<0)&&r>=0&&r<=a)return i}else if(!(e.y*o<0)&&n>=0&&n<=a)return!i;return S.current=!0,!0})({x:a,y:t},h,r)?s(e):(Math.abs(a)>r||Math.abs(t)>r)&&(N.current=null)},onPointerUp:e=>{null==n.onPointerUp||n.onPointerUp.call(n,e),N.current=null,S.current=!1,l(e)},onPointerOut:e=>{null==n.onPointerOut||n.onPointerOut.call(n,e),_(C.current)},onContextMenu:e=>{null==n.onContextMenu||n.onContextMenu.call(n,e),C.current&&_(C.current)}})});eh.displayName="Drawer.Content";let ep=R.default.forwardRef(function({preventCycle:e=!1,children:t,...a},n){let{closeDrawer:r,isDragging:i,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:s,dismissible:c,handleOnly:d,isOpen:u,onPress:m,onDrag:f}=I(),h=R.default.useRef(null),p=R.default.useRef(!1);function g(){h.current&&window.clearTimeout(h.current),p.current=!1}return R.default.createElement("div",{onClick:function(){p.current?g():window.setTimeout(()=>{!function(){if(i||e||p.current)return g();if(g(),!o||0===o.length){c||r();return}if(l===o[o.length-1]&&c)return r();let t=o.findIndex(e=>e===l);-1===t||s(o[t+1])}()},120)},onPointerCancel:g,onPointerDown:e=>{d&&m(e),h.current=window.setTimeout(()=>{p.current=!0},250)},onPointerMove:e=>{d&&f(e)},ref:n,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...a},R.default.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});ep.displayName="Drawer.Handle";let eg={Root:em,NestedRoot:function({onDrag:e,onOpenChange:t,open:a,...n}){let{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=I();if(!r)throw Error("Drawer.NestedRoot must be placed in another drawer");return R.default.createElement(em,{nested:!0,open:a,onClose:()=>{i(!1)},onDrag:(t,a)=>{r(t,a),null==e||e(t,a)},onOpenChange:e=>{e&&i(e),null==t||t(e)},onRelease:o,...n})},Content:eh,Overlay:ef,Trigger:z.Trigger,Portal:function(e){let t=I(),{container:a=t.container,...n}=e;return R.default.createElement(z.Portal,{container:a,...n})},Handle:ep,Close:z.Close,Title:z.Title,Description:z.Description};var ex=e.i(47163);function ew(e){let t,r,i=(0,n.c)(4);return i[0]!==e?({...t}=e,i[0]=e,i[1]=t):t=i[1],i[2]!==t?(r=(0,a.jsx)(eg.Root,{"data-slot":"drawer",...t}),i[2]=t,i[3]=r):r=i[3],r}function ev(e){let t,r,i=(0,n.c)(4);return i[0]!==e?({...t}=e,i[0]=e,i[1]=t):t=i[1],i[2]!==t?(r=(0,a.jsx)(eg.Portal,{"data-slot":"drawer-portal",...t}),i[2]=t,i[3]=r):r=i[3],r}function eb(e){let t,r,i,o,l=(0,n.c)(8);return l[0]!==e?({className:t,...r}=e,l[0]=e,l[1]=t,l[2]=r):(t=l[1],r=l[2]),l[3]!==t?(i=(0,ex.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),l[3]=t,l[4]=i):i=l[4],l[5]!==r||l[6]!==i?(o=(0,a.jsx)(eg.Overlay,{"data-slot":"drawer-overlay",className:i,...r}),l[5]=r,l[6]=i,l[7]=o):o=l[7],o}function ey(e){let t,r,i,o,l,s,c,d=(0,n.c)(12);return d[0]!==e?({className:r,children:t,...i}=e,d[0]=e,d[1]=t,d[2]=r,d[3]=i):(t=d[1],r=d[2],i=d[3]),d[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(eb,{}),d[4]=o):o=d[4],d[5]!==r?(l=(0,ex.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",r),d[5]=r,d[6]=l):l=d[6],d[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),d[7]=s):s=d[7],d[8]!==t||d[9]!==i||d[10]!==l?(c=(0,a.jsxs)(ev,{"data-slot":"drawer-portal",children:[o,(0,a.jsxs)(eg.Content,{"data-slot":"drawer-content",className:l,...i,children:[s,t]})]}),d[8]=t,d[9]=i,d[10]=l,d[11]=c):c=d[11],c}function ej(e){let t,r,i,o,l=(0,n.c)(8);return l[0]!==e?({className:t,...r}=e,l[0]=e,l[1]=t,l[2]=r):(t=l[1],r=l[2]),l[3]!==t?(i=(0,ex.cn)("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),l[3]=t,l[4]=i):i=l[4],l[5]!==r||l[6]!==i?(o=(0,a.jsx)("div",{"data-slot":"drawer-header",className:i,...r}),l[5]=r,l[6]=i,l[7]=o):o=l[7],o}function eN(e){let t,r,i,o,l=(0,n.c)(8);return l[0]!==e?({className:t,...r}=e,l[0]=e,l[1]=t,l[2]=r):(t=l[1],r=l[2]),l[3]!==t?(i=(0,ex.cn)("text-foreground font-semibold",t),l[3]=t,l[4]=i):i=l[4],l[5]!==r||l[6]!==i?(o=(0,a.jsx)(eg.Title,{"data-slot":"drawer-title",className:i,...r}),l[5]=r,l[6]=i,l[7]=o):o=l[7],o}function eC(e){let t,r,i,o,l=(0,n.c)(8);return l[0]!==e?({className:t,...r}=e,l[0]=e,l[1]=t,l[2]=r):(t=l[1],r=l[2]),l[3]!==t?(i=(0,ex.cn)("text-muted-foreground text-sm",t),l[3]=t,l[4]=i):i=l[4],l[5]!==r||l[6]!==i?(o=(0,a.jsx)(eg.Description,{"data-slot":"drawer-description",className:i,...r}),l[5]=r,l[6]=i,l[7]=o):o=l[7],o}var eS=e.i(17923),ek=e.i(78716),e_=e.i(35166);function eR(e){let t,r,o,l,s,c,d,u,f,h,p=(0,n.c)(37),{open:g,onOpenChange:x,onSelectPost:w,onSelectPoll:b}=e,y=(0,i.useRouter)(),j=(0,e_.useIsMobile)();p[0]!==x||p[1]!==w?(t={icon:S.FileText,title:"New Post",description:"Share your experience",color:"bg-blue-500",hoverColor:"hover:bg-blue-50",action:()=>{x(!1),w?.()}},p[0]=x,p[1]=w,p[2]=t):t=p[2],p[3]!==x||p[4]!==b?(r={icon:eS.BarChart3,title:"New Poll",description:"Ask the community",color:"bg-green-500",hoverColor:"hover:bg-green-50",action:()=>{x(!1),b?.()}},p[3]=x,p[4]=b,p[5]=r):r=p[5],p[6]!==x||p[7]!==y?(o={icon:ek.Video,title:"New Reel",description:"Record safety video",color:"bg-purple-500",hoverColor:"hover:bg-purple-50",action:()=>{x(!1),y.push("/reels/create")}},p[6]=x,p[7]=y,p[8]=o):o=p[8],p[9]!==x||p[10]!==y?(l={icon:v.Route,title:"Track Route",description:"Record your journey",color:"bg-orange-500",hoverColor:"hover:bg-orange-50",action:()=>{x(!1),y.push("/routes/track")}},p[9]=x,p[10]=y,p[11]=l):l=p[11],p[12]!==x||p[13]!==y?(s={icon:m.Briefcase,title:"Post Opportunity",description:"Share a job or resource",color:"bg-pink-500",hoverColor:"hover:bg-pink-50",action:()=>{x(!1),y.push("/opportunities")}},p[12]=x,p[13]=y,p[14]=s):s=p[14],p[15]!==t||p[16]!==r||p[17]!==o||p[18]!==l||p[19]!==s?(c=[t,r,o,l,s],p[15]=t,p[16]=r,p[17]=o,p[18]=l,p[19]=s,p[20]=c):c=p[20];let N=c;p[21]!==N?(d=(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4 p-4",children:N.map(eT)}),p[21]=N,p[22]=d):d=p[22];let C=d;if(j){let e,t,n;return p[23]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)(ej,{children:[(0,a.jsx)(eN,{children:"Create Something New"}),(0,a.jsx)(eC,{children:"Choose what you'd like to share with the community"})]}),p[23]=e):e=p[23],p[24]!==C?(t=(0,a.jsxs)(ey,{children:[e,C]}),p[24]=C,p[25]=t):t=p[25],p[26]!==x||p[27]!==g||p[28]!==t?(n=(0,a.jsx)(ew,{open:g,onOpenChange:x,children:t}),p[26]=x,p[27]=g,p[28]=t,p[29]=n):n=p[29],n}return p[30]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsxs)(A.DialogHeader,{children:[(0,a.jsx)(A.DialogTitle,{children:"Create Something New"}),(0,a.jsx)(A.DialogDescription,{children:"Choose what you'd like to share with the community"})]}),p[30]=u):u=p[30],p[31]!==C?(f=(0,a.jsxs)(A.DialogContent,{className:"sm:max-w-[600px]",children:[u,C]}),p[31]=C,p[32]=f):f=p[32],p[33]!==x||p[34]!==g||p[35]!==f?(h=(0,a.jsx)(A.Dialog,{open:g,onOpenChange:x,children:f}),p[33]=x,p[34]=g,p[35]=f,p[36]=h):h=p[36],h}function eT(e){return(0,a.jsxs)("button",{onClick:e.action,className:`flex flex-col items-center gap-3 p-6 rounded-xl border-2 border-gray-100 transition-all ${e.hoverColor} hover:border-gray-200 hover:shadow-md active:scale-95`,children:[(0,a.jsx)("div",{className:`w-14 h-14 ${e.color} rounded-full flex items-center justify-center`,children:(0,a.jsx)(e.icon,{className:"w-7 h-7 text-white"})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"font-semibold text-sm",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]},e.title)}var eE=e.i(83258),eM=e.i(27092);function eP(){let e,t,c,M,P,D,$,B,A,z,F,I,L,H,W,q,U,Y,X,V,K,Q,G,J,Z,ee,et,ea,en=(0,n.c)(49),er=(0,i.usePathname)(),[ei,eo]=(0,R.useState)(null),[el,es]=(0,R.useState)(!1),[ec,ed]=(0,R.useState)(!1),[eu,em]=(0,R.useState)(!1),[ef,eh]=(0,R.useState)(!1);en[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId&&eo(t.userId)}catch(e){console.error("Error getting user:",e)}})()},t=[],en[0]=e,en[1]=t):(e=en[0],t=en[1]),(0,R.useEffect)(e,t),en[2]!==ei?(c=ei?{userId:ei}:"skip",en[2]=ei,en[3]=c):c=en[3];let ep=(0,T.useQuery)(E.api.users.getUser,c);en[4]===Symbol.for("react.memo_cache_sentinel")?(M=[{href:"/feed",icon:d,label:"Feed",description:"Your personalized feed"},{href:"/reels",icon:N.Play,label:"Reels",description:"Safety videos"},{href:"/routes",icon:v.Route,label:"Routes",description:"Track your movement"},{href:"/map",icon:u.MapPin,label:"Safety Map",description:"Navigate safely"},{href:"/opportunities",icon:m.Briefcase,label:"Opportunities",description:"Jobs & resources"},{href:"/intelligence",icon:_.Database,label:"Intelligence",description:"B2B data platform"},{href:"/messages",icon:y,label:"Messages",description:"Direct messages"},{href:"/assistant",icon:f.MessageSquare,label:"AI Assistant",description:"Get personalized advice"},{href:"/profile",icon:h.User,label:"Profile",description:"Your stats & credits"}],en[4]=M):M=en[4];let eg=M;en[5]===Symbol.for("react.memo_cache_sentinel")?(P=(0,a.jsxs)(r.default,{href:"/feed",className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(p.Sparkles,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h1",{className:"font-bold text-lg",children:"Aurora"})]}),en[5]=P):P=en[5],en[6]===Symbol.for("react.memo_cache_sentinel")?(D=(0,a.jsx)(O,{}),en[6]=D):D=en[6],en[7]!==el?($=()=>es(!el),en[7]=el,en[8]=$):$=en[8];let ex=el?"Close menu":"Open menu";en[9]!==el?(B=el?(0,a.jsx)(w.X,{className:"w-6 h-6"}):(0,a.jsx)(x,{className:"w-6 h-6"}),en[9]=el,en[10]=B):B=en[10],en[11]!==$||en[12]!==ex||en[13]!==B?(A=(0,a.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[P,(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[D,(0,a.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:$,"aria-label":ex,children:B})]})]})}),en[11]=$,en[12]=ex,en[13]=B,en[14]=A):A=en[14],en[15]!==el?(z=el&&(0,a.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>es(!1),role:"button",tabIndex:0,"aria-label":"Close menu",onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&es(!1)}}),en[15]=el,en[16]=z):z=en[16];let ew=`
          fixed lg:static inset-y-0 left-0 z-40
          flex flex-col h-screen w-64 bg-white border-r
          transform transition-transform duration-300 ease-in-out
          ${el?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `;return en[17]===Symbol.for("react.memo_cache_sentinel")?(F=(0,a.jsx)("div",{className:"hidden lg:block p-6 border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)(r.default,{href:"/feed",className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(p.Sparkles,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-bold text-lg",children:"Aurora App"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"For women to thrive"})]})]}),(0,a.jsx)(O,{})]})}),en[17]=F):F=en[17],en[18]!==ep?(I=ep&&(0,a.jsxs)("div",{className:"p-4 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsxs)(l.Avatar,{children:[(0,a.jsx)(l.AvatarImage,{src:ep.profileImage}),(0,a.jsx)(l.AvatarFallback,{children:(ep.name&&"null"!==ep.name?ep.name:"U").charAt(0).toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-semibold text-sm truncate",children:ep.name&&"null"!==ep.name?ep.name:"User"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Trust: ",ep.trustScore]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-purple-50 rounded-lg px-3 py-2 mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-purple-900",children:"Credits"}),(0,a.jsx)(s.Badge,{className:"bg-purple-600",children:ep.credits})]}),(0,a.jsxs)(o.Button,{onClick:()=>ed(!0),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[(0,a.jsx)(C.Plus,{className:"w-4 h-4 mr-2"}),"Create"]})]}),en[18]=ep,en[19]=I):I=en[19],en[20]!==er?(L=(0,a.jsx)("div",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:eg.map(e=>{let t=er===e.href;return(0,a.jsx)(r.default,{href:e.href,onClick:()=>es(!1),children:(0,a.jsxs)("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${t?"bg-purple-100 text-purple-900":"hover:bg-gray-100 text-gray-700"}`,children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.label}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]})},e.href)})}),en[20]=er,en[21]=L):L=en[21],en[22]===Symbol.for("react.memo_cache_sentinel")?(H=()=>es(!1),en[22]=H):H=en[22],en[23]===Symbol.for("react.memo_cache_sentinel")?(W=(0,a.jsx)(r.default,{href:"/credits",onClick:H,children:(0,a.jsxs)(o.Button,{variant:"ghost",className:"w-full justify-start text-gray-600",children:[(0,a.jsx)(j.Coins,{className:"w-5 h-5 mr-3"}),"Credit Center"]})}),en[23]=W):W=en[23],en[24]===Symbol.for("react.memo_cache_sentinel")?(q=()=>es(!1),en[24]=q):q=en[24],en[25]===Symbol.for("react.memo_cache_sentinel")?(U=(0,a.jsx)(r.default,{href:"/settings",onClick:q,children:(0,a.jsxs)(o.Button,{variant:"ghost",className:"w-full justify-start text-gray-600",children:[(0,a.jsx)(b.Settings,{className:"w-5 h-5 mr-3"}),"Settings"]})}),en[25]=U):U=en[25],en[26]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>es(!1),en[26]=Y):Y=en[26],en[27]===Symbol.for("react.memo_cache_sentinel")?(X=(0,a.jsx)(r.default,{href:"/legal/terms",onClick:Y,children:(0,a.jsxs)(o.Button,{variant:"ghost",className:"w-full justify-start text-gray-500 text-xs",children:[(0,a.jsx)(S.FileText,{className:"w-4 h-4 mr-3"}),"Terms of Service"]})}),en[27]=X):X=en[27],en[28]===Symbol.for("react.memo_cache_sentinel")?(V=()=>es(!1),en[28]=V):V=en[28],en[29]===Symbol.for("react.memo_cache_sentinel")?(K=(0,a.jsxs)("div",{className:"pt-2 border-t",children:[X,(0,a.jsx)(r.default,{href:"/legal/privacy",onClick:V,children:(0,a.jsxs)(o.Button,{variant:"ghost",className:"w-full justify-start text-gray-500 text-xs",children:[(0,a.jsx)(k.Shield,{className:"w-4 h-4 mr-3"}),"Privacy Policy"]})})]}),en[29]=K):K=en[29],en[30]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,a.jsxs)("div",{className:"p-4 border-t space-y-1",children:[W,U,K,(0,a.jsxs)(o.Button,{variant:"ghost",className:"w-full justify-start",onClick:eD,"aria-label":"Logout from your account",children:[(0,a.jsx)(g,{className:"w-5 h-5 mr-3"}),"Logout"]})]}),en[30]=Q):Q=en[30],en[31]!==ew||en[32]!==I||en[33]!==L?(G=(0,a.jsxs)("nav",{className:ew,"aria-label":"Main navigation",children:[F,I,L,Q]}),en[31]=ew,en[32]=I,en[33]=L,en[34]=G):G=en[34],en[35]===Symbol.for("react.memo_cache_sentinel")?(J=()=>em(!0),Z=()=>eh(!0),en[35]=J,en[36]=Z):(J=en[35],Z=en[36]),en[37]!==ec?(ee=(0,a.jsx)(eR,{open:ec,onOpenChange:ed,onSelectPost:J,onSelectPoll:Z}),en[37]=ec,en[38]=ee):ee=en[38],en[39]!==ef||en[40]!==eu||en[41]!==ei?(et=ei&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eE.PostCreateDialog,{open:eu,onOpenChange:em,userId:ei}),(0,a.jsx)(eM.PollCreateDialog,{open:ef,onOpenChange:eh,userId:ei})]}),en[39]=ef,en[40]=eu,en[41]=ei,en[42]=et):et=en[42],en[43]!==z||en[44]!==G||en[45]!==ee||en[46]!==et||en[47]!==A?(ea=(0,a.jsxs)(a.Fragment,{children:[A,z,G,ee,et]}),en[43]=z,en[44]=G,en[45]=ee,en[46]=et,en[47]=A,en[48]=ea):ea=en[48],ea}async function eD(){await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/"}var e$=e.i(59975);function eB(e){let t,o,l,s,c,m,f,g,x,w,v,b,j,N,S,k,_,T,E,M=(0,n.c)(32),{children:P}=e,D=(0,i.usePathname)(),[$,B]=(0,R.useState)(!1),[A,z]=(0,R.useState)(!1),[F,I]=(0,R.useState)(!1),[L,H]=(0,R.useState)(null);M[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId&&H(t.userId)}catch(e){console.error("Error getting user:",e)}})()},o=[],M[0]=t,M[1]=o):(t=M[0],o=M[1]),(0,R.useEffect)(t,o),M[2]===Symbol.for("react.memo_cache_sentinel")?(l=[{href:"/feed",icon:d,label:"Home"},{href:"/map",icon:u.MapPin,label:"Map"},{href:"/reels",icon:p.Sparkles,label:"Reels"},{href:"/profile",icon:h.User,label:"Profile"}],M[2]=l):l=M[2];let W=l;return M[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(p.Sparkles,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h1",{className:"font-bold text-lg",children:"Aurora"})]}),M[3]=s):s=M[3],M[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsxs)("div",{className:"bg-white border-b px-4 py-3 flex items-center justify-between flex-shrink-0 z-50 shadow-sm",children:[s,(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.default,{href:"/messages",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(y,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsx)(O,{})]})]}),M[4]=c):c=M[4],M[5]!==P?(m=(0,a.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden pb-4",children:P}),M[5]=P,M[6]=m):m=M[6],M[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(e$.PanicButton,{}),M[7]=f):f=M[7],M[8]===Symbol.for("react.memo_cache_sentinel")?(g=W.slice(0,2),M[8]=g):g=M[8],M[9]!==D?(x=g.map(e=>{let t=D===e.href||D.startsWith(e.href+"/");return(0,a.jsxs)(r.default,{href:e.href,className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-colors ${t?"text-purple-600":"text-gray-600"}`,children:[(0,a.jsx)(e.icon,{className:`w-6 h-6 ${t?"fill-purple-100":""}`}),(0,a.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.href)}),M[9]=D,M[10]=x):x=M[10],M[11]===Symbol.for("react.memo_cache_sentinel")?(w=()=>B(!0),M[11]=w):w=M[11],M[12]===Symbol.for("react.memo_cache_sentinel")?(v=(0,a.jsxs)("button",{onClick:w,className:"flex flex-col items-center gap-1 px-4 py-2 -mt-8",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow",children:(0,a.jsx)(C.Plus,{className:"w-7 h-7 text-white"})}),(0,a.jsx)("span",{className:"text-xs font-medium text-purple-600 mt-1",children:"Create"})]}),b=W.slice(2),M[12]=v,M[13]=b):(v=M[12],b=M[13]),M[14]!==D?(j=b.map(e=>{let t=D===e.href||D.startsWith(e.href+"/");return(0,a.jsxs)(r.default,{href:e.href,className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-colors ${t?"text-purple-600":"text-gray-600"}`,children:[(0,a.jsx)(e.icon,{className:`w-6 h-6 ${t?"fill-purple-100":""}`}),(0,a.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.href)}),M[14]=D,M[15]=j):j=M[15],M[16]!==j||M[17]!==x?(N=(0,a.jsx)("nav",{className:"bg-white border-t flex-shrink-0 z-50 shadow-[0_-2px_10px_rgba(0,0,0,0.05)]",children:(0,a.jsxs)("div",{className:"flex items-center justify-around py-2 safe-area-inset-bottom relative",children:[x,v,j]})}),M[16]=j,M[17]=x,M[18]=N):N=M[18],M[19]===Symbol.for("react.memo_cache_sentinel")?(S=()=>z(!0),k=()=>I(!0),M[19]=S,M[20]=k):(S=M[19],k=M[20]),M[21]!==$?(_=(0,a.jsx)(eR,{open:$,onOpenChange:B,onSelectPost:S,onSelectPoll:k}),M[21]=$,M[22]=_):_=M[22],M[23]!==F||M[24]!==A||M[25]!==L?(T=L&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eE.PostCreateDialog,{open:A,onOpenChange:z,userId:L}),(0,a.jsx)(eM.PollCreateDialog,{open:F,onOpenChange:I,userId:L})]}),M[23]=F,M[24]=A,M[25]=L,M[26]=T):T=M[26],M[27]!==N||M[28]!==_||M[29]!==T||M[30]!==m?(E=(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50 overflow-hidden",children:[c,m,f,N,_,T]}),M[27]=N,M[28]=_,M[29]=T,M[30]=m,M[31]=E):E=M[31],E}var eO=e.i(70065),eA=e.i(40160);function ez(){let e,t,r,i,l,s,c,d,u,m,f,h,p=(0,n.c)(16),[g,x]=(0,R.useState)(null),[v,b]=(0,R.useState)(!1);p[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{let e=e=>{e.preventDefault(),x(e),localStorage.getItem("pwa-install-dismissed")||b(!0)};return window.addEventListener("beforeinstallprompt",e),window.matchMedia("(display-mode: standalone)").matches&&b(!1),()=>{window.removeEventListener("beforeinstallprompt",e)}},t=[],p[0]=e,p[1]=t):(e=p[0],t=p[1]),(0,R.useEffect)(e,t),p[2]!==g?(r=async()=>{if(!g)return;g.prompt();let{outcome:e}=await g.userChoice;"accepted"===e&&console.log("User accepted the install prompt"),x(null),b(!1)},p[2]=g,p[3]=r):r=p[3];let y=r;p[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{b(!1),localStorage.setItem("pwa-install-dismissed","true")},p[4]=i):i=p[4];let j=i;return v?(p[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(eA.Download,{className:"w-5 h-5 text-purple-600"})}),p[5]=l):l=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("h3",{className:"font-semibold text-sm mb-1",children:"Install Aurora App"}),c=(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Get quick access and work offline. Install our app for the best experience."}),p[6]=s,p[7]=c):(s=p[6],c=p[7]),p[8]!==y?(d=(0,a.jsx)(o.Button,{size:"sm",onClick:y,className:"flex-1",children:"Install"}),p[8]=y,p[9]=d):d=p[9],p[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(o.Button,{size:"sm",variant:"outline",onClick:j,children:"Not Now"}),p[10]=u):u=p[10],p[11]!==d?(m=(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[s,c,(0,a.jsxs)("div",{className:"flex gap-2",children:[d,u]})]}),p[11]=d,p[12]=m):m=p[12],p[13]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)("button",{onClick:j,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(w.X,{className:"w-4 h-4"})}),p[13]=f):f=p[13],p[14]!==m?(h=(0,a.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 sm:left-auto sm:right-4 sm:max-w-sm",children:(0,a.jsx)(eO.Card,{className:"shadow-lg border-2 border-purple-200",children:(0,a.jsx)(eO.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[l,m,f]})})})}),p[14]=m,p[15]=h):h=p[15],h):null}function eF(e){let t,r,i,o,l,s=(0,n.c)(12),{children:c}=e;if((0,e_.useIsMobile)()){let e,t,n;return s[0]!==c?(e=(0,a.jsx)(eB,{children:c}),s[0]=c,s[1]=e):e=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(ez,{}),s[2]=t):t=s[2],s[3]!==e?(n=(0,a.jsxs)(a.Fragment,{children:[e,t]}),s[3]=e,s[4]=n):n=s[4],n}return s[5]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("a",{href:"#main-content",className:"skip-to-main",children:"Skip to main content"}),r=(0,a.jsx)(eP,{}),s[5]=t,s[6]=r):(t=s[5],r=s[6]),s[7]!==c?(i=(0,a.jsx)("main",{id:"main-content",className:"flex-1 overflow-auto pt-16 lg:pt-0",children:c}),s[7]=c,s[8]=i):i=s[8],s[9]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(ez,{}),s[9]=o):o=s[9],s[10]!==i?(l=(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[t,r,i,o]}),s[10]=i,s[11]=l):l=s[11],l}e.s(["default",()=>eF],1463)}]);