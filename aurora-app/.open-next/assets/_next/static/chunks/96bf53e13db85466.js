(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69705,e=>{"use strict";var s=e.i(43476),t=e.i(932),a=e.i(71645);e.i(50711);var r=e.i(82045),l=e.i(83394),i=e.i(70065),n=e.i(94179),o=e.i(67881),c=e.i(63270),d=e.i(84762),m=e.i(46897),x=e.i(70273),h=e.i(95468),p=e.i(417);let u=(0,e.i(75254).default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var j=e.i(86311),g=e.i(78716),f=e.i(23585),y=e.i(27612),N=e.i(14764),v=e.i(94913),w=e.i(63415);let b={professional:"bg-blue-100 text-blue-800",social:"bg-purple-100 text-purple-800",daily:"bg-green-100 text-green-800",travel:"bg-orange-100 text-orange-800",financial:"bg-pink-100 text-pink-800"},C={professional:"Professional",social:"Social",daily:"Daily Life",travel:"Travel",financial:"Financial"};function _({post:e,currentUserId:t,onVerify:_,onDelete:I,hasVerified:S=!1,showActions:k=!0}){let[T,D]=(0,a.useState)(!1),[M,B]=(0,a.useState)(""),[A,P]=(0,a.useState)(null),[U,F]=(0,a.useState)(!1),[V,z]=(0,a.useState)(!1),$=t===e.authorId,O=b[e.lifeDimension]||"bg-gray-100 text-gray-800",R=C[e.lifeDimension]||e.lifeDimension,L=(0,r.useMutation)(l.api.comments.vote),E=(0,r.useMutation)(l.api.comments.create),H=(0,r.useQuery)(l.api.comments.getByPost,T?{postId:e._id}:"skip"),q=(0,r.useQuery)(l.api.comments.getUserVote,t?{userId:t,targetId:e._id}:"skip"),Q=(0,r.useQuery)(l.api.posts.getPost,{postId:e._id});(0,a.useEffect)(()=>{void 0!==q&&P(q)},[q]);let W=async s=>{if(t)try{await L({userId:t,targetId:e._id,targetType:"post",voteType:s})}catch(e){console.error("Vote error:",e)}},Y=async()=>{if(_){F(!0);try{await _(),z(!0),setTimeout(()=>z(!1),3e3)}catch(e){console.error("Verify error:",e)}finally{F(!1)}}},Z=Q||e,G=async()=>{if(t&&M.trim())try{await E({postId:e._id,authorId:t,content:M}),B("")}catch(e){console.error("Comment error:",e)}};return(0,s.jsxs)(i.Card,{className:"hover-lift animate-fade-in-up overflow-hidden",children:[(0,s.jsx)(i.CardHeader,{className:"pb-3 px-4 sm:px-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsxs)(c.Avatar,{children:[(0,s.jsx)(c.AvatarImage,{src:e.author.profileImage}),(0,s.jsx)(c.AvatarFallback,{children:(e.author.name&&"null"!==e.author.name?e.author.name:"U").charAt(0).toUpperCase()})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold truncate",children:e.author.name&&"null"!==e.author.name?e.author.name:"Anonymous"}),e.author.trustScore>0&&(0,s.jsxs)(n.Badge,{variant:"secondary",className:"text-xs",children:["Trust: ",e.author.trustScore]}),!$&&!e.isAnonymous&&(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>window.location.href=`/messages/${e.authorId}`,children:[(0,s.jsx)(j.MessageSquare,{className:"w-3 h-3 mr-1"}),"Message"]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:(0,v.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Badge,{className:O,children:R}),$&&I&&(0,s.jsxs)(w.DropdownMenu,{children:[(0,s.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,s.jsx)(f.MoreVertical,{className:"h-4 w-4"})})}),(0,s.jsx)(w.DropdownMenuContent,{align:"end",children:(0,s.jsxs)(w.DropdownMenuItem,{onClick:I,className:"text-red-600 focus:text-red-600",children:[(0,s.jsx)(y.Trash2,{className:"h-4 w-4 mr-2"}),"Delete Post"]})})]})]})]})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4 px-4 sm:px-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-base sm:text-lg flex-1 min-w-0",children:e.title}),(0,s.jsx)("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[void 0,void 0,void 0,void 0,void 0].map((t,a)=>(0,s.jsx)(x.Star,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${a<e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},a))})]}),(0,s.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.description})]}),e.location&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(m.MapPin,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.location.name})]}),e.media&&e.media.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.media.slice(0,4).map((t,a)=>(0,s.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100",children:["image"===t.type?(0,s.jsx)("img",{src:t.url,alt:`Media ${a+1}`,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(g.Video,{className:"w-8 h-8 text-gray-400"})}),3===a&&e.media&&e.media.length>4&&(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white font-semibold",children:["+",e.media.length-4]})]},a))}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 pt-2 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(o.Button,{variant:"upvote"===A?"default":"ghost",size:"sm",onClick:()=>W("upvote"),className:"h-9 px-3 flex-1 sm:flex-none",children:[(0,s.jsx)(p.ThumbsUp,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"min-w-[20px] text-center",children:Z.upvotes||0})]}),(0,s.jsxs)(o.Button,{variant:"downvote"===A?"default":"ghost",size:"sm",onClick:()=>W("downvote"),className:"h-9 px-3 flex-1 sm:flex-none",children:[(0,s.jsx)(u,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"min-w-[20px] text-center",children:Z.downvotes||0})]})]}),(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",onClick:()=>D(!T),className:"h-9 px-3",children:[(0,s.jsx)(j.MessageSquare,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"min-w-[20px] text-center",children:Z.commentCount||0})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:ml-auto",children:[Z.isVerified&&(0,s.jsxs)(n.Badge,{variant:"outline",className:"text-green-600 border-green-600 justify-center py-1.5",children:[(0,s.jsx)(h.CheckCircle2,{className:"w-3 h-3 mr-1"}),"Verified"]}),!Z.isVerified&&Z.verificationCount>0&&(0,s.jsxs)(n.Badge,{variant:"outline",className:"text-blue-600 border-blue-600 justify-center py-1.5 whitespace-nowrap",children:[Z.verificationCount,"/5 verifications"]}),k&&_&&!$&&(0,s.jsx)(o.Button,{variant:S||V?"outline":"default",size:"sm",onClick:Y,disabled:S||U||V,className:`h-9 ${V?"bg-green-100 text-green-700 border-green-300":""}`,children:V?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.CheckCircle2,{className:"w-4 h-4 mr-1"}),"+5 Credits!"]}):S?"Verified":"Verify (+5)"})]})]}),T&&(0,s.jsxs)("div",{className:"space-y-3 pt-3 border-t",children:[t&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.Textarea,{placeholder:"Add a comment...",value:M,onChange:e=>B(e.target.value),className:"min-h-[60px]"}),(0,s.jsx)(o.Button,{size:"sm",onClick:G,disabled:!M.trim(),children:(0,s.jsx)(N.Send,{className:"w-4 h-4"})})]}),H&&H.length>0?(0,s.jsx)("div",{className:"space-y-3",children:H.map(e=>(0,s.jsxs)("div",{className:"flex gap-2 text-sm",children:[(0,s.jsxs)(c.Avatar,{className:"w-8 h-8",children:[(0,s.jsx)(c.AvatarImage,{src:e.author?.profileImage}),(0,s.jsx)(c.AvatarFallback,{children:e.author?.name?.charAt(0).toUpperCase()||"U"})]}),(0,s.jsxs)("div",{className:"flex-1 bg-gray-50 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.author?.name||"Anonymous"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:(0,v.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]}),(0,s.jsx)("p",{className:"text-gray-700",children:e.content}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>t&&L({userId:t,targetId:e._id,targetType:"comment",voteType:"upvote"}),children:[(0,s.jsx)(p.ThumbsUp,{className:"w-3 h-3 mr-1"}),e.upvotes]}),(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>t&&L({userId:t,targetId:e._id,targetType:"comment",voteType:"downvote"}),children:[(0,s.jsx)(u,{className:"w-3 h-3 mr-1"}),e.downvotes]})]})]})]},e._id))}):(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No comments yet. Be the first to comment!"})]})]})]})}var I=e.i(87336),S=e.i(17923),k=e.i(61911);function T({post:e,currentUserId:t,onDelete:c,isMobile:d=!1}){let[m,x]=(0,a.useState)(!1),h=(0,r.useMutation)(l.api.polls.votePoll),g=(0,r.useMutation)(l.api.polls.deletePoll),f=(0,r.useMutation)(l.api.posts.votePost),N=(0,r.useQuery)(l.api.polls.getUserVote,t?{postId:e._id,userId:t}:"skip"),w=t===e.authorId,b=null!=N,C=e.pollOptions?.reduce((e,s)=>e+s.votes,0)||0,_=async s=>{if(t&&!m){x(!0);try{await h({postId:e._id,userId:t,optionIndex:s})}catch(e){console.error("Vote error:",e),alert("Failed to vote: "+e.message)}finally{x(!1)}}},T=async s=>{if(t)try{await f({postId:e._id,userId:t,voteType:s})}catch(e){console.error("Post vote error:",e)}},D=async()=>{if(t&&w&&confirm("Are you sure you want to delete this poll?"))try{await g({postId:e._id,userId:t}),c?.()}catch(e){console.error("Delete error:",e),alert("Failed to delete poll: "+e.message)}};return(0,s.jsxs)(i.Card,{className:`hover-lift animate-fade-in-up ${d?"rounded-none border-x-0":""}`,children:[(0,s.jsx)(i.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-lg bg-orange-100 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(S.BarChart3,{className:"w-6 h-6 text-orange-600"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[!e.isAnonymous&&e.author&&(0,s.jsx)("span",{className:"font-medium text-sm",children:e.author.name||e.author.email.split("@")[0]}),e.isAnonymous&&(0,s.jsx)("span",{className:"font-medium text-sm text-gray-500",children:"Anonymous"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"•"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:(0,v.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]}),(0,s.jsx)("h3",{className:"font-semibold text-lg leading-tight",children:e.title}),e.description&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,s.jsx)(n.Badge,{className:{professional:"bg-blue-100 text-blue-800",social:"bg-green-100 text-green-800",daily:"bg-yellow-100 text-yellow-800",travel:"bg-purple-100 text-purple-800",financial:"bg-red-100 text-red-800"}[e.lifeDimension]||"bg-gray-100 text-gray-800",children:e.lifeDimension}),w&&(0,s.jsx)(o.Button,{variant:"ghost",size:"sm",onClick:D,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,s.jsx)(y.Trash2,{className:"w-4 h-4"})})]})]})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-3",children:e.pollOptions?.map((e,a)=>{let r,l=(r=e.votes,C>0?Math.round(r/C*100):0),i=N===a;return(0,s.jsx)("div",{className:"relative",children:t&&!b?(0,s.jsx)(o.Button,{variant:"outline",className:`w-full justify-start h-auto p-4 text-left hover:bg-purple-50 hover:border-purple-300 ${d?"min-h-[44px]":""}`,onClick:()=>_(a),disabled:m,children:(0,s.jsx)("span",{className:"font-medium",children:e.text})}):(0,s.jsxs)("div",{className:`relative p-4 rounded-lg border ${i?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:`font-medium ${i?"text-purple-900":"text-gray-900"}`,children:[e.text,i&&" ✓"]}),(0,s.jsxs)("span",{className:"text-sm font-bold text-gray-700",children:[l,"%"]})]}),b&&(0,s.jsx)(I.Progress,{value:l,className:"h-2"}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.votes," ",1===e.votes?"vote":"votes"]})]})},a)})}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t text-sm text-gray-600",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(k.Users,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[C," ",1===C?"vote":"votes"]})]})}),!t&&!b&&(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"Login to vote"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 pt-2 border-t",children:[(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",onClick:()=>T("upvote"),disabled:!t,className:"flex items-center gap-1",children:[(0,s.jsx)(p.ThumbsUp,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.upvotes||0})]}),(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",onClick:()=>T("downvote"),disabled:!t,className:"flex items-center gap-1",children:[(0,s.jsx)(u,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.downvotes||0})]}),(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"flex items-center gap-1",children:[(0,s.jsx)(j.MessageSquare,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.commentCount||0})]})]})]})]})}var D=e.i(83086);function M({post:e,currentUserId:t,onDelete:a,isMobile:c=!1}){let d=(0,r.useMutation)(l.api.posts.votePost),m=(0,r.useMutation)(l.api.posts.deletePost),x=t===e.authorId,h=async s=>{if(t)try{await d({postId:e._id,userId:t,voteType:s})}catch(e){console.error("Vote error:",e)}},g=async()=>{if(t&&x&&confirm("Are you sure you want to delete this shared conversation?"))try{await m({postId:e._id,userId:t}),a?.()}catch(e){console.error("Delete error:",e),alert("Failed to delete: "+e.message)}},f=e.description.split("\n\n");return(0,s.jsxs)(i.Card,{className:`hover-lift animate-fade-in-up ${c?"rounded-none border-x-0":""}`,children:[(0,s.jsx)(i.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(D.Sparkles,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[!e.isAnonymous&&e.author&&(0,s.jsx)("span",{className:"font-medium text-sm",children:e.author.name||e.author.email.split("@")[0]}),e.isAnonymous&&(0,s.jsx)("span",{className:"font-medium text-sm text-gray-500",children:"Anonymous"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"•"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:(0,v.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]}),(0,s.jsx)("h3",{className:"font-semibold text-lg leading-tight",children:e.title})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,s.jsx)(n.Badge,{className:{professional:"bg-blue-100 text-blue-800",social:"bg-green-100 text-green-800",daily:"bg-yellow-100 text-yellow-800",travel:"bg-purple-100 text-purple-800",financial:"bg-red-100 text-red-800"}[e.lifeDimension]||"bg-gray-100 text-gray-800",children:e.lifeDimension}),x&&(0,s.jsx)(o.Button,{variant:"ghost",size:"sm",onClick:g,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,s.jsx)(y.Trash2,{className:"w-4 h-4"})})]})]})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-3 bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:f.map((e,t)=>{let a=e.startsWith("**You:**"),r=e.replace(/\*\*(You|Aurora AI):\*\* /,"");return(0,s.jsx)("div",{className:`flex ${a?"justify-end":"justify-start"}`,children:(0,s.jsx)("div",{className:`rounded-lg p-3 max-w-[85%] ${a?"bg-purple-600 text-white":"bg-white border border-gray-200"}`,children:(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:r})})},t)})}),(0,s.jsxs)("div",{className:"flex items-center gap-4 pt-2 border-t",children:[(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",onClick:()=>h("upvote"),disabled:!t,className:"flex items-center gap-1",children:[(0,s.jsx)(p.ThumbsUp,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.upvotes||0})]}),(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",onClick:()=>h("downvote"),disabled:!t,className:"flex items-center gap-1",children:[(0,s.jsx)(u,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.downvotes||0})]}),(0,s.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"flex items-center gap-1",children:[(0,s.jsx)(j.MessageSquare,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.commentCount||0})]})]})]})]})}var B=e.i(34098),A=e.i(25652),P=e.i(22016);function U({route:e,currentUserId:t,onDelete:a}){let c=(e.distance/1e3).toFixed(1),d=Math.round(e.duration/60),h=t===e.creatorId,p=(0,r.useMutation)(l.api.routes.deleteRoute),u=async()=>{if(t&&h&&confirm("Are you sure you want to delete this route? All GPS data, ratings, and reviews will be permanently removed."))try{await p({routeId:e._id,userId:t}),a?.()}catch(e){console.error("Delete error:",e),alert("Failed to delete route: "+e.message)}};return(0,s.jsxs)(i.Card,{className:"hover-lift animate-fade-in-up",children:[(0,s.jsx)(i.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center",children:(0,s.jsx)(B.Route,{className:"w-6 h-6 text-green-600"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg truncate",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:(0,v.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Badge,{className:"bg-green-100 text-green-800",children:e.routeType.charAt(0).toUpperCase()+e.routeType.slice(1)}),h&&(0,s.jsxs)(w.DropdownMenu,{children:[(0,s.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(o.Button,{variant:"ghost",size:"sm",children:(0,s.jsx)(f.MoreVertical,{className:"w-4 h-4"})})}),(0,s.jsx)(w.DropdownMenuContent,{align:"end",children:(0,s.jsxs)(w.DropdownMenuItem,{onClick:u,className:"text-red-600 focus:text-red-600",children:[(0,s.jsx)(y.Trash2,{className:"w-4 h-4 mr-2"}),"Delete Route"]})})]})]})]})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:c}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"km"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:d}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"min"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.rating}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"rating"})]})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.MapPin,{className:"w-4 h-4 text-gray-500"}),(0,s.jsx)("span",{className:"text-gray-600",children:"From:"}),(0,s.jsx)("span",{className:"font-medium truncate",children:e.startLocation.name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.MapPin,{className:"w-4 h-4 text-gray-500"}),(0,s.jsx)("span",{className:"text-gray-600",children:"To:"}),(0,s.jsx)("span",{className:"font-medium truncate",children:e.endLocation.name})]})]}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.slice(0,3).map((e,t)=>(0,s.jsx)(n.Badge,{variant:"secondary",className:"text-xs",children:e},t))}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(A.TrendingUp,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.completionCount," completed"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(x.Star,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),(0,s.jsxs)("span",{children:[e.rating,"/5"]})]})]}),(0,s.jsx)(P.default,{href:`/routes/discover/${e._id}`,children:(0,s.jsx)(o.Button,{size:"sm",children:"View Route"})})]})]})]})}var F=e.i(63727),V=e.i(32095),z=e.i(78583),$=e.i(87316),O=e.i(12426);let R={job:F.Briefcase,mentorship:V.GraduationCap,resource:z.FileText,event:$.Calendar,funding:O.DollarSign},L={job:"bg-blue-100 text-blue-800",mentorship:"bg-purple-100 text-purple-800",resource:"bg-green-100 text-green-800",event:"bg-orange-100 text-orange-800",funding:"bg-pink-100 text-pink-800"};function E({opportunity:e,currentUserId:t,onDelete:a}){let c=R[e.category]||F.Briefcase,d=L[e.category]||"bg-gray-100 text-gray-800",x=t===e.creatorId,h=(0,r.useMutation)(l.api.opportunities.deleteOpportunity),p=async()=>{if(t&&x&&confirm("Are you sure? Users who unlocked this opportunity will keep access, but you'll stop earning credits from new unlocks."))try{await h({opportunityId:e._id,userId:t}),a?.()}catch(e){console.error("Delete error:",e),alert("Failed to delete opportunity: "+e.message)}};return(0,s.jsxs)(i.Card,{className:"hover-lift animate-fade-in-up",children:[(0,s.jsx)(i.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:`w-12 h-12 rounded-lg ${d} flex items-center justify-center`,children:(0,s.jsx)(c,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg truncate",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:(0,v.formatDistanceToNow)(e._creationTime,{addSuffix:!0})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Badge,{className:d,children:e.category.charAt(0).toUpperCase()+e.category.slice(1)}),x&&(0,s.jsxs)(w.DropdownMenu,{children:[(0,s.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(o.Button,{variant:"ghost",size:"sm",children:(0,s.jsx)(f.MoreVertical,{className:"w-4 h-4"})})}),(0,s.jsx)(w.DropdownMenuContent,{align:"end",children:(0,s.jsxs)(w.DropdownMenuItem,{onClick:p,className:"text-red-600 focus:text-red-600",children:[(0,s.jsx)(y.Trash2,{className:"w-4 h-4 mr-2"}),"Delete Opportunity"]})})]})]})]})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4",children:[(e.company||e.location)&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600",children:[e.company&&(0,s.jsx)("span",{className:"font-medium",children:e.company}),e.location&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(m.MapPin,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.location})]})]}),(0,s.jsx)("p",{className:"text-gray-700 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(D.Sparkles,{className:"w-4 h-4 text-purple-600"}),(0,s.jsxs)("span",{className:"font-medium text-purple-600",children:[e.creditCost," credits"]})]}),(0,s.jsx)(P.default,{href:"/opportunities",children:(0,s.jsx)(o.Button,{size:"sm",children:"View Details"})})]})]})]})}var H=e.i(83258),q=e.i(27092),Q=e.i(40752);e.i(47167);var W=e.i(98919);function Y(e){let a,r,l,o,c,d,x,h,p,u,j,g,f,y,N,w,b,C,_,I,S,k,T,D,M,B,A,U,F=(0,t.c)(66),{route:V,safetyInsight:z}=e,$=V.distance/1e3;F[0]!==$?(a=$.toFixed(1),F[0]=$,F[1]=a):a=F[1];let O=a;F[2]!==V.duration?(r=Math.round(V.duration/60),F[2]=V.duration,F[3]=r):r=F[3];let R=r,L=Math.round(20*V.rating);F[4]!==V.coordinates||F[5]!==L?(l=()=>{let e=V.coordinates.filter(J).map(G).join(";"),s=L>=70?"00ff00":L>=40?"ffaa00":"ff0000";return`https://api.mapbox.com/styles/v1/mapbox/streets-v12/static/path-4+${s}(${e})/auto/600x300@2x?access_token=pk.eyJ1IjoibWFsdW5hbyIsImEiOiJjbGNnZTBrd2EyYmRjM29uMndzZDZ2cWRxIn0.7ffmNPdwDu1nU-PkgFgEsw`},F[4]=V.coordinates,F[5]=L,F[6]=l):l=F[6];let E=l,H=`/routes/discover/${V._id}`,q=E();F[7]!==V.title||F[8]!==q?(o=(0,s.jsx)("img",{src:q,alt:V.title,className:"w-full h-full object-cover"}),F[7]=V.title,F[8]=q,F[9]=o):o=F[9];let Q=`w-4 h-4 ${L>=70?"text-green-600":L>=40?"text-yellow-600":"text-red-600"}`;return F[10]!==Q?(c=(0,s.jsx)(W.Shield,{className:Q}),F[10]=Q,F[11]=c):c=F[11],F[12]!==L?(d=(0,s.jsx)("span",{className:"font-bold text-sm",children:L}),F[12]=L,F[13]=d):d=F[13],F[14]!==d||F[15]!==c?(x=(0,s.jsx)("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[c,d]})}),F[14]=d,F[15]=c,F[16]=x):x=F[16],F[17]!==x||F[18]!==o?(h=(0,s.jsxs)("div",{className:"relative h-48 bg-gray-200",children:[o,x]}),F[17]=x,F[18]=o,F[19]=h):h=F[19],F[20]!==V.title?(p=(0,s.jsx)("h3",{className:"font-bold text-lg leading-tight mb-1",children:V.title}),F[20]=V.title,F[21]=p):p=F[21],F[22]!==V._creationTime?(u=(0,v.formatDistanceToNow)(V._creationTime,{addSuffix:!0}),F[22]=V._creationTime,F[23]=u):u=F[23],F[24]!==u?(j=(0,s.jsx)("p",{className:"text-xs text-gray-500",children:u}),F[24]=u,F[25]=j):j=F[25],F[26]!==p||F[27]!==j?(g=(0,s.jsxs)("div",{className:"flex-1",children:[p,j]}),F[26]=p,F[27]=j,F[28]=g):g=F[28],F[29]!==V.routeType?(f=(0,s.jsx)(n.Badge,{className:"bg-purple-100 text-purple-800 text-xs",children:V.routeType}),F[29]=V.routeType,F[30]=f):f=F[30],F[31]!==g||F[32]!==f?(y=(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[g,f]}),F[31]=g,F[32]=f,F[33]=y):y=F[33],F[34]===Symbol.for("react.memo_cache_sentinel")?(N=(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"Distance"}),F[34]=N):N=F[34],F[35]!==O?(w=(0,s.jsxs)("div",{children:[N,(0,s.jsxs)("div",{className:"font-bold text-lg",children:[O," km"]})]}),F[35]=O,F[36]=w):w=F[36],F[37]===Symbol.for("react.memo_cache_sentinel")?(b=(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"Time"}),F[37]=b):b=F[37],F[38]!==R?(C=(0,s.jsxs)("div",{children:[b,(0,s.jsxs)("div",{className:"font-bold text-lg",children:[R," min"]})]}),F[38]=R,F[39]=C):C=F[39],F[40]===Symbol.for("react.memo_cache_sentinel")?(_=(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"Completed"}),F[40]=_):_=F[40],F[41]!==V.completionCount?(I=(0,s.jsxs)("div",{children:[_,(0,s.jsx)("div",{className:"font-bold text-lg",children:V.completionCount})]}),F[41]=V.completionCount,F[42]=I):I=F[42],F[43]!==w||F[44]!==C||F[45]!==I?(S=(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 py-3 border-y",children:[w,C,I]}),F[43]=w,F[44]=C,F[45]=I,F[46]=S):S=F[46],F[47]!==z?(k=z&&(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-3 border border-purple-100",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(W.Shield,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:z})]})}),F[47]=z,F[48]=k):k=F[48],F[49]!==V.tags?(T=V.tags&&V.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5",children:V.tags.slice(0,3).map(Z)}),F[49]=V.tags,F[50]=T):T=F[50],F[51]===Symbol.for("react.memo_cache_sentinel")?(D=(0,s.jsx)(m.MapPin,{className:"w-3.5 h-3.5"}),F[51]=D):D=F[51],F[52]!==V.startLocation.name?(M=(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[D,(0,s.jsx)("span",{className:"truncate",children:V.startLocation.name})]}),F[52]=V.startLocation.name,F[53]=M):M=F[53],F[54]!==y||F[55]!==S||F[56]!==k||F[57]!==T||F[58]!==M?(B=(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[y,S,k,T,M]}),F[54]=y,F[55]=S,F[56]=k,F[57]=T,F[58]=M,F[59]=B):B=F[59],F[60]!==h||F[61]!==B?(A=(0,s.jsxs)(i.Card,{className:"overflow-hidden mb-4 shadow-lg hover:shadow-xl transition-shadow",children:[h,B]}),F[60]=h,F[61]=B,F[62]=A):A=F[62],F[63]!==A||F[64]!==H?(U=(0,s.jsx)(P.default,{href:H,children:A}),F[63]=A,F[64]=H,F[65]=U):U=F[65],U}function Z(e,t){return(0,s.jsx)(n.Badge,{variant:"secondary",className:"text-xs font-normal",children:e},t)}function G(e){return`${e.lng},${e.lat}`}function J(e,s){return s%10==0}function K(){let e,i,n,o,c,d,m,x,h,p=(0,t.c)(20),[u,j]=(0,a.useState)(null);p[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),s=await e.json();s.userId&&j(s.userId)}catch(e){console.error("Error getting user:",e)}})()},i=[],p[0]=e,p[1]=i):(e=p[0],i=p[1]),(0,a.useEffect)(e,i),p[2]===Symbol.for("react.memo_cache_sentinel")?(n={limit:50},p[2]=n):n=p[2];let g=(0,r.useQuery)(l.api.feed.getUnifiedFeed,n);p[3]!==g?(o=g||[],p[3]=g,p[4]=o):o=p[4];let f=o;if(p[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsxs)("div",{className:"mb-4 px-1",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-1",children:"Your Feed"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Discover and share community intelligence"})]}),p[5]=c):c=p[5],p[6]!==g?(d=void 0===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.PostCardSkeleton,{}),(0,s.jsx)(Q.PostCardSkeleton,{}),(0,s.jsx)(Q.PostCardSkeleton,{})]}),p[6]=g,p[7]=d):d=p[7],p[8]!==f.length||p[9]!==g?(m=0===f.length&&void 0!==g&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(D.Sparkles,{className:"w-8 h-8 text-purple-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No content yet"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Be the first to share!"})]}),p[8]=f.length,p[9]=g,p[10]=m):m=p[10],p[11]!==f||p[12]!==u){let e;p[14]!==u?(e=e=>{if("route"===e.type){let t=Math.round(20*e.rating),a=t>=70?`This route is ${t-50}% safer than average paths in the area. Well-lit with good visibility.`:t>=40?"Moderate safety rating. Consider traveling during daylight hours.":"Use caution on this route. Limited lighting and fewer people reported.";return(0,s.jsx)(Y,{route:e,safetyInsight:a},e._id)}return"post"===e.type&&"poll"===e.postType?(0,s.jsx)(T,{post:e,currentUserId:u||void 0,isMobile:!0},e._id):"post"===e.type&&"ai_chat"===e.postType?(0,s.jsx)(M,{post:e,currentUserId:u||void 0,isMobile:!0},e._id):"post"!==e.type||e.postType?null:(0,s.jsx)(_,{post:e,currentUserId:u||void 0,onVerify:ee,onDelete:X,hasVerified:!1,showActions:!0},e._id)},p[14]=u,p[15]=e):e=p[15],x=f.map(e),p[11]=f,p[12]=u,p[13]=x}else x=p[13];return p[16]!==d||p[17]!==m||p[18]!==x?(h=(0,s.jsxs)("div",{className:"px-3 py-4 space-y-4 max-w-2xl mx-auto",children:[c,d,m,x]}),p[16]=d,p[17]=m,p[18]=x,p[19]=h):h=p[19],h}function X(){}function ee(){}var es=e.i(35166),et=e.i(62870),ea=e.i(7233),er=e.i(18566);function el(){let e,i,n,c,d,m,x,h,p,u,j,g,f,y,N,v,b,C,I,k,B=(0,t.c)(49),A=(0,es.useIsMobile)(),[P,F]=(0,a.useState)("all"),[V,$]=(0,a.useState)(!1),[O,R]=(0,a.useState)(!1),[L,W]=(0,a.useState)(null),Y=(0,er.useRouter)();B[0]!==Y?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),s=await e.json();s.userId?W(s.userId):Y.push("/")}catch(e){console.error("Error getting user:",e),Y.push("/")}})()},i=[Y],B[0]=Y,B[1]=e,B[2]=i):(e=B[1],i=B[2]),(0,a.useEffect)(e,i),B[3]===Symbol.for("react.memo_cache_sentinel")?(n={limit:50},B[3]=n):n=B[3];let Z=(0,r.useQuery)(l.api.feed.getUnifiedFeed,n),G=(0,r.useMutation)(l.api.posts.verify),J=(0,r.useMutation)(l.api.posts.deletePost),X=(0,r.useMutation)(l.api.routes.deleteRoute),ee=(0,r.useMutation)(l.api.opportunities.deleteOpportunity);B[4]!==L||B[5]!==G?(c=async e=>{if(L)try{await G({postId:e,userId:L})}catch(e){console.error("Verification error:",e)}},B[4]=L,B[5]=G,B[6]=c):c=B[6];let el=c;B[7]!==J||B[8]!==L?(d=async e=>{if(L&&confirm("Are you sure you want to delete this post?"))try{await J({postId:e,userId:L})}catch(e){console.error("Delete error:",e),alert("Failed to delete post. "+e.message)}},B[7]=J,B[8]=L,B[9]=d):d=B[9];let ei=d;B[10]!==X||B[11]!==L?(m=async e=>{if(L&&confirm("Are you sure you want to delete this route?"))try{await X({routeId:e,userId:L})}catch(e){console.error("Delete error:",e),alert("Failed to delete route. "+e.message)}},B[10]=X,B[11]=L,B[12]=m):m=B[12];let en=m;B[13]!==ee||B[14]!==L?(x=async e=>{if(L&&confirm("Are you sure you want to delete this opportunity?"))try{await ee({opportunityId:e,userId:L})}catch(e){console.error("Delete error:",e),alert("Failed to delete opportunity. "+e.message)}},B[13]=ee,B[14]=L,B[15]=x):x=B[15];let eo=x;if(A){let e;return B[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(K,{}),B[16]=e):e=B[16],e}return B[17]===Symbol.for("react.memo_cache_sentinel")?(h=(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Feed"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Discover and share community intelligence"})]}),B[17]=h):h=B[17],B[18]===Symbol.for("react.memo_cache_sentinel")?(p=(0,s.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(o.Button,{className:"w-full sm:w-auto",children:[(0,s.jsx)(ea.Plus,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Create"}),(0,s.jsx)("span",{className:"sm:hidden",children:"New"})]})}),B[18]=p):p=B[18],B[19]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsxs)(w.DropdownMenuItem,{onClick:()=>$(!0),children:[(0,s.jsx)(z.FileText,{className:"w-4 h-4 mr-2"}),"Create Post"]}),B[19]=u):u=B[19],B[20]===Symbol.for("react.memo_cache_sentinel")?(j=(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h,(0,s.jsxs)(w.DropdownMenu,{children:[p,(0,s.jsxs)(w.DropdownMenuContent,{align:"end",children:[u,(0,s.jsxs)(w.DropdownMenuItem,{onClick:()=>R(!0),children:[(0,s.jsx)(S.BarChart3,{className:"w-4 h-4 mr-2"}),"Create Poll"]})]})]})]}),B[20]=j):j=B[20],B[21]===Symbol.for("react.memo_cache_sentinel")?(g=(0,s.jsx)(et.SelectTrigger,{className:"w-full sm:w-[200px]",children:(0,s.jsx)(et.SelectValue,{placeholder:"All Content"})}),B[21]=g):g=B[21],B[22]===Symbol.for("react.memo_cache_sentinel")?(f=(0,s.jsxs)(et.SelectContent,{children:[(0,s.jsx)(et.SelectItem,{value:"all",children:"All Content"}),(0,s.jsx)(et.SelectItem,{value:"post",children:"Posts Only"}),(0,s.jsx)(et.SelectItem,{value:"poll",children:"Polls Only"}),(0,s.jsx)(et.SelectItem,{value:"route",children:"Routes Only"}),(0,s.jsx)(et.SelectItem,{value:"opportunity",children:"Opportunities Only"})]}),B[22]=f):f=B[22],B[23]!==P?(y=(0,s.jsx)("div",{className:"bg-white border-b sticky top-0 z-40 shadow-sm",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[j,(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(et.Select,{value:P,onValueChange:F,children:[g,f]})})]})}),B[23]=P,B[24]=y):y=B[24],B[25]!==Z?(N=void 0===Z&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.PostCardSkeleton,{}),(0,s.jsx)(Q.PostCardSkeleton,{}),(0,s.jsx)(Q.PostCardSkeleton,{})]}),B[25]=Z,B[26]=N):N=B[26],B[27]!==Z?(v=Z&&0===Z.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(D.Sparkles,{className:"w-8 h-8 text-purple-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No activity yet"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Be the first to share your experience!"}),(0,s.jsxs)(o.Button,{onClick:()=>$(!0),children:[(0,s.jsx)(ea.Plus,{className:"w-4 h-4 mr-2"}),"Create First Post"]})]}),B[27]=Z,B[28]=v):v=B[28],B[29]!==P||B[30]!==Z||B[31]!==ei||B[32]!==eo||B[33]!==en||B[34]!==el||B[35]!==L?(b=Z&&Z.filter(e=>"all"===P||("poll"===P?"post"===e.type&&"poll"===e.postType:"post"===P?"post"===e.type&&"poll"!==e.postType:e.type===P)).map(e=>"post"===e.type?"poll"===e.postType?(0,s.jsx)(T,{post:e,currentUserId:L||void 0,onDelete:()=>ei(e._id)},e._id):"ai_chat"===e.postType?(0,s.jsx)(M,{post:e,currentUserId:L||void 0,onDelete:()=>ei(e._id)},e._id):(0,s.jsx)(_,{post:e,currentUserId:L||void 0,onVerify:()=>el(e._id),onDelete:()=>ei(e._id),hasVerified:!1,showActions:!0},e._id):"route"===e.type?(0,s.jsx)(U,{route:e,currentUserId:L||void 0,onDelete:()=>en(e._id)},e._id):"opportunity"===e.type?(0,s.jsx)(E,{opportunity:e,currentUserId:L||void 0,onDelete:()=>eo(e._id)},e._id):null),B[29]=P,B[30]=Z,B[31]=ei,B[32]=eo,B[33]=en,B[34]=el,B[35]=L,B[36]=b):b=B[36],B[37]!==N||B[38]!==v||B[39]!==b?(C=(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[N,v,b]})}),B[37]=N,B[38]=v,B[39]=b,B[40]=C):C=B[40],B[41]!==V||B[42]!==O||B[43]!==L?(I=L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.PostCreateDialog,{open:V,onOpenChange:$,userId:L}),(0,s.jsx)(q.PollCreateDialog,{open:O,onOpenChange:R,userId:L})]}),B[41]=V,B[42]=O,B[43]=L,B[44]=I):I=B[44],B[45]!==y||B[46]!==C||B[47]!==I?(k=(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[y,C,I]}),B[45]=y,B[46]=C,B[47]=I,B[48]=k):k=B[48],k}e.s(["default",()=>el],69705)}]);