(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},52571,e=>{"use strict";let t=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],52571)},18427,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(71645);e.i(50711);var l=e.i(82045),i=e.i(83394),r=e.i(67881),n=e.i(70065),c=e.i(94179),o=e.i(30374),d=e.i(23750),m=e.i(84762),u=e.i(62870),h=e.i(38978),x=e.i(52571);function p({open:e,onOpenChange:a,userId:n,opportunity:c}){let[p,g]=(0,s.useState)(c.category),[j,y]=(0,s.useState)(c.title),[v,b]=(0,s.useState)(c.description),[f,N]=(0,s.useState)(c.company||""),[k,C]=(0,s.useState)(c.location||""),[S,w]=(0,s.useState)(c.creditCost),[I,M]=(0,s.useState)(c.contactEmail||""),[O,B]=(0,s.useState)(c.externalLink||""),[E,T]=(0,s.useState)(c.salary||""),[A,D]=(0,s.useState)(c.requirements?.join("\n")||""),[F,_]=(0,s.useState)([]),[L,U]=(0,s.useState)(!1),[q,z]=(0,s.useState)(null);(0,s.useEffect)(()=>{g(c.category),y(c.title),b(c.description),N(c.company||""),C(c.location||""),w(c.creditCost),M(c.contactEmail||""),B(c.externalLink||""),T(c.salary||""),D(c.requirements?.join("\n")||""),_([])},[c]);let R=(0,l.useMutation)(i.api.opportunities.update),H=async()=>{if(!p)return void z("Please select a category");if(j.length<5||j.length>100)return void z("Title must be 5-100 characters");if(v.length<20||v.length>1e3)return void z("Description must be 20-1000 characters");if(S<5||S>100)return void z("Credit cost must be between 5 and 100");if(I&&!I.includes("@"))return void z("Please enter a valid email address");z(null),U(!0);try{let e=A.split("\n").map(e=>e.trim()).filter(e=>e.length>0);(await R({opportunityId:c._id,userId:n,title:j,description:v,category:p,company:f||void 0,location:k||void 0,creditCost:S,contactEmail:I||void 0,externalLink:O||void 0,salary:E||void 0,requirements:e.length>0?e:void 0,thumbnailStorageId:F.length>0?F[0].storageId:void 0})).success&&a(!1)}catch(e){console.error("Opportunity update error:",e),z(e.message||"Failed to update opportunity")}finally{U(!1)}};return(0,t.jsx)(o.Dialog,{open:e,onOpenChange:a,children:(0,t.jsxs)(o.DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsx)(o.DialogTitle,{children:"Edit Opportunity"}),(0,t.jsx)(o.DialogDescription,{children:"Update your opportunity details"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Category *"}),(0,t.jsxs)(u.Select,{value:p,onValueChange:g,children:[(0,t.jsx)(u.SelectTrigger,{children:(0,t.jsx)(u.SelectValue,{placeholder:"Select a category"})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"job",children:"Job - Employment opportunities"}),(0,t.jsx)(u.SelectItem,{value:"mentorship",children:"Mentorship - Guidance & coaching"}),(0,t.jsx)(u.SelectItem,{value:"resource",children:"Resource - Tools & materials"}),(0,t.jsx)(u.SelectItem,{value:"event",children:"Event - Workshops & networking"}),(0,t.jsx)(u.SelectItem,{value:"funding",children:"Funding - Grants & investments"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Title * (5-100 characters)"}),(0,t.jsx)(d.Input,{placeholder:"e.g., Senior Software Engineer at TechCorp",value:j,onChange:e=>y(e.target.value),maxLength:100}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[j.length,"/100 characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Description * (20-1000 characters)"}),(0,t.jsx)(m.Textarea,{placeholder:"Describe the opportunity in detail...",value:v,onChange:e=>b(e.target.value),rows:5,maxLength:1e3}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[v.length,"/1000 characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Company/Organization (Optional)"}),(0,t.jsx)(d.Input,{placeholder:"e.g., TechCorp Inc.",value:f,onChange:e=>N(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Location (Optional)"}),(0,t.jsx)(d.Input,{placeholder:"e.g., San Francisco, CA or Remote",value:k,onChange:e=>C(e.target.value)})]}),"job"===p&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Salary Range (Optional)"}),(0,t.jsx)(d.Input,{placeholder:"e.g., $80,000 - $120,000",value:E,onChange:e=>T(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Credit Cost * (5-100 credits)"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(d.Input,{type:"number",min:5,max:100,value:S,onChange:e=>w(parseInt(e.target.value)||5),className:"w-32"}),(0,t.jsx)("div",{className:"flex-1 bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(x.Info,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-xs text-blue-700",children:"Set how many credits users need to unlock this opportunity. Higher value = more exclusive."})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Contact Email (Optional)"}),(0,t.jsx)(d.Input,{type:"email",placeholder:"e.g., hiring@company.com",value:I,onChange:e=>M(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"External Link (Optional)"}),(0,t.jsx)(d.Input,{type:"url",placeholder:"e.g., https://company.com/careers",value:O,onChange:e=>B(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Requirements (Optional)"}),(0,t.jsx)(m.Textarea,{placeholder:"Enter each requirement on a new line e.g., 5+ years experience Bachelor's degree Strong communication skills",value:A,onChange:e=>D(e.target.value),rows:4}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"One requirement per line"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Update Thumbnail Image (Optional)"}),(0,t.jsx)(h.FileUpload,{onFilesChange:_,maxFiles:1}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a new logo or image (leave empty to keep current)"})]}),q&&(0,t.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:q}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:()=>a(!1),disabled:L,children:"Cancel"}),(0,t.jsx)(r.Button,{onClick:H,disabled:L,children:L?"Updating...":"Update Opportunity"})]})]})]})})}var g=e.i(63727),j=e.i(75254);let y=(0,j.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var v=e.i(27612),b=e.i(86536);let f=(0,j.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var N=e.i(22016);function k(){let e,o,d,m,u,h,x,j,k,C,S,w,I,M=(0,a.c)(29),[O,B]=(0,s.useState)(null),[E,T]=(0,s.useState)(null);M[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId&&B(t.userId)}catch(e){console.error("Error getting user:",e)}})()},o=[],M[0]=e,M[1]=o):(e=M[0],o=M[1]),(0,s.useEffect)(e,o),M[2]!==O?(d=O?{creatorId:O}:"skip",M[2]=O,M[3]=d):d=M[3];let A=(0,l.useQuery)(i.api.opportunities.getByCreator,d),D=(0,l.useMutation)(i.api.opportunities.deleteOpportunity),F=(0,l.useMutation)(i.api.opportunities.updateStatus);M[4]!==D||M[5]!==O?(m=async e=>{if(O&&confirm("Are you sure you want to delete this opportunity?"))try{await D({opportunityId:e,userId:O})}catch(e){console.error("Delete error:",e),alert("Failed to delete opportunity: "+e.message)}},M[4]=D,M[5]=O,M[6]=m):m=M[6];let _=m;M[7]!==F?(u=async(e,t)=>{try{await F({opportunityId:e,isActive:!t})}catch(e){console.error("Status update error:",e),alert("Failed to update status: "+e.message)}},M[7]=F,M[8]=u):u=M[8];let L=u;return M[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.Briefcase,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 flex-shrink-0 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"My Opportunities"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage your created opportunities"})]})]}),M[9]=h):h=M[9],M[10]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)("div",{className:"bg-white border-b sticky top-16 lg:top-0 z-10",children:(0,t.jsx)("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[h,(0,t.jsx)(N.default,{href:"/opportunities",children:(0,t.jsx)(r.Button,{variant:"outline",children:"Back to All Opportunities"})})]})})}),M[10]=x):x=M[10],M[11]!==A?(j=void 0===A&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})}),M[11]=A,M[12]=j):j=M[12],M[13]!==A?(k=A&&0===A.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(g.Briefcase,{className:"w-8 h-8 text-purple-600"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No opportunities yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Create your first opportunity to get started!"}),(0,t.jsx)(N.default,{href:"/opportunities",children:(0,t.jsx)(r.Button,{children:"Create Opportunity"})})]}),M[13]=A,M[14]=k):k=M[14],M[15]!==_||M[16]!==L||M[17]!==A?(C=A&&A.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:A.map(e=>(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,t.jsx)(c.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[e.company||"Community Member",e.location&&` â€¢ ${e.location}`]}),(0,t.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.description})]}),(0,t.jsxs)(c.Badge,{className:"bg-purple-100 text-purple-800",children:[e.creditCost," credits"]})]})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>L(e._id,e.isActive),children:e.isActive?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{className:"w-4 h-4 mr-2"}),"Deactivate"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Eye,{className:"w-4 h-4 mr-2"}),"Activate"]})}),(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>T(e),children:[(0,t.jsx)(y,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,t.jsxs)(r.Button,{variant:"destructive",size:"sm",onClick:()=>_(e._id),children:[(0,t.jsx)(v.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})})]},e._id))}),M[15]=_,M[16]=L,M[17]=A,M[18]=C):C=M[18],M[19]!==j||M[20]!==k||M[21]!==C?(S=(0,t.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto",children:[j,k,C]})}),M[19]=j,M[20]=k,M[21]=C,M[22]=S):S=M[22],M[23]!==E||M[24]!==O?(w=O&&E&&(0,t.jsx)(p,{open:!!E,onOpenChange:e=>!e&&T(null),userId:O,opportunity:E}),M[23]=E,M[24]=O,M[25]=w):w=M[25],M[26]!==S||M[27]!==w?(I=(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[x,S,w]}),M[26]=S,M[27]=w,M[28]=I):I=M[28],I}e.s(["default",()=>k],18427)}]);