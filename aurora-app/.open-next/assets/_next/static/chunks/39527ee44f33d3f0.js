(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},63466,e=>{"use strict";var s=e.i(43476),t=e.i(71645);e.i(50711);var a=e.i(82045),r=e.i(83394),i=e.i(67881),l=e.i(70065),n=e.i(23750),c=e.i(30374),d=e.i(39616),o=e.i(27612),x=e.i(78894),m=e.i(18566);function h(){let[e,h]=(0,t.useState)(null),[u,j]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),[y,N]=(0,t.useState)(!1),v=(0,m.useRouter)();(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me"),s=await e.json();s.userId&&h(s.userId)}catch(e){console.error("Error getting user:",e)}})()},[]);let b=(0,a.useQuery)(r.api.users.getUser,e?{userId:e}:"skip"),f=(0,a.useMutation)(r.api.users.deleteAccount),C=async()=>{if(e&&"DELETE"===p){N(!0);try{await f({userId:e}),await fetch("/api/auth/logout",{method:"POST"}),v.push("/")}catch(e){console.error("Delete account error:",e),alert("Failed to delete account: "+e.message)}finally{N(!1)}}};return b?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white border-b sticky top-16 lg:top-0 z-10",children:(0,s.jsx)("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(d.Settings,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 flex-shrink-0 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Settings"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage your account preferences"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Account Information"}),(0,s.jsx)(l.CardDescription,{children:"Your basic account details"})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),(0,s.jsx)("p",{className:"text-gray-900 mt-1",children:b.name&&"null"!==b.name?b.name:"Not set"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsx)("p",{className:"text-gray-900 mt-1",children:b.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Location"}),(0,s.jsx)("p",{className:"text-gray-900 mt-1",children:b.location||"Not set"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Industry"}),(0,s.jsx)("p",{className:"text-gray-900 mt-1",children:b.industry||"Not set"})]})]})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Privacy & Data"}),(0,s.jsx)(l.CardDescription,{children:"Control your privacy preferences and data"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>v.push("/settings/privacy"),className:"w-full sm:w-auto",children:"Manage Privacy Settings"})})]}),(0,s.jsxs)(l.Card,{className:"border-red-200",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{className:"text-red-600",children:"Danger Zone"}),(0,s.jsx)(l.CardDescription,{children:"Irreversible account actions"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,s.jsx)(x.AlertTriangle,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-red-900 mb-1",children:"Delete Account"}),(0,s.jsx)("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all associated data. This action cannot be undone."})]})]}),(0,s.jsxs)(i.Button,{variant:"destructive",onClick:()=>j(!0),className:"w-full sm:w-auto",children:[(0,s.jsx)(o.Trash2,{className:"w-4 h-4 mr-2"}),"Delete My Account"]})]})})]})]})}),(0,s.jsx)(c.Dialog,{open:u,onOpenChange:j,children:(0,s.jsxs)(c.DialogContent,{children:[(0,s.jsxs)(c.DialogHeader,{children:[(0,s.jsxs)(c.DialogTitle,{className:"flex items-center gap-2 text-red-600",children:[(0,s.jsx)(x.AlertTriangle,{className:"w-5 h-5"}),"Delete Account"]}),(0,s.jsx)(c.DialogDescription,{children:"This action is permanent and cannot be undone."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-red-900 font-medium mb-2",children:"The following data will be permanently deleted:"}),(0,s.jsxs)("ul",{className:"text-sm text-red-700 space-y-1 list-disc list-inside",children:[(0,s.jsx)("li",{children:"Your profile and account information"}),(0,s.jsx)("li",{children:"All posts and contributions"}),(0,s.jsx)("li",{children:"All comments and votes"}),(0,s.jsx)("li",{children:"All routes and activity data"}),(0,s.jsx)("li",{children:"Credit balance and transaction history"}),(0,s.jsx)("li",{children:"Unlocked opportunities"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Type ",(0,s.jsx)("span",{className:"font-bold text-red-600",children:"DELETE"})," to confirm"]}),(0,s.jsx)(n.Input,{value:p,onChange:e=>g(e.target.value),placeholder:"DELETE",className:"font-mono"})]})]}),(0,s.jsxs)(c.DialogFooter,{children:[(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>{j(!1),g("")},disabled:y,children:"Cancel"}),(0,s.jsx)(i.Button,{variant:"destructive",onClick:C,disabled:"DELETE"!==p||y,children:y?"Deleting...":"Delete My Account"})]})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading settings..."})]})})}e.s(["default",()=>h])}]);