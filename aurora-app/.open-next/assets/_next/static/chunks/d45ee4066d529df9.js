(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},67585,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let r=e.r(32061);function l({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,s)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return n}});let r=e.r(43476),l=e.r(74080),a=e.r(63599),i=e.r(9885);function n({moduleIds:e}){if("undefined"!=typeof window)return null;let t=a.workAsyncStorage.getStore();if(void 0===t)return null;let s=[];if(t.reactLoadableManifest&&e){let r=t.reactLoadableManifest;for(let t of e){if(!r[t])continue;let e=r[t].files;s.push(...e)}}return 0===s.length?null:(0,r.jsx)(r.Fragment,{children:s.map(e=>{let s=`${t.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,l.preload)(s,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let r=e.r(43476),l=e.r(71645),a=e.r(67585),i=e.r(52157);function n(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},s=(0,l.lazy)(()=>t.loader().then(n)),d=t.loading;function c(e){let n=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?l.Suspense:l.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(s,{...e})]}):(0,r.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(c,{...o?{fallback:n}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return l}});let r=e.r(55682)._(e.r(69093));function l(e,t){let s={};"function"==typeof e&&(s.loader=e);let l={...s,...t};return(0,r.default)({...l,modules:l.loadableGenerated?.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},84055,e=>{"use strict";var t=e.i(43476),s=e.i(932),r=e.i(71645);e.i(50711);var l=e.i(82045),a=e.i(83394),i=e.i(67881),n=e.i(94179),o=e.i(78716),d=e.i(61911),c=e.i(31343),u=e.i(83086),m=e.i(31278),h=e.i(22016),f=e.i(18566);let x=(0,e.i(70703).default)(()=>e.A(68979).then(e=>({default:e.LivePlayer})),{loadableGenerated:{modules:[86838]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,t.jsx)(m.Loader2,{className:"w-8 h-8 animate-spin text-purple-600"})})});function p(){let e,m,p,g,b,y,v,N,w,_=(0,s.c)(20),[k,P]=(0,r.useState)(null),[S,O]=(0,r.useState)(null),C=(0,f.useRouter)();_[0]!==C?(e=()=>{(async()=>{try{let e=await fetch("/api/auth/me"),t=await e.json();t.userId?P(t.userId):C.push("/")}catch(e){console.error("Error getting user:",e),C.push("/")}})()},m=[C],_[0]=C,_[1]=e,_[2]=m):(e=_[1],m=_[2]),(0,r.useEffect)(e,m),_[3]===Symbol.for("react.memo_cache_sentinel")?(p={limit:20},_[3]=p):p=_[3];let M=(0,l.useQuery)(a.api.livestreams.getLivestreams,p);if(S&&k){let e,s;return _[4]===Symbol.for("react.memo_cache_sentinel")?(e=()=>O(null),_[4]=e):e=_[4],_[5]!==S||_[6]!==k?(s=(0,t.jsx)(x,{livestreamId:S,userId:k,onClose:e}),_[5]=S,_[6]=k,_[7]=s):s=_[7],s}return _[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(o.Video,{className:"w-6 h-6 text-purple-600"}),"Aurora Live"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time safety streams from the community"})]}),_[8]=g):g=_[8],_[9]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)("div",{className:"bg-white border-b sticky top-0 z-40 shadow-sm",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[g,(0,t.jsx)(h.default,{href:"/live/broadcast",children:(0,t.jsxs)(i.Button,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[(0,t.jsx)(o.Video,{className:"w-4 h-4 mr-2"}),"Go Live"]})})]})})}),_[9]=b):b=_[9],_[10]!==M?(y=void 0===M&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(j)}),_[10]=M,_[11]=y):y=_[11],_[12]!==M?(v=M&&0===M.length&&(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(o.Video,{className:"w-12 h-12 text-purple-600"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"No Live Streams"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"No one is streaming right now. Be the first to share your experience with the community!"}),(0,t.jsx)(h.default,{href:"/live/broadcast",children:(0,t.jsxs)(i.Button,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[(0,t.jsx)(o.Video,{className:"w-5 h-5 mr-2"}),"Start Your First Stream"]})})]}),_[12]=M,_[13]=v):v=_[13],_[14]!==M?(N=M&&M.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(e=>(0,t.jsxs)("button",{onClick:()=>O(e._id),className:"bg-white rounded-lg overflow-hidden shadow hover:shadow-xl transition-shadow text-left",children:[(0,t.jsxs)("div",{className:"relative aspect-video bg-gradient-to-br from-purple-900 to-pink-900",children:[(0,t.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,t.jsxs)("div",{className:"bg-red-600 px-3 py-1 rounded-full flex items-center gap-2 animate-pulse",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"}),(0,t.jsx)("span",{className:"text-white font-bold text-xs",children:"LIVE"})]})}),(0,t.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,t.jsxs)("div",{className:"bg-black/70 backdrop-blur-sm px-3 py-1 rounded-full flex items-center gap-1",children:[(0,t.jsx)(d.Users,{className:"w-3 h-3 text-white"}),(0,t.jsx)("span",{className:"text-white font-medium text-xs",children:e.viewerCount})]})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 hover:bg-black/30 transition-colors",children:(0,t.jsx)("div",{className:"w-16 h-16 bg-white/90 rounded-full flex items-center justify-center",children:(0,t.jsx)(c.Play,{className:"w-8 h-8 text-purple-600 ml-1"})})}),e.isEmergency&&(0,t.jsx)("div",{className:"absolute bottom-3 left-3 z-10",children:(0,t.jsx)(n.Badge,{className:"bg-red-600 text-white",children:"ðŸš¨ Emergency"})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:e.title}),e.host&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:e.host.name[0].toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.host.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Trust Score: ",e.host.trustScore]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)(d.Users,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[e.viewerCount," watching"]}),e.safetyMode&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(u.Sparkles,{className:"w-3 h-3"}),"Safety Mode"]})]})]})]})]},e._id))}),_[14]=M,_[15]=N):N=_[15],_[16]!==y||_[17]!==v||_[18]!==N?(w=(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[b,(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[y,v,N]})]}),_[16]=y,_[17]=v,_[18]=N,_[19]=w):w=_[19],w}function j(e){return(0,t.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow animate-pulse",children:[(0,t.jsx)("div",{className:"aspect-video bg-gray-200"}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},e)}e.s(["default",()=>p])},68979,e=>{e.v(t=>Promise.all(["static/chunks/5caaa541d45f564e.js","static/chunks/4b2a6af7907de9ff.js"].map(t=>e.l(t))).then(()=>t(86838)))}]);