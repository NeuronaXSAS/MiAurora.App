module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},3314,a=>{"use strict";let b=(0,a.i(70106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],3314)},25015,a=>{"use strict";let b=(0,a.i(70106).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Play",()=>b],25015)},73570,a=>{"use strict";let b=(0,a.i(70106).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},63588,a=>{"use strict";let b=(0,a.i(70106).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],63588)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],84505)},4720,a=>{"use strict";let b=(0,a.i(70106).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],4720)},11989,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["default",()=>b])},54161,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(97895);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},8406,a=>{"use strict";let b=(0,a.i(70106).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);a.s(["Sparkles",()=>b],8406)},41961,a=>{"use strict";let b=(0,a.i(70106).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);a.s(["Briefcase",()=>b],41961)},33441,a=>{"use strict";var b=a.i(34157);a.s(["Check",()=>b.default])},62882,a=>{"use strict";var b=a.i(72131),c=a.i(70121),d=a.i(87924),e=a.i(7554),f=a.i(25152),g=a.i(77994),h=a.i(3688),i=a.i(77192);a.i(35112);var j=Symbol("radix.slottable");function k(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===j}var l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{var f,g;let h,i,j,l=(g=f=`Primitive.${e}`,(h=b.forwardRef((a,d)=>{let{children:e,...f}=a;if(b.isValidElement(e)){var g;let a,h,i=(g=e,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,e.props);return e.type!==b.Fragment&&(j.ref=d?(0,c.composeRefs)(d,i):i),b.cloneElement(e,j)}return b.Children.count(e)>1?b.Children.only(null):null})).displayName=`${g}.SlotClone`,i=h,(j=b.forwardRef((a,c)=>{let{children:e,...f}=a,g=b.Children.toArray(e),h=g.find(k);if(h){let a=h.props.children,e=g.map(c=>c!==h?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,d.jsx)(i,{...f,ref:c,children:b.isValidElement(a)?b.cloneElement(a,void 0,e):null})}return(0,d.jsx)(i,{...f,ref:c,children:e})})).displayName=`${f}.Slot`,j),m=b.forwardRef((a,b)=>{let{asChild:c,...f}=a;return(0,d.jsx)(c?l:e,{...f,ref:b})});return m.displayName=`Primitive.${e}`,{...a,[e]:m}},{}),m="Checkbox",[n,o]=function(a,c=[]){let e=[],f=()=>{let c=e.map(a=>b.createContext(a));return function(d){let e=d?.[a]||c;return b.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(c,f){let g=b.createContext(f),h=e.length;e=[...e,f];let i=c=>{let{scope:e,children:f,...i}=c,j=e?.[a]?.[h]||g,k=b.useMemo(()=>i,Object.values(i));return(0,d.jsx)(j.Provider,{value:k,children:f})};return i.displayName=c+"Provider",[i,function(d,e){let i=e?.[a]?.[h]||g,j=b.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${d}\` must be used within \`${c}\``)}]},function(...a){let c=a[0];if(1===a.length)return c;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return b.useMemo(()=>({[`__scope${c.scopeName}`]:e}),[e])}};return d.scopeName=c.scopeName,d}(f,...c)]}(m),[p,q]=n(m);function r(a){let{__scopeCheckbox:c,checked:e,children:g,defaultChecked:h,disabled:i,form:j,name:k,onCheckedChange:l,required:n,value:o="on",internal_do_not_use_render:q}=a,[r,s]=(0,f.useControllableState)({prop:e,defaultProp:h??!1,onChange:l,caller:m}),[t,u]=b.useState(null),[v,w]=b.useState(null),x=b.useRef(!1),y=!t||!!j||!!t.closest("form"),A={checked:r,disabled:i,setChecked:s,control:t,setControl:u,name:k,form:j,value:o,hasConsumerStoppedPropagationRef:x,required:n,defaultChecked:!z(h)&&h,isFormControl:y,bubbleInput:v,setBubbleInput:w};return(0,d.jsx)(p,{scope:c,...A,children:"function"==typeof q?q(A):g})}var s="CheckboxTrigger",t=b.forwardRef(({__scopeCheckbox:a,onKeyDown:f,onClick:g,...h},i)=>{let{control:j,value:k,disabled:m,checked:n,required:o,setControl:p,setChecked:r,hasConsumerStoppedPropagationRef:t,isFormControl:u,bubbleInput:v}=q(s,a),w=(0,c.useComposedRefs)(i,p),x=b.useRef(n);return b.useEffect(()=>{let a=j?.form;if(a){let b=()=>r(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[j,r]),(0,d.jsx)(l.button,{type:"button",role:"checkbox","aria-checked":z(n)?"mixed":n,"aria-required":o,"data-state":A(n),"data-disabled":m?"":void 0,disabled:m,value:k,...h,ref:w,onKeyDown:(0,e.composeEventHandlers)(f,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,e.composeEventHandlers)(g,a=>{r(a=>!!z(a)||!a),v&&u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})})});t.displayName=s;var u=b.forwardRef((a,b)=>{let{__scopeCheckbox:c,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,d.jsx)(r,{__scopeCheckbox:c,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t,{...m,ref:b,__scopeCheckbox:c}),a&&(0,d.jsx)(y,{__scopeCheckbox:c})]})})});u.displayName=m;var v="CheckboxIndicator",w=b.forwardRef((a,b)=>{let{__scopeCheckbox:c,forceMount:e,...f}=a,g=q(v,c);return(0,d.jsx)(i.Presence,{present:e||z(g.checked)||!0===g.checked,children:(0,d.jsx)(l.span,{"data-state":A(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:b,style:{pointerEvents:"none",...a.style}})})});w.displayName=v;var x="CheckboxBubbleInput",y=b.forwardRef(({__scopeCheckbox:a,...e},f)=>{let{control:i,hasConsumerStoppedPropagationRef:j,checked:k,defaultChecked:m,required:n,disabled:o,name:p,value:r,form:s,bubbleInput:t,setBubbleInput:u}=q(x,a),v=(0,c.useComposedRefs)(f,u),w=(0,g.usePrevious)(k),y=(0,h.useSize)(i);b.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!j.current;if(w!==k&&a){let c=new Event("click",{bubbles:b});t.indeterminate=z(k),a.call(t,!z(k)&&k),t.dispatchEvent(c)}},[t,w,k,j]);let A=b.useRef(!z(k)&&k);return(0,d.jsx)(l.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??A.current,required:n,disabled:o,name:p,value:r,form:s,...e,tabIndex:-1,ref:v,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function z(a){return"indeterminate"===a}function A(a){return z(a)?"indeterminate":a?"checked":"unchecked"}y.displayName=x,a.s(["Indicator",()=>w,"Root",()=>u],62882)},46143,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(62882),e=a.i(33441),f=a.i(97895);let g=c.forwardRef(({className:a,...c},g)=>(0,b.jsx)(d.Root,{ref:g,className:(0,f.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-gray-300 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-purple-600 data-[state=checked]:text-white",a),...c,children:(0,b.jsx)(d.Indicator,{className:(0,f.cn)("flex items-center justify-center text-current"),children:(0,b.jsx)(e.Check,{className:"h-4 w-4"})})}));g.displayName=d.Root.displayName,a.s(["Checkbox",()=>g])},21161,a=>{"use strict";let b=(0,a.i(70106).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",()=>b],21161)},72089,a=>{"use strict";let b=(0,a.i(70106).default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);a.s(["Coins",()=>b],72089)},39761,a=>{"use strict";let b=(0,a.i(70106).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>b],39761)},20494,a=>{"use strict";let b=(0,a.i(70106).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);a.s(["Database",()=>b],20494)},46842,54906,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842);var c=a.i(87924),d=a.i(72131),e=a.i(40695),f=a.i(73570),g=a.i(3314),h=a.i(33508);a.i(11241);var i=a.i(96373),j=a.i(1322);function k(a=10){if("undefined"==typeof navigator||!navigator.vibrate)return Promise.resolve();try{return navigator.vibrate(a),Promise.resolve()}catch(a){return console.warn("Haptic feedback not supported:",a),Promise.resolve()}}function l({testMode:a=!1}){let[b,l]=(0,d.useState)(!1),[m,n]=(0,d.useState)(5),[o,p]=(0,d.useState)(!1),q=(0,d.useRef)(null),r=(0,d.useRef)(null),s=(0,i.useMutation)(j.api.emergency.triggerEmergencyAlert),t=(0,i.useMutation)(j.api.emergency.resolveEmergencyAlert),[u,v]=(0,d.useState)(null),w=()=>{l(!0),n(5),k([50,100,50]),r.current=setInterval(()=>{n(a=>a<=1?(y(),0):(k(30),a-1))},1e3)},x=()=>{l(!1),n(5),r.current&&(clearInterval(r.current),r.current=null),k(10)},y=async()=>{if(r.current&&(clearInterval(r.current),r.current=null),p(!0),k([100,50,100,50,100]),a){console.log("TEST MODE: Panic button activated"),setTimeout(()=>{p(!1),l(!1)},3e3);return}"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(async a=>{try{let b=await s({location:{lat:a.coords.latitude,lng:a.coords.longitude,accuracy:a.coords.accuracy},alertType:"panic"});v(b.alertId)}catch(a){console.error("Failed to trigger alert:",a),p(!1),l(!1)}},a=>{console.error("Location error:",a),s({location:{lat:0,lng:0},alertType:"panic"}).then(a=>{v(a.alertId)})})},z=async()=>{u&&await t({alertId:u,status:"resolved",notes:"User marked themselves as safe"}),p(!1),l(!1),v(null),k(50)};return((0,d.useEffect)(()=>()=>{q.current&&clearTimeout(q.current),r.current&&clearInterval(r.current)},[]),o)?(0,c.jsxs)("div",{className:"fixed inset-0 bg-red-600 z-50 flex flex-col items-center justify-center p-6 animate-pulse",children:[(0,c.jsx)("div",{className:"bg-white rounded-full p-8 mb-6 animate-bounce",children:(0,c.jsx)(f.AlertTriangle,{className:"w-24 h-24 text-red-600"})}),(0,c.jsx)("h1",{className:"text-4xl font-bold text-white mb-4 text-center",children:"ðŸš¨ EMERGENCY ALERT ACTIVE"}),(0,c.jsx)("p",{className:"text-xl text-white mb-8 text-center max-w-md",children:"Your emergency contacts and nearby users have been notified. Help is on the way."}),(0,c.jsxs)(e.Button,{size:"lg",onClick:z,className:"bg-white text-red-600 hover:bg-gray-100 text-xl px-12 py-6 h-auto",children:[(0,c.jsx)(g.Shield,{className:"w-6 h-6 mr-3"}),"I'm Safe Now"]}),a&&(0,c.jsx)("p",{className:"text-white mt-4 text-sm",children:"TEST MODE - No real alerts sent"})]}):b?(0,c.jsxs)("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-6",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"w-64 h-64 rounded-full bg-red-600 flex items-center justify-center animate-pulse",children:(0,c.jsxs)("div",{className:"text-white text-center",children:[(0,c.jsx)("div",{className:"text-8xl font-bold mb-2",children:m}),(0,c.jsx)("div",{className:"text-xl",children:"Activating Emergency Alert"})]})}),(0,c.jsx)("div",{className:"absolute inset-0 rounded-full border-8 border-white",style:{animation:`shrink ${m}s linear`}})]}),(0,c.jsxs)(e.Button,{size:"lg",variant:"outline",onClick:x,className:"mt-12 bg-white text-black hover:bg-gray-200 text-xl px-12 py-6 h-auto",children:[(0,c.jsx)(h.X,{className:"w-6 h-6 mr-3"}),"Cancel"]}),(0,c.jsxs)("p",{className:"text-white mt-6 text-center max-w-md",children:["Release to cancel. Emergency services will be notified in ",m," seconds."]}),a&&(0,c.jsx)("p",{className:"text-yellow-400 mt-4 text-sm",children:"TEST MODE - No real alerts will be sent"})]}):(0,c.jsxs)("button",{onMouseDown:w,onMouseUp:x,onMouseLeave:x,onTouchStart:w,onTouchEnd:x,className:"fixed top-20 right-4 lg:bottom-24 lg:top-auto lg:right-6 w-14 h-14 lg:w-16 lg:h-16 bg-red-600 hover:bg-red-700 rounded-full shadow-2xl flex items-center justify-center z-40 transition-transform active:scale-95 border-4 border-white animate-pulse","aria-label":"Emergency SOS Button - Hold to activate",children:[(0,c.jsx)(f.AlertTriangle,{className:"w-10 h-10 text-white"}),(0,c.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-white rounded-full flex items-center justify-center",children:(0,c.jsx)("span",{className:"text-red-600 text-xs font-bold",children:"SOS"})})]})}if("undefined"!=typeof document){let a=document.createElement("style");a.textContent=`
    @keyframes shrink {
      from {
        transform: scale(1);
        opacity: 1;
      }
      to {
        transform: scale(0);
        opacity: 0;
      }
    }
  `,document.head.appendChild(a)}a.s(["PanicButton",()=>l],54906)},51130,a=>{"use strict";let b=(0,a.i(70106).default)("route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);a.s(["Route",()=>b],51130)},90545,a=>{"use strict";let b=(0,a.i(70106).default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);a.s(["ThumbsUp",()=>b],90545)},61434,a=>{"use strict";var b=a.i(72131);function c(a=768){let[d,e]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{let b=()=>{e(window.innerWidth<a)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[a]),d}a.s(["useIsMobile",()=>c])},61378,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11241);var d=a.i(96373),e=a.i(1322),f=a.i(65733),g=a.i(40695),h=a.i(5522),i=a.i(46893),j=a.i(87682),k=a.i(46143),l=a.i(15618),m=a.i(33508),n=a.i(39761);function o({open:a,onOpenChange:o,userId:p}){let[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(["",""]),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)("social"),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(null),E=(0,d.useMutation)(e.api.polls.createPoll),F=async()=>{if(q.length<10||q.length>200)return void D("Poll question must be 10-200 characters");let a=u.filter(a=>a.trim().length>0);if(a.length<2)return void D("Must have at least 2 options");if(a.length>6)return void D("Maximum 6 options allowed");for(let b of a)if(b.length>100)return void D("Each option must be 100 characters or less");D(null),B(!0);try{(await E({authorId:p,title:q.trim(),description:s.trim()||void 0,options:a.map(a=>a.trim()),isAnonymous:w,lifeDimension:y})).success&&(r(""),t(""),v(["",""]),x(!1),z("social"),o(!1))}catch(a){console.error("Poll creation error:",a),D(a.message||"Failed to create poll")}finally{B(!1)}};return(0,b.jsx)(f.Dialog,{open:a,onOpenChange:o,children:(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsxs)(f.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.BarChart3,{className:"w-5 h-5 text-orange-600"}),"Create a Poll"]}),(0,b.jsx)(f.DialogDescription,{children:"Ask the community a question and get their opinions"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Poll Question * (10-200 characters)"}),(0,b.jsx)(i.Textarea,{placeholder:"What would you like to ask the community?",value:q,onChange:a=>r(a.target.value),rows:3,maxLength:200}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[q.length,"/200 characters"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Additional Context (Optional)"}),(0,b.jsx)(i.Textarea,{placeholder:"Add more details about your poll...",value:s,onChange:a=>t(a.target.value),rows:2,maxLength:500})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Poll Options (2-6 options)"}),(0,b.jsx)("div",{className:"space-y-2",children:u.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Input,{placeholder:`Option ${c+1}`,value:a,onChange:a=>{var b;let d;return b=a.target.value,void((d=[...u])[c]=b,v(d))},maxLength:100}),u.length>2&&(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{u.length>2&&v(u.filter((a,b)=>b!==c))},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,b.jsx)(m.X,{className:"w-4 h-4"})})]},c))}),u.length<6&&(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{u.length<6&&v([...u,""])},className:"mt-2",children:[(0,b.jsx)(l.Plus,{className:"w-4 h-4 mr-2"}),"Add Option"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Category *"}),(0,b.jsxs)(j.Select,{value:y,onValueChange:z,children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Select a category"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"professional",children:"Professional"}),(0,b.jsx)(j.SelectItem,{value:"social",children:"Social"}),(0,b.jsx)(j.SelectItem,{value:"daily",children:"Daily Life"}),(0,b.jsx)(j.SelectItem,{value:"travel",children:"Travel"}),(0,b.jsx)(j.SelectItem,{value:"financial",children:"Financial"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Checkbox,{id:"anonymous",checked:w,onCheckedChange:a=>x(a)}),(0,b.jsx)("label",{htmlFor:"anonymous",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Post anonymously"})]}),C&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:C})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>o(!1),disabled:A,children:"Cancel"}),(0,b.jsx)(g.Button,{onClick:F,disabled:A||q.length<10,className:"bg-gradient-to-r from-orange-600 to-pink-600 hover:from-orange-700 hover:to-pink-700",children:A?"Creating...":"Create Poll"})]})]})})}a.s(["PollCreateDialog",()=>o])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__45150ba6._.js.map