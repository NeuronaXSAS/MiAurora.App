module.exports=[81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},93257,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11241);var d=a.i(96373),e=a.i(1322),f=a.i(40695),g=a.i(3130),h=a.i(5522),i=a.i(65733),j=a.i(21161),k=a.i(81560),l=a.i(73570),m=a.i(50944);function n(){let[a,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),u=(0,m.useRouter)();(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/auth/me"),b=await a.json();b.userId&&n(b.userId)}catch(a){console.error("Error getting user:",a)}})()},[]);let v=(0,d.useQuery)(e.api.users.getUser,a?{userId:a}:"skip"),w=(0,d.useMutation)(e.api.users.deleteAccount),x=async()=>{if(a&&"DELETE"===q){t(!0);try{await w({userId:a}),await fetch("/api/auth/logout",{method:"POST"}),u.push("/")}catch(a){console.error("Delete account error:",a),alert("Failed to delete account: "+a.message)}finally{t(!1)}}};return v?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white border-b sticky top-16 lg:top-0 z-10",children:(0,b.jsx)("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(j.Settings,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Settings"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage your account preferences"})]})]})})}),(0,b.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Account Information"}),(0,b.jsx)(g.CardDescription,{children:"Your basic account details"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),(0,b.jsx)("p",{className:"text-gray-900 mt-1",children:v.name&&"null"!==v.name?v.name:"Not set"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,b.jsx)("p",{className:"text-gray-900 mt-1",children:v.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Location"}),(0,b.jsx)("p",{className:"text-gray-900 mt-1",children:v.location||"Not set"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Industry"}),(0,b.jsx)("p",{className:"text-gray-900 mt-1",children:v.industry||"Not set"})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Privacy & Data"}),(0,b.jsx)(g.CardDescription,{children:"Control your privacy preferences and data"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>u.push("/settings/privacy"),className:"w-full sm:w-auto",children:"Manage Privacy Settings"})})]}),(0,b.jsxs)(g.Card,{className:"border-red-200",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-red-600",children:"Danger Zone"}),(0,b.jsx)(g.CardDescription,{children:"Irreversible account actions"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,b.jsx)(l.AlertTriangle,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-red-900 mb-1",children:"Delete Account"}),(0,b.jsx)("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all associated data. This action cannot be undone."})]})]}),(0,b.jsxs)(f.Button,{variant:"destructive",onClick:()=>p(!0),className:"w-full sm:w-auto",children:[(0,b.jsx)(k.Trash2,{className:"w-4 h-4 mr-2"}),"Delete My Account"]})]})})]})]})}),(0,b.jsx)(i.Dialog,{open:o,onOpenChange:p,children:(0,b.jsxs)(i.DialogContent,{children:[(0,b.jsxs)(i.DialogHeader,{children:[(0,b.jsxs)(i.DialogTitle,{className:"flex items-center gap-2 text-red-600",children:[(0,b.jsx)(l.AlertTriangle,{className:"w-5 h-5"}),"Delete Account"]}),(0,b.jsx)(i.DialogDescription,{children:"This action is permanent and cannot be undone."})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-red-900 font-medium mb-2",children:"The following data will be permanently deleted:"}),(0,b.jsxs)("ul",{className:"text-sm text-red-700 space-y-1 list-disc list-inside",children:[(0,b.jsx)("li",{children:"Your profile and account information"}),(0,b.jsx)("li",{children:"All posts and contributions"}),(0,b.jsx)("li",{children:"All comments and votes"}),(0,b.jsx)("li",{children:"All routes and activity data"}),(0,b.jsx)("li",{children:"Credit balance and transaction history"}),(0,b.jsx)("li",{children:"Unlocked opportunities"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Type ",(0,b.jsx)("span",{className:"font-bold text-red-600",children:"DELETE"})," to confirm"]}),(0,b.jsx)(h.Input,{value:q,onChange:a=>r(a.target.value),placeholder:"DELETE",className:"font-mono"})]})]}),(0,b.jsxs)(i.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{p(!1),r("")},disabled:s,children:"Cancel"}),(0,b.jsx)(f.Button,{variant:"destructive",onClick:x,disabled:"DELETE"!==q||s,children:s?"Deleting...":"Delete My Account"})]})]})})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading settings..."})]})})}a.s(["default",()=>n])}];

//# sourceMappingURL=_27eec1de._.js.map