module.exports=[24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},84998,a=>{"use strict";var b=a.i(87924);a.i(11241);var c=a.i(96373),d=a.i(1322),e=a.i(72131),f=a.i(40695),g=a.i(3130),h=a.i(54161),i=a.i(87682),j=a.i(73570),k=a.i(16201),l=a.i(70106);let m=(0,l.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),n=(0,l.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var o=a.i(77156),p=a.i(24669);function q(){let[a,l]=(0,e.useState)("pending"),[q,r]=(0,e.useState)(),s=(0,c.useQuery)(d.api.moderation.getModerationQueue,{status:a,contentType:q,limit:50}),t=(0,c.useQuery)(d.api.moderation.getModerationStats,{}),u=(0,c.useMutation)(d.api.moderation.approveContent),v=(0,c.useMutation)(d.api.moderation.rejectContent),w=(0,c.useMutation)(d.api.moderation.banUser),x=async(a,b)=>{try{await u({queueId:a,adminId:b}),alert("Content approved!")}catch(a){console.error("Failed to approve:",a),alert("Failed to approve content")}},y=async(a,b,c)=>{if(confirm(`Are you sure you want to ${c?"delete":"flag"} this content?`))try{await v({queueId:a,adminId:b,deleteContent:c}),alert("Content rejected!")}catch(a){console.error("Failed to reject:",a),alert("Failed to reject content")}},z=async(a,b)=>{let c=prompt("Enter ban reason:");if(c&&confirm("Are you sure you want to ban this user? This action is permanent."))try{await w({userId:a,adminId:b,reason:c}),alert("User banned!")}catch(a){console.error("Failed to ban user:",a),alert("Failed to ban user")}};return(0,b.jsxs)("div",{className:"container mx-auto p-6 max-w-7xl",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Content Moderation Dashboard"}),(0,b.jsx)("p",{className:"text-gray-600",children:"AI-powered safety engine for Aurora"})]}),t&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,b.jsx)(g.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Total Flagged"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:t.total})]}),(0,b.jsx)(j.AlertTriangle,{className:"w-8 h-8 text-orange-500"})]})}),(0,b.jsx)(g.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Review"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:t.pending})]}),(0,b.jsx)(o.Eye,{className:"w-8 h-8 text-blue-500"})]})}),(0,b.jsx)(g.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Approved"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:t.approved})]}),(0,b.jsx)(k.CheckCircle,{className:"w-8 h-8 text-green-500"})]})}),(0,b.jsx)(g.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Severity"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:t.avgScore})]}),(0,b.jsx)(p.TrendingUp,{className:"w-8 h-8 text-purple-500"})]})})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsxs)(i.Select,{value:a||"all",onValueChange:a=>l("all"===a?void 0:a),children:[(0,b.jsx)(i.SelectTrigger,{className:"w-48",children:(0,b.jsx)(i.SelectValue,{placeholder:"Filter by status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(i.SelectItem,{value:"pending",children:"Pending"}),(0,b.jsx)(i.SelectItem,{value:"approved",children:"Approved"}),(0,b.jsx)(i.SelectItem,{value:"rejected",children:"Rejected"})]})]}),(0,b.jsxs)(i.Select,{value:q||"all",onValueChange:a=>r("all"===a?void 0:a),children:[(0,b.jsx)(i.SelectTrigger,{className:"w-48",children:(0,b.jsx)(i.SelectValue,{placeholder:"Filter by type"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Types"}),(0,b.jsx)(i.SelectItem,{value:"reel",children:"Reels"}),(0,b.jsx)(i.SelectItem,{value:"post",children:"Posts"}),(0,b.jsx)(i.SelectItem,{value:"comment",children:"Comments"}),(0,b.jsx)(i.SelectItem,{value:"livestream_snapshot",children:"Livestream"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[s?.map(a=>{var c,d;return(0,b.jsx)(g.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex gap-6",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:"reel"===a.contentType||"livestream_snapshot"===a.contentType?(0,b.jsx)("img",{src:a.contentPreview,alt:"Content preview",className:"w-32 h-48 object-cover rounded-lg"}):(0,b.jsx)("div",{className:"w-32 h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,b.jsxs)("p",{className:"text-gray-400 text-sm text-center px-2",children:[a.contentPreview.substring(0,100),"..."]})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(h.Badge,{variant:"outline",children:a.contentType}),(0,b.jsxs)(h.Badge,{className:(c=a.score)>=80?"bg-red-500":c>=50?"bg-orange-500":"bg-yellow-500",children:[(d=a.score)>=80?"Severe":d>=50?"Moderate":"Low"," (",a.score,")"]}),(0,b.jsxs)(h.Badge,{variant:"secondary",children:["Confidence: ",a.confidence,"%"]})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,b.jsx)("strong",{children:"Author:"})," ",a.author?.name," (",a.author?.email,")"]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,b.jsx)("strong",{children:"Trust Score:"})," ",a.author?.trustScore]})]})}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"AI Analysis:"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.reason})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Categories:"}),(0,b.jsx)("div",{className:"flex gap-2",children:a.categories.map(a=>(0,b.jsx)(h.Badge,{variant:"destructive",children:a},a))})]}),"pending"===a.status&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{onClick:()=>x(a._id,a.authorId),variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",children:[(0,b.jsx)(k.CheckCircle,{className:"w-4 h-4 mr-2"}),"Approve"]}),(0,b.jsxs)(f.Button,{onClick:()=>y(a._id,a.authorId,!1),variant:"outline",size:"sm",children:[(0,b.jsx)(j.AlertTriangle,{className:"w-4 h-4 mr-2"}),"Flag Only"]}),(0,b.jsxs)(f.Button,{onClick:()=>y(a._id,a.authorId,!0),variant:"destructive",size:"sm",children:[(0,b.jsx)(m,{className:"w-4 h-4 mr-2"}),"Delete Content"]}),(0,b.jsxs)(f.Button,{onClick:()=>z(a.authorId,a.authorId),variant:"destructive",size:"sm",className:"ml-auto",children:[(0,b.jsx)(n,{className:"w-4 h-4 mr-2"}),"Ban User"]})]}),"pending"!==a.status&&(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Status:"})," ",a.status]}),a.reviewedAt&&(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Reviewed:"})," ",new Date(a.reviewedAt).toLocaleString()]}),a.adminNotes&&(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Notes:"})," ",a.adminNotes]})]})]})]})},a._id)}),s?.length===0&&(0,b.jsxs)(g.Card,{className:"p-12 text-center",children:[(0,b.jsx)(k.CheckCircle,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"All Clear!"}),(0,b.jsx)("p",{className:"text-gray-600",children:"No items in the moderation queue."})]})]})]})}a.s(["default",()=>q],84998)}];

//# sourceMappingURL=_cddafc96._.js.map