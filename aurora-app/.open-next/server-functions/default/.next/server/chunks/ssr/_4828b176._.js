module.exports=[24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},47213,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],47213)},93518,a=>{"use strict";let b=(0,a.i(70106).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);a.s(["Award",()=>b],93518)},97063,a=>{"use strict";let b=(0,a.i(70106).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],97063)},1618,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11241);var d=a.i(96373),e=a.i(1322),f=a.i(3130),g=a.i(40695),h=a.i(54161),i=a.i(72089),j=a.i(24669);let k=(0,a.i(70106).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var l=a.i(84505),m=a.i(47213),n=a.i(93518),o=a.i(97063),p=a.i(94632);function q(){let[a,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(void 0);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/auth/me"),b=await a.json();b.userId&&q(b.userId)}catch(a){console.error("Error getting user:",a)}})()},[]);let t=(0,d.useQuery)(e.api.credits.getCreditStats,a?{userId:a}:"skip"),u=(0,d.useQuery)(e.api.credits.getTransactionHistory,a?{userId:a,limit:100,type:r}:"skip"),v=(0,d.useQuery)(e.api.credits.exportTransactions,a?{userId:a}:"skip");return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(i.Coins,{className:"w-8 h-8"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Credit Center"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-purple-100",children:"Track your earnings and spending"})]})]}),t&&(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Current Balance"}),(0,b.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:t.currentBalance})]}),(0,b.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Total Earned"}),(0,b.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-green-300",children:["+",t.totalEarned]})]}),(0,b.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"Total Spent"}),(0,b.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-red-300",children:["-",t.totalSpent]})]}),(0,b.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 sm:p-4",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-purple-100",children:"This Month"}),(0,b.jsxs)("p",{className:"text-xl sm:text-2xl font-bold",children:[t.monthlyEarned,"/",t.monthlyLimit]})]})]})]})}),(0,b.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[t&&(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-4 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(o.Info,{className:"w-6 h-6 text-purple-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Monthly Credit Limit"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["You can earn up to ",t.monthlyLimit," credits per month. You have ",t.monthlyRemaining," credits remaining this month."]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Calendar,{className:"w-4 h-4 text-gray-500"}),(0,b.jsxs)("span",{children:["Resets in ",t.daysUntilReset," day",1!==t.daysUntilReset?"s":""]})]}),(0,b.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${t.monthlyEarned/t.monthlyLimit*100}%`}})})]})]})]})})}),t&&(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Award,{className:"w-5 h-5"}),"How You Earn Credits"]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(t.earnedByType).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm font-medium capitalize",children:a.replace(/_/g," ")}),(0,b.jsxs)(h.Badge,{className:"bg-green-100 text-green-700",children:["+",c]})]},a))})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(f.CardTitle,{children:"Transaction History"}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{if(!v)return;let a=new Blob([[["Date","Type","Amount","Description"],...v.map(a=>[a.date,a.type,a.amount,a.description])].map(a=>a.join(",")).join("\n")],{type:"text/csv"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`aurora-credits-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b)},disabled:!v,children:[(0,b.jsx)(l.Download,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsxs)("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[(0,b.jsx)(g.Button,{variant:void 0===r?"default":"outline",size:"sm",onClick:()=>s(void 0),children:"All"}),(0,b.jsx)(g.Button,{variant:"earned"===r?"default":"outline",size:"sm",onClick:()=>s("earned"),children:"Earned"}),(0,b.jsx)(g.Button,{variant:"spent"===r?"default":"outline",size:"sm",onClick:()=>s("spent"),children:"Spent"})]}),!u&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading transactions..."})]}),u&&0===u.length&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(i.Coins,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"No transactions yet"})]}),u&&u.length>0&&(0,b.jsx)("div",{className:"space-y-2",children:u.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${a.amount>0?"bg-green-100":"bg-red-100"}`,children:a.amount>0?(0,b.jsx)(j.TrendingUp,{className:"w-5 h-5 text-green-600"}):(0,b.jsx)(k,{className:"w-5 h-5 text-red-600"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.formattedType}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:(0,p.formatDistanceToNow)(a._creationTime,{addSuffix:!0})})]})]}),(0,b.jsx)("div",{className:"text-right flex-shrink-0 ml-4",children:(0,b.jsxs)("p",{className:`font-bold ${a.amount>0?"text-green-600":"text-red-600"}`,children:[a.amount>0?"+":"",a.amount]})})]},a._id))})]})]})]})})]})}a.s(["default",()=>q],1618)}];

//# sourceMappingURL=_4828b176._.js.map