module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},53569,a=>{"use strict";let b=(0,a.i(70106).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],53569)},85489,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11241);var d=a.i(96373),e=a.i(1322),f=a.i(65733),g=a.i(40695),h=a.i(5522),i=a.i(87682),j=a.i(46143),k=a.i(53569),l=a.i(63588);function m({open:a,onOpenChange:m,userId:n}){let[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("4"),[s,t]=(0,c.useState)("professional"),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),A=(0,d.useMutation)(e.api.aiSharing.shareConversation),B=(0,d.useQuery)(e.api.aiSharing.getShareablePreview,a?{userId:n,messageCount:parseInt(q)}:"skip"),C=async()=>{if(o.length<10||o.length>200)return void z("Title must be 10-200 characters");z(null),x(!0);try{(await A({userId:n,title:o.trim(),messageCount:parseInt(q),lifeDimension:s,isAnonymous:u})).success&&(p(""),r("4"),t("professional"),v(!1),m(!1))}catch(a){console.error("Share error:",a),z(a.message||"Failed to share conversation")}finally{x(!1)}};return(0,b.jsx)(f.Dialog,{open:a,onOpenChange:m,children:(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsxs)(f.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Share2,{className:"w-5 h-5 text-purple-600"}),"Share AI Conversation"]}),(0,b.jsx)(f.DialogDescription,{children:"Share your AI assistant conversation with the community"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Title * (10-200 characters)"}),(0,b.jsx)(h.Input,{placeholder:"e.g., 'Career advice for switching to tech'",value:o,onChange:a=>p(a.target.value),maxLength:200}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[o.length,"/200 characters"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Number of Messages to Share"}),(0,b.jsxs)(i.Select,{value:q,onValueChange:r,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select message count"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"2",children:"Last 2 messages"}),(0,b.jsx)(i.SelectItem,{value:"4",children:"Last 4 messages"}),(0,b.jsx)(i.SelectItem,{value:"6",children:"Last 6 messages"}),(0,b.jsx)(i.SelectItem,{value:"8",children:"Last 8 messages"}),(0,b.jsx)(i.SelectItem,{value:"10",children:"Last 10 messages"})]})]})]}),B&&B.length>0&&(0,b.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50 max-h-60 overflow-y-auto",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:"Preview:"}),(0,b.jsx)("div",{className:"space-y-2",children:B.map((a,c)=>(0,b.jsxs)("div",{className:"text-xs",children:[(0,b.jsxs)("span",{className:"font-semibold",children:["user"===a.role?"You":"Aurora AI",":"]})," ",(0,b.jsxs)("span",{className:"text-gray-700",children:[a.content.substring(0,100),a.content.length>100?"...":""]})]},c))})]}),B&&0===B.length&&(0,b.jsxs)("div",{className:"border rounded-lg p-4 bg-yellow-50 text-yellow-800 text-sm",children:[(0,b.jsx)(l.MessageSquare,{className:"w-4 h-4 inline mr-2"}),"You need to have a conversation with the AI assistant first before sharing."]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Category *"}),(0,b.jsxs)(i.Select,{value:s,onValueChange:t,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select a category"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"professional",children:"Professional"}),(0,b.jsx)(i.SelectItem,{value:"social",children:"Social"}),(0,b.jsx)(i.SelectItem,{value:"daily",children:"Daily Life"}),(0,b.jsx)(i.SelectItem,{value:"travel",children:"Travel"}),(0,b.jsx)(i.SelectItem,{value:"financial",children:"Financial"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(j.Checkbox,{id:"anonymous",checked:u,onCheckedChange:a=>v(a)}),(0,b.jsx)("label",{htmlFor:"anonymous",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Share anonymously"})]}),y&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:y})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>m(!1),disabled:w,children:"Cancel"}),(0,b.jsx)(g.Button,{onClick:C,disabled:w||o.length<10||!B||0===B.length,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:w?"Sharing...":"Share Conversation"})]})]})})}var n=a.i(46893),o=a.i(7706),p=a.i(92759),q=a.i(8406),r=a.i(96221);function s(){let[a,f]=(0,c.useState)(null),[h,i]=(0,c.useState)(""),[j,l]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),u=(0,c.useRef)(null),v=(0,d.useAction)(e.api.ai.chat);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/auth/me"),b=await a.json();b.userId&&f(b.userId)}catch(a){console.error("Error getting user:",a)}})()},[]);let w=(0,d.useQuery)(e.api.ai.getHistory,a?{userId:a,limit:50}:"skip"),x=(0,d.useQuery)(e.api.users.getUser,a?{userId:a}:"skip");(0,c.useEffect)(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[w]);let y=async()=>{if(h.trim()&&a&&!j){i(""),l(!0);try{await v({userId:a,message:h})}catch(a){console.error("Chat error:",a),alert("Failed to send message. Please try again.")}finally{l(!1)}}};return(0,b.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white border-b",children:(0,b.jsx)("div",{className:"px-4 sm:px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,b.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(q.Sparkles,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"AI Assistant"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Get personalized career advice"})]})]}),w&&w.length>=2&&(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>t(!0),className:"flex-shrink-0",children:[(0,b.jsx)(k.Share2,{className:"w-4 h-4 mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Share"})]})]})})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 sm:py-6",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto space-y-4 sm:space-y-6",children:[(!w||0===w.length)&&(0,b.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(q.Sparkles,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold mb-2",children:["Hi ",x?.name&&"null"!==x.name?x.name.split(" ")[0]:"there","! ðŸ‘‹"]}),(0,b.jsx)("p",{className:"text-gray-700 mb-4",children:"I'm Aurora, your AI assistant. I'm here to help you with:"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,b.jsx)("li",{children:"â€¢ Career advice and job search strategies"}),(0,b.jsx)("li",{children:"â€¢ Safety recommendations for workplaces and locations"}),(0,b.jsx)("li",{children:"â€¢ Navigating opportunities on the platform"}),(0,b.jsx)("li",{children:"â€¢ Tips on earning more credits"}),(0,b.jsx)("li",{children:"â€¢ Any questions about your career journey"})]}),(0,b.jsx)("p",{className:"text-gray-700 mt-4",children:"What would you like to know?"})]})]})}),w?.map((a,c)=>(0,b.jsxs)("div",{className:`flex items-start gap-2 sm:gap-4 ${"user"===a.role?"flex-row-reverse":""}`,children:["assistant"===a.role?(0,b.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(q.Sparkles,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}):(0,b.jsx)(o.Avatar,{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10",children:(0,b.jsx)(o.AvatarFallback,{className:"text-xs sm:text-sm",children:x?.name?.charAt(0).toUpperCase()||"U"})}),(0,b.jsx)("div",{className:`rounded-lg p-3 sm:p-4 max-w-[85%] sm:max-w-[80%] ${"user"===a.role?"bg-purple-600 text-white":"bg-white shadow-sm"}`,children:(0,b.jsx)("p",{className:"whitespace-pre-wrap text-sm sm:text-base",children:a.content})})]},c)),j&&(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(q.Sparkles,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Loader2,{className:"w-4 h-4 animate-spin"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Aurora is thinking..."})]})})]}),(0,b.jsx)("div",{ref:u})]})}),(0,b.jsx)("div",{className:"bg-white border-t p-4",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(n.Textarea,{value:h,onChange:a=>i(a.target.value),onKeyPress:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),y())},placeholder:"Ask me anything about your career, safety, or opportunities...",className:"flex-1 min-h-[60px] max-h-[200px]",disabled:j}),(0,b.jsx)(g.Button,{onClick:y,disabled:!h.trim()||j,size:"lg",className:"px-6",children:j?(0,b.jsx)(r.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsx)(p.Send,{className:"w-5 h-5"})})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})}),a&&(0,b.jsx)(m,{open:s,onOpenChange:t,userId:a})]})}a.s(["default",()=>s],85489)}];

//# sourceMappingURL=_6c6c5dee._.js.map