module.exports=[81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("label",{ref:e,className:(0,d.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...c}));e.displayName="Label",a.s(["Label",()=>e])},63519,a=>{"use strict";let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],63519)},59075,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11241);var d=a.i(96373),e=a.i(1322),f=a.i(3130),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(73570),k=a.i(15618),l=a.i(81560),m=a.i(63519),n=a.i(46842),o=a.i(3314);let p=(0,a.i(70106).default)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var q=a.i(54906);function r(){let a=(0,d.useQuery)(e.api.emergency.getEmergencyContacts),r=(0,d.useQuery)(e.api.emergency.getMyEmergencyAlerts),s=(0,d.useMutation)(e.api.emergency.saveEmergencyContact),t=(0,d.useMutation)(e.api.emergency.deleteEmergencyContact),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)({name:"",phoneNumber:"",relationship:"",priority:1}),A=async()=>{if(!y.name||!y.phoneNumber)return void alert("Please fill in name and phone number");try{await s(y),z({name:"",phoneNumber:"",relationship:"",priority:1}),v(!1)}catch(a){alert(a.message)}},B=async a=>{confirm("Are you sure you want to remove this emergency contact?")&&await t({contactId:a})};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-24",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white",children:(0,b.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(o.Shield,{className:"w-8 h-8"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Aurora Guardian"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-red-100",children:"Emergency Safety System"})]})]})})}),(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 max-w-4xl",children:[(0,b.jsx)(f.Card,{className:"mb-6 border-yellow-400 bg-yellow-50",children:(0,b.jsx)(f.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p,{className:"w-5 h-5 text-yellow-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-yellow-900",children:"Test Mode"}),(0,b.jsx)("p",{className:"text-sm text-yellow-700",children:"Practice using the panic button without sending real alerts"})]})]}),(0,b.jsx)(g.Button,{variant:w?"default":"outline",onClick:()=>x(!w),className:w?"bg-yellow-600 hover:bg-yellow-700":"",children:w?"ON":"OFF"})]})})}),(0,b.jsxs)(f.Card,{className:"mb-6",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Emergency Contacts"}),a&&a.length<5&&(0,b.jsxs)(g.Button,{size:"sm",onClick:()=>v(!0),disabled:u,children:[(0,b.jsx)(k.Plus,{className:"w-4 h-4 mr-2"}),"Add Contact"]})]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Add up to 5 emergency contacts who will be notified when you trigger an alert. They will receive WhatsApp messages with your location."}),u&&(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"name",children:"Name *"}),(0,b.jsx)(h.Input,{id:"name",value:y.name,onChange:a=>z({...y,name:a.target.value}),placeholder:"John Doe"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"phone",children:"WhatsApp Number *"}),(0,b.jsx)(h.Input,{id:"phone",type:"tel",value:y.phoneNumber,onChange:a=>z({...y,phoneNumber:a.target.value}),placeholder:"+1234567890"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"relationship",children:"Relationship"}),(0,b.jsx)(h.Input,{id:"relationship",value:y.relationship,onChange:a=>z({...y,relationship:a.target.value}),placeholder:"Friend, Family, Partner, etc."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"priority",children:"Priority (1-5)"}),(0,b.jsx)(h.Input,{id:"priority",type:"number",min:"1",max:"5",value:y.priority,onChange:a=>z({...y,priority:parseInt(a.target.value)||1})}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers are notified first"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Button,{onClick:A,className:"flex-1",children:"Save Contact"}),(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>{v(!1),z({name:"",phoneNumber:"",relationship:"",priority:1})},children:"Cancel"})]})]}),a&&0===a.length&&!u&&(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(n.User,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,b.jsx)("p",{children:"No emergency contacts added yet"}),(0,b.jsx)("p",{className:"text-sm",children:"Add contacts to enable emergency alerts"})]}),(0,b.jsx)("div",{className:"space-y-3",children:a?.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(n.User,{className:"w-5 h-5 text-red-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(m.Phone,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.phoneNumber}),a.relationship&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:a.relationship})]})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Priority: ",a.priority]})]})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>B(a._id),children:(0,b.jsx)(l.Trash2,{className:"w-4 h-4 text-red-600"})})]},a._id))})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Alert History"})}),(0,b.jsxs)(f.CardContent,{children:[r&&0===r.length&&(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(j.AlertTriangle,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,b.jsx)("p",{children:"No emergency alerts triggered"})]}),(0,b.jsx)("div",{className:"space-y-3",children:r?.map(a=>(0,b.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${"active"===a.status?"bg-red-100 text-red-700":"resolved"===a.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.status.toUpperCase()}),(0,b.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:a.alertType})]}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:new Date(a._creationTime).toLocaleString()})]}),a.location.address&&(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["ðŸ“ ",a.location.address]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[a.notifiedContacts.length," contacts notified â€¢"," ",a.nearbyUsersNotified," nearby users alerted"]}),a.notes&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic",children:a.notes})]},a._id))})]})]})]}),(0,b.jsx)(q.PanicButton,{testMode:w})]})}a.s(["default",()=>r],59075)}];

//# sourceMappingURL=_1118f04e._.js.map