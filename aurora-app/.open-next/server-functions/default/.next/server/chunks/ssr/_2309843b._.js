module.exports=[60246,a=>{"use strict";let b=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],60246)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return h}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773);function h({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}return 0===c.length?null:(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20442,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11241);var d=a.i(96373),e=a.i(1322),f=a.i(40695),g=a.i(54161),h=a.i(64791),i=a.i(60246),j=a.i(25015),k=a.i(8406),l=a.i(96221),m=a.i(38246),n=a.i(50944);let o=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[86838]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,b.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-purple-600"})})});function p(){let[a,l]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),r=(0,n.useRouter)();(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/auth/me"),b=await a.json();b.userId?l(b.userId):r.push("/")}catch(a){console.error("Error getting user:",a),r.push("/")}})()},[r]);let s=(0,d.useQuery)(e.api.livestreams.getLivestreams,{limit:20});return p&&a?(0,b.jsx)(o,{livestreamId:p,userId:a,onClose:()=>q(null)}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white border-b sticky top-0 z-40 shadow-sm",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,b.jsx)(h.Video,{className:"w-6 h-6 text-purple-600"}),"Aurora Live"]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time safety streams from the community"})]}),(0,b.jsx)(m.default,{href:"/live/broadcast",children:(0,b.jsxs)(f.Button,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[(0,b.jsx)(h.Video,{className:"w-4 h-4 mr-2"}),"Go Live"]})})]})})}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[void 0===s&&(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow animate-pulse",children:[(0,b.jsx)("div",{className:"aspect-video bg-gray-200"}),(0,b.jsxs)("div",{className:"p-4 space-y-3",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},a))}),s&&0===s.length&&(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(h.Video,{className:"w-12 h-12 text-purple-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"No Live Streams"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"No one is streaming right now. Be the first to share your experience with the community!"}),(0,b.jsx)(m.default,{href:"/live/broadcast",children:(0,b.jsxs)(f.Button,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[(0,b.jsx)(h.Video,{className:"w-5 h-5 mr-2"}),"Start Your First Stream"]})})]}),s&&s.length>0&&(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(a=>(0,b.jsxs)("button",{onClick:()=>q(a._id),className:"bg-white rounded-lg overflow-hidden shadow hover:shadow-xl transition-shadow text-left",children:[(0,b.jsxs)("div",{className:"relative aspect-video bg-gradient-to-br from-purple-900 to-pink-900",children:[(0,b.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,b.jsxs)("div",{className:"bg-red-600 px-3 py-1 rounded-full flex items-center gap-2 animate-pulse",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"}),(0,b.jsx)("span",{className:"text-white font-bold text-xs",children:"LIVE"})]})}),(0,b.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,b.jsxs)("div",{className:"bg-black/70 backdrop-blur-sm px-3 py-1 rounded-full flex items-center gap-1",children:[(0,b.jsx)(i.Users,{className:"w-3 h-3 text-white"}),(0,b.jsx)("span",{className:"text-white font-medium text-xs",children:a.viewerCount})]})}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 hover:bg-black/30 transition-colors",children:(0,b.jsx)("div",{className:"w-16 h-16 bg-white/90 rounded-full flex items-center justify-center",children:(0,b.jsx)(j.Play,{className:"w-8 h-8 text-purple-600 ml-1"})})}),a.isEmergency&&(0,b.jsx)("div",{className:"absolute bottom-3 left-3 z-10",children:(0,b.jsx)(g.Badge,{className:"bg-red-600 text-white",children:"ðŸš¨ Emergency"})})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:a.title}),a.host&&(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:a.host.name[0].toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.host.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Trust Score: ",a.host.trustScore]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(i.Users,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:[a.viewerCount," watching"]}),a.safetyMode&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.Sparkles,{className:"w-3 h-3"}),"Safety Mode"]})]})]})]})]},a._id))})]})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=_2309843b._.js.map